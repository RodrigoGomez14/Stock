(this["webpackJsonpcentral-de-stock"]=this["webpackJsonpcentral-de-stock"]||[]).push([[0],{105:function(e,a,t){e.exports=t.p+"static/media/logo.0024a6bc.png"},130:function(e,a,t){e.exports=t.p+"static/media/Home.a273eee2.png"},131:function(e,a,t){e.exports=t.p+"static/media/Valvulas.d6b035d7.png"},159:function(e,a,t){e.exports=t(191)},164:function(e,a,t){},19:function(e,a,t){e.exports=t.p+"static/media/Empty.0b4b4cfd.png"},191:function(e,a,t){"use strict";t.r(a);var n,r,c=t(0),o=t.n(c),l=t(26),i=t.n(l),s=(t(164),t(15)),u=t.n(s),m=t(30),d=t(21),p=t(121),E=t(122),h=t(134),f=t(133),b=t(8),v=t(70),g=t(1),j=t(13),O=t(226),y=t(25),x=t(228),C=t(230),D=t(193),k=t(51),S=t(231),N=t(232),P=t(3),I=Object(O.a)((function(e){var a;return a={appBar:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},menuButton:{},title:{flexGrow:1,textAlign:"center"},avatar:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},danger:{color:e.palette.error.main}},Object(y.a)(a,"appBar",{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:e.spacing(8)}),Object(y.a)(a,"appBarShift",{marginRight:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}),Object(y.a)(a,"menuButton",{marginRight:18}),Object(y.a)(a,"hide",{display:"none"}),a})),w=function(e){var a=e.page,t=e.history,n=e.setMenuOpened,r=e.menuOpened,c=e.blockGoBack,l=e.setBlockGoBack,i=I();return o.a.createElement(x.a,{position:"fixed",className:Object(P.a)(i.appBar,Object(y.a)({},i.appBarShift,r))},o.a.createElement(C.a,null,!r&&"Menu"!==a&&o.a.createElement(D.a,{edge:"end",onClick:function(e){c?l(!0):t.goBack()},color:"inherit","aria-label":"menu"},o.a.createElement(S.a,null)),o.a.createElement(k.a,{variant:"h6",className:i.title},a),!r&&o.a.createElement(D.a,{edge:"end",className:Object(P.a)(i.menuButton,Object(y.a)({},i.hide,r)),onClick:function(e){n(!0)},color:"inherit","aria-label":"menu"},o.a.createElement(N.a,null))))},q=t(7),F=t.n(q),T=t(318),B=t(235),A=t(236),L=t(195),H=t(237),M=t(239),$=t(234),z=t(238),G=t(240),V=t(241),W=t(242),R=t(243),Y=t(244),U=t(245),J=t(246),X=t(247),K=t(248),Q=t(249),Z=t(105),_=t.n(Z),ee=Object(O.a)((function(e){return{link:{textDecoration:"none !important",color:e.palette.primary.contrastText},drawer:{width:"240px",flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:"240px",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.down("xs"),{width:0}),toolbar:Object(m.a)({display:"flex",alignItems:"center",height:e.spacing(8),justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar),buttonSignOut:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"}}})),ae=function(e,a){return e==a||("Inicio"==e&&""==a||("Productos"===e&&("Nuevo-Producto"==a||"Editar-Producto"==a)||("Pedidos"===e&&("Enviar-Pedido"==a||"Editar-Pedido"==a)||("Entregas"===e&&("Recibir-Entrega"==a||"Editar-Entrega"==a)||("Clientes"===e&&("Nuevo-Cliente"==a||"Editar-Cliente"==a||"Cliente"==a.slice(0,7)||"Historial-Cliente"==a.slice(0,17))||("Proveedores"===e&&("Nuevo-Proveedor"==a||"Editar-Proveedor"==a||"Proveedor"==a.slice(0,9)||"Historial-Proveedor"==a.slice(0,19))||("Expresos"===e&&("Nuevo-Expreso"==a||"Editar-Expreso"==a||"Expreso"==a.slice(0,7))||("Cheques"===e&&("Depositar-Cheque"==a||"Cheques-Personales"==a)||"Cadenas De Produccion"===e&&("Historial De Produccion"==a.slice(0,23)||"Finalizar Proceso"==a)))))))))},te=function(e){var a,t,n=e.menuOpened,r=e.setMenuOpened,c=e.history,l=(e.page,ee());return o.a.createElement(T.a,{anchor:"right",variant:"permanent",className:Object(P.a)(l.drawer,(a={},Object(y.a)(a,l.drawerOpen,n),Object(y.a)(a,l.drawerClose,!n),a)),classes:{paper:Object(P.a)((t={},Object(y.a)(t,l.drawerOpen,n),Object(y.a)(t,l.drawerClose,!n),t))},open:n,onClose:function(e){r(!1)}},o.a.createElement("div",{className:l.toolbar},o.a.createElement(D.a,{onClick:function(){r(!1)}},o.a.createElement($.a,null))),o.a.createElement(B.a,null),o.a.createElement(A.a,null,o.a.createElement(b.b,{className:l.link,to:"/"},o.a.createElement(L.a,{button:!0,key:"Inicio",selected:ae("Inicio",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(z.a,null)),o.a.createElement(M.a,{primary:"Inicio"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Productos"},o.a.createElement(L.a,{button:!0,key:"Productos",selected:ae("Productos",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(G.a,null)),o.a.createElement(M.a,{primary:"Productos"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Pedidos"},o.a.createElement(L.a,{button:!0,key:"Pedidos",selected:ae("Pedidos",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(V.a,null)),o.a.createElement(M.a,{primary:"Pedidos"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Entregas"},o.a.createElement(L.a,{button:!0,key:"Entregas",selected:ae("Entregas",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(V.a,null)),o.a.createElement(M.a,{primary:"Entregas"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Clientes"},o.a.createElement(L.a,{button:!0,key:"Clientes",selected:ae("Clientes",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(W.a,null)),o.a.createElement(M.a,{primary:"Clientes"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Proveedores"},o.a.createElement(L.a,{button:!0,key:"Proveedores",selected:ae("Proveedores",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(W.a,null)),o.a.createElement(M.a,{primary:"Proveedores"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Expresos"},o.a.createElement(L.a,{button:!0,key:"Expresos",selected:ae("Expresos",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(R.a,null)),o.a.createElement(M.a,{primary:"Expresos"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Deudas"},o.a.createElement(L.a,{button:!0,key:"Deudas",selected:ae("Deudas",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(Y.a,null)),o.a.createElement(M.a,{primary:"Deudas"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Cheques"},o.a.createElement(L.a,{button:!0,key:"Cheques",selected:ae("Cheques",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(U.a,null)),o.a.createElement(M.a,{primary:"Cheques"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Cuentas-Bancarias"},o.a.createElement(L.a,{button:!0,key:"Cuentas Bancarias",selected:ae("Cuentas-Bancarias",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(J.a,null)),o.a.createElement(M.a,{primary:"Cuentas Bancarias"}))),o.a.createElement(B.a,null)),o.a.createElement(A.a,{className:l.buttonSignOut},o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Cadenas-De-Produccion"},o.a.createElement(L.a,{button:!0,key:"Cadenas De Produccion",selected:ae("Cadenas-De-Produccion",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(X.a,null)),o.a.createElement(M.a,{primary:"Cadenas de Produccion"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Nuevo-Pedido"},o.a.createElement(L.a,{button:!0,key:"Nuevo Pedido",selected:ae("Nuevo-Pedido",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(K.a,null)),o.a.createElement(M.a,{primary:"Nuevo Pedido"}))),o.a.createElement(B.a,null),o.a.createElement(b.b,{className:l.link,to:"/Nueva-Entrega"},o.a.createElement(L.a,{button:!0,key:"Nueva Entrega",selected:ae("Nueva-Entrega",c.location.pathname.slice(1))},o.a.createElement(H.a,null,o.a.createElement(K.a,null)),o.a.createElement(M.a,{primary:"Nueva Entrega"}))),o.a.createElement(B.a,null),o.a.createElement(L.a,{button:!0,key:"Cerrar sesion",onClick:function(){c.replace("/"),Object(q.auth)().signOut()}},o.a.createElement(H.a,null,o.a.createElement(Q.a,{color:"error"})),o.a.createElement(M.a,{primary:"Cerrar sesion"}))))},ne=t(250),re=t(251),ce=t(252),oe=t(253),le=t(254),ie=function(e){var a=e.blockGoBack,t=e.setBlockGoBack,n=e.history;return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Salir?"),o.a.createElement(ce.a,null,"Si continua se perderan los datos ingresados"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){t(!1),n.goBack()}},"Continuar")))},se=Object(O.a)((function(e){return{drawer:{maxWidth:"300px",height:"100%"},icon:{color:e.palette.primary.contrastText},text:{color:e.palette.primary.contrastText},app:{minHeight:"100vh",height:"100vh",maxHeight:"100vh",display:"flex",textAlign:"center",flexDirection:"column",alignItems:"center",justifyContent:"start",fontSize:"calc(10px + 2vmin)",color:"white"}}})),ue=function(e){var a=e.page,t=e.children,n=e.history,r=e.hiddenAppBar,l=e.blockGoBack,i=(e.user,se(),Object(c.useState)(!1)),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=p[0],h=p[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(ie,{blockGoBack:E,setBlockGoBack:h,history:n}),!r&&o.a.createElement(w,{page:a,history:n,setMenuOpened:m,menuOpened:u,blockGoBack:l,setBlockGoBack:h}),t,!r&&o.a.createElement(te,{menuOpened:u,setMenuOpened:m,history:n,blockGoBack:l,setBlockGoBack:h,page:[a]}))},me=t(101),de=t(255),pe=t(320),Ee=t(263),he=function(e){var a=2;try{a=Math.abs(a),a=isNaN(a)?2:a;var t=e<0?"-":"",n=parseInt(e=Math.abs(Number(e)||0).toFixed(a)).toString(),r=n.length>3?n.length%3:0;return t+(r?n.substr(0,r)+".":"")+n.substr(r).replace(/(\d{3})(?=\d)/g,"$1.")+(a?","+Math.abs(e-n).toFixed(a).slice(2):"")}catch(c){console.log(c)}},fe=function(){var e=new Date;return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())},be=function(){var e=new Date;return"".concat(["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][e.getDay()]," ").concat(e.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()]," de ").concat(e.getFullYear())},ve=function(e){return je(e.slice(1).toString())},ge=function(e){var a=je(e.slice(1).toString());return Oe(a)},je=function(e){for(var a=e;-1!=a.indexOf("%20");)a=a.slice(0,a.indexOf("%20"))+" "+a.slice(a.indexOf("%20")+3);return a},Oe=function(e){for(var a=e;-1!=a.indexOf("%C2%BD");)a=a.slice(0,a.indexOf("%C2%BD"))+" \xbd"+a.slice(a.indexOf("%C2%BD")+6);for(;-1!=a.indexOf("%C2%BC");)a=a.slice(0,a.indexOf("%C2%BC"))+" \xbc"+a.slice(a.indexOf("%C2%BC")+6);for(;-1!=a.indexOf("%C2%BE");)a=a.slice(0,a.indexOf("%C2%BE"))+" \xbe"+a.slice(a.indexOf("%C2%BE")+6);for(;-1!=a.indexOf("%22");)a=a.slice(0,a.indexOf("%22"))+'"'+a.slice(a.indexOf("%22")+3);return a},ye=function(e){return Ne[(new Date).getMonth()]},xe=function(e){var a=[];return console.log(e),a[0]={nombre:"Oficial Compra",valor:parseFloat(e[0].casa.compra)},a[1]={nombre:"Oficial Promedio",valor:(parseFloat(e[0].casa.compra)+parseFloat(e[0].casa.venta))/2},a[2]={nombre:"Blue Compra",valor:parseFloat(e[1].casa.compra)},a[3]={nombre:"Blue Venta",valor:parseFloat(e[1].casa.venta)},a[4]={nombre:"Blue Promedio",valor:(parseFloat(e[1].casa.compra)+parseFloat(e[1].casa.venta))/2},a[5]={nombre:"Oficial Venta",valor:parseFloat(e[0].casa.venta)},a},Ce=function(e){var a=[];return e&&Object.keys(e).map((function(t){e[t].isSubproducto||a.push(e[t])})),console.log(a),a},De=function(e){var a=[];return e&&Object.keys(e).map((function(t){e[t].isSubproducto||a.push({nombre:e[t].nombre,precio:e[t].precio})})),a},ke=function(e){var a=[];return e&&Object.keys(e).map((function(t){e[t].isSubproducto&&a.push(e[t])})),a},Se=function(e){var a=[];return e&&Object.keys(e).map((function(t){a.push(e[t])})),a},Ne=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Pe=Object(O.a)((function(e){return{cardBgGreen:{backgroundColor:e.palette.success.main},cardBgRed:{backgroundColor:e.palette.danger.main},content:{flexGrow:1,height:"calc(100vh - 64px)",marginTop:e.spacing(8),marginRight:e.spacing(7),paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),backgroundColor:e.palette.secondary.main,overflow:"scroll"},stepper:{backgroundColor:"transparent"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},display:{display:"block"},displayNone:{display:"none"},paperCliente:{width:"300px",height:"200px",overflow:"scroll"},containerDetallesCliente:{overflow:"scroll",flexWrap:"nowrap"},titleDetallesCard:{backgroundColor:e.palette.primary.main},cardDeudaGreen:{backgroundColor:e.palette.success.main,width:"100%"},cardDeudaRed:{backgroundColor:e.palette.danger.main,width:"100%"},cardCliente:{backgroundColor:e.palette.primary.main},titleCardCliente:{color:e.palette.primary.contrastText,textDecoration:"none",textAlign:"center"},chipCardDangerCliente:{backgroundColor:e.palette.danger.main,cursor:"pointer"},chipCardSuccessCliente:{backgroundColor:e.palette.success.main,cursor:"pointer"},cardPedidoHeader:{backgroundColor:e.palette.primary.main},cardPedidoActions:{backgroundColor:e.palette.primary.dark},containerProductos:{overflow:"scroll",flexWrap:"nowrap"},cardDeudaRedCardPedido:{backgroundColor:e.palette.danger.main},cardDeudaGreenCardPedido:{backgroundColor:e.palette.success.main},alertPedidoFacturado:{width:"100%",color:"#000 !important"},alertEnvioInconveniente:{width:"100%",color:"#000 !important"},cardTotalPedidoDanger:{padding:"15px",backgroundColor:e.palette.danger.main},cardTotalPedidoSuccess:{padding:"15px",backgroundColor:e.palette.success.main},cardEnvioHeader:{backgroundColor:e.palette.primary.main},cardEnvioHeaderSuccess:{backgroundColor:e.palette.success.main},cardEnvioHeaderDanger:{backgroundColor:e.palette.danger.dark},cardEnvioHeaderWarning:{backgroundColor:e.palette.warning.main,color:"#000 !important"},cardEnvioHeaderTextSuccess:{color:"#fff",textDecoration:"none"},cardEnvioHeaderTextWarning:{color:"#000",textDecoration:"none"},cardEnvioHeaderIconSuccess:{color:"#fff"},cardEnvioHeaderIconWarning:{color:"#000"},cardProducto:{backgroundColor:e.palette.primary.main,width:"300px"},cardProductoChipAdeudado:{backgroundColor:e.palette.danger.main,color:e.palette.danger.contrastText},cardProductoChipAfavor:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText},paperTotalEnviarPedido:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText,padding:"20px"},totalProductoNuevoPedido:{backgroundColor:e.palette.primary.main,width:"100%"},paperTotalRecibirEntrega:{backgroundColor:e.palette.danger.main,color:e.palette.danger.contrastText,padding:"20px"},iconLabelSelected:{backgroundColor:"".concat(e.palette.primary.main," !important")},cardChequeHeader:{},cardChequeHeaderBaja:{backgroundColor:e.palette.danger.light},cardChequeEnviadoHeader:{backgroundColor:e.palette.success.dark,color:"#000"},cardHeaderChequeIconDanger:{color:"#000"},cardHeaderChequeIconSuccess:{color:"#fff"},cardChequeChip:{color:e.palette.success.contrastText},alertCheque:{width:"100%"},CardHeaderGrupoCheques:{backgroundColor:e.palette.primary.main,padding:e.spacing(2)},CardMonthCheques:{width:"100%",backgroundColor:e.palette.primary.main},cardCadena:{width:"100%"},cardHeaderCadena:{backgroundColor:e.palette.primary.main},cardCadenaStep:{width:"300px"},cardHeaderCadenaStepActive:{backgroundColor:e.palette.primary.main},cardHeaderCadenaStepGreen:{backgroundColor:e.palette.success.main},tabPanelDeuda:{width:"100% !important"},cardHeaderStep:{backgroundColor:e.palette.primary.main},activeBankAccountCard:{backgroundColor:e.palette.success.main},disabledBankAccountCard:{},CarouselCotizaciones:{height:"100px"},PaperCarouselCotizaciones:{height:"90px",width:"250px"}}})),Ie=t(256),we=t(257),qe=t(135),Fe=t(260),Te=t(261),Be=t(319),Ae=t(258),Le=t(262),He=function(e){var a=e.datos,t=e.search,n=Pe(),r=Object(c.useState)(null),l=Object(g.a)(r,2),i=l[0],s=l[1];return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,style:t?-1==a.nombre.toLowerCase().search(t.toLowerCase())?{display:"none"}:{}:null},o.a.createElement(Ie.a,{className:n.cardCliente},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Cliente",search:"".concat(a.nombre)}},o.a.createElement(k.a,{variant:"h5",className:n.titleCardCliente},a.nombre)),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){s(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)}},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Editar-Cliente",search:a.nombre}},o.a.createElement(Fe.a,null,"Editar")),o.a.createElement(Fe.a,{className:n.deleteButton,onClick:function(){}},"Eliminar")))}),o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Historial-Cliente",search:a.nombre}},o.a.createElement(Be.a,{className:a.deuda>0?n.chipCardDangerCliente:n.chipCardSuccessCliente,variant:"outlined",icon:o.a.createElement(Le.a,null),label:a.deuda?he(a.deuda>=0?a.deuda:-a.deuda):he(0)}))))))},Me=t(19),$e=t.n(Me),ze=Object(j.b)((function(e){return{user:e.user,clientes:e.clientes}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1];return o.a.createElement(ue,{history:e.history,page:"Clientes",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{to:"/Nuevo-Cliente"},o.a.createElement(D.a,null,o.a.createElement(Ee.a,null)))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!e.clientes,label:"Buscar Cliente"}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:2},e.clientes?Object.keys(e.clientes).map((function(a){return o.a.createElement(He,{datos:e.clientes[a].datos,search:r})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Clientes Ingresados")))))))})),Ge=t(33),Ve=t(49),We=t(194),Re=t(278),Ye=t(317),Ue=t(312),Je=t(276),Xe=t(277),Ke=t(267),Qe=t(268),Ze=function(e){var a=e.deuda,t=e.id,n=e.generateChartDeudas,r=Pe();return o.a.createElement(Ie.a,{className:a>0?r.cardDeudaRed:r.cardDeudaGreen},o.a.createElement(we.a,{title:"$ ".concat(he(a>=0?a:-a)),subheader:"Balance - Ultimos 6 Meses",action:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{to:{pathname:"/Historial-Cliente",search:t,props:{tipo:"clientes"}}},o.a.createElement(D.a,{size:"small"},o.a.createElement(Ke.a,null))),o.a.createElement(b.b,{to:{pathname:"/Nuevo-Pago-Cliente",search:t}},o.a.createElement(D.a,{size:"small"},o.a.createElement(Qe.a,null))))}),o.a.createElement(Te.a,null,n()))},_e=t(197),ea=t(269),aa=t(270),ta=function(e){var a=e.producto,t=e.factura,n=Pe(),r=Object(c.useState)(!1),l=Object(g.a)(r,2),i=l[0],s=l[1],u=Object(c.useState)(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],E=Object(c.useState)(null),h=Object(g.a)(E,2),f=h[0],b=h[1],v=function(){if(a.discount){if(d){var e=a.precio/1.21;return console.log(e/(1-a.discount/100)),e/(1-a.discount/100)}return a.precio/(1-a.discount/100)}if(d){var t=a.precio/1.21;return console.log(t/(1+a.increase/100)),t/(1+a.increase/100)}return a.precio/(1+a.increase/100)};return o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ie.a,{style:{width:"100%"}},o.a.createElement(we.a,{className:n.titleDetallesCard,title:"".concat(a.cantidad," - ").concat(a.producto),action:o.a.createElement(o.a.Fragment,null,a.discount||a.increase?o.a.createElement(D.a,{onClick:function(){s(!i)}},i?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)):null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){b(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:function(){b(null)}},o.a.createElement(Fe.a,{onClick:function(){p(!d)}},d?"Ver Con IVA":"Ver Sin IVA"))):null),subheader:"$ ".concat(he(a.precio*a.cantidad/(t&&d?1.21:1))," ($").concat(he(a.precio/(t&&d?1.21:1))," [").concat(a.cotizacion?"".concat(a.precio/(t&&d?1.21:1)/a.cotizacion.valor,"USD x ").concat(he(a.cotizacion.valor)):null,"] c/u)")}),a.discount||a.increase?o.a.createElement(_e.a,{in:i,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(v())),secondary:"Precio Anterior "})),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(a.discount?"-":"+").concat(he(v()*(a.discount?a.discount:a.increase)/100)),secondary:"$ Modificado"})),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.discount?"- ".concat(a.discount,"%"):"+ ".concat(a.increase,"%"),secondary:"% modificado"}))))):null))},na=function(e){var a=e.pedido,t=e.id,n=e.searchPedido,r=e.searchRemito,l=Pe(),i=Object(c.useState)(null),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=(p[0],p[1],Object(c.useState)(!1)),h=Object(g.a)(E,2),f=h[0],v=h[1],j=Object(c.useState)(!1),O=Object(g.a)(j,2),y=(O[0],O[1],Object(c.useState)(!1)),x=Object(g.a)(y,2);x[0],x[1];return o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4,className:r?(console.log(t.search(r)),-1==t.search(r)?l.displayNone:l.display):n?n?-1==t.search(n)?l.displayNone:l.display:null:void 0},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:6,className:l.cardPedidoHeader},o.a.createElement(we.a,{className:l.header,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){v(!f)}},f?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)),o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){m(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:function(){m(null)}},o.a.createElement(Fe.a,null,"Editar"),o.a.createElement(Fe.a,{className:l.deleteButton,onClick:function(){}},"Eliminar"))),title:a.fecha,subheader:"$ ".concat(he(a.total)," ").concat(a.cotizacion?"(USD".concat(he(a.total/a.cotizacion.valor)," x ").concat(he(a.cotizacion.valor)," c/u)"):null)})),o.a.createElement(_e.a,{in:f,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12,spacing:2},a.metodoDeEnvio?"Particular"==a.metodoDeEnvio?null:o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:l.alertCheque},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Expreso",search:a.metodoDeEnvio.expreso,props:{remito:a.metodoDeEnvio.remito}}},"Enviado con ",a.metodoDeEnvio.expreso," Remito N\xba ",a.metodoDeEnvio.remito)))):null,a.metodoDePago.facturacion?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"info",className:l.alertPedidoFacturado},"Pedido Facturado")):null,a.articulos.map((function(e){return o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:2},o.a.createElement(ta,{producto:e,factura:a.metodoDePago.facturacion}))}))),o.a.createElement(A.a,null,o.a.createElement(B.a,null),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.pagado)),secondary:"Pagado"}),o.a.createElement(M.a,{primary:o.a.createElement(Be.a,{className:a.metodoDePago.adeudado>0?l.cardProductoChipAdeudado:l.cardProductoChipAfavor,label:"$ ".concat(he(a.metodoDePago.adeudado>0?a.metodoDePago.adeudado:-a.metodoDePago.adeudado))}),secondary:a.metodoDePago.adeudado>0?"Adeudado":"A favor"})),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.deudaPasada)),secondary:"Deuda Anterior"}),o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.deudaActualizada)),secondary:"Deuda Actualizada"})),o.a.createElement(B.a,null)),a.metodoDePago.pagado>0?o.a.createElement(Ie.a,null,o.a.createElement(we.a,{className:l.titleDetallesCard,title:"Detalles de pago"}),o.a.createElement(Te.a,null,o.a.createElement(A.a,null,a.metodoDePago.totalTransferencia?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.totalTransferencia)),secondary:"Transferencia cuenta ".concat(a.metodoDePago.cuentaTransferencia)})):null,a.metodoDePago.efectivo?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.efectivo)),secondary:"Efectivo"})):null,a.metodoDePago.chequesPersonales?o.a.createElement(o.a.Fragment,null,a.metodoDePago.efectivo?o.a.createElement(B.a,null):null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.totalChequesPersonales)),secondary:"".concat(a.metodoDePago.chequesPersonales.length," ").concat(a.metodoDePago.chequesPersonales.length>1?"Cheques":"Cheque")})),o.a.createElement(L.a,null,a.metodoDePago.chequesPersonales.map((function(e){return o.a.createElement(M.a,{primary:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Cheques-Personales",search:e}},"N\xb0 ",e)})})))):null,a.metodoDePago.cheques?o.a.createElement(o.a.Fragment,null,a.metodoDePago.efectivo?o.a.createElement(B.a,null):null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.metodoDePago.pagado-(a.metodoDePago.efectivo?a.metodoDePago.efectivo:0))),secondary:"".concat(a.metodoDePago.cheques.length," ").concat(a.metodoDePago.cheques.length>1?"Cheques":"Cheque")})),o.a.createElement(L.a,null,a.metodoDePago.cheques.map((function(e){return o.a.createElement(M.a,{primary:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Cheques",search:e}},"N\xb0 ",e)})})))):null))):null))))},ra=function(e){var a=e.pedidos,t=e.searchPedido,n=e.searchRemito,r=e.tipo,l=Pe(),i=Object(c.useState)(void 0),s=Object(g.a)(i,2),u=(s[0],s[1],Object(c.useState)(void 0)),m=Object(g.a)(u,2);m[0],m[1];return o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"Historial de Pedidos")),a?o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},a.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:l.CardMonthCheques},o.a.createElement(we.a,{title:"$ ".concat(he(e[1].total)),subheader:e[0]}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(e[1].months).reverse().map((function(a){return o.a.createElement(o.a.Fragment,null,0!==e[1].months[a].total?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,o.a.createElement(Ie.a,null,o.a.createElement(we.a,{title:"$ ".concat(he(e[1].months[a].total)),subheader:Ne[a-1]}))))):null,"pedido"==r?Object.keys(e[1].months[a].pedidos).map((function(r){return o.a.createElement(na,{searchRemito:n,searchPedido:t,pedido:e[1].months[a].pedidos[r],id:e[1].months[a].pedidos[r].idPedido})})):Object.keys(e[1].months[a].entregas).map((function(r){return o.a.createElement(na,{searchRemito:n,searchPedido:t,pedido:e[1].months[a].entregas[r],id:e[1].months[a].entregas[r].idEntrega})})))}))))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"El Cliente No Hizo Ningun Pedido"))))},ca=t(271),oa=t(272),la=t(273),ia=t(274),sa=t(275),ua=t(77),ma=t.n(ua),da=function(e){var a=e.dni,t=e.cuit,n=e.direcciones,r=e.telefonos,c=e.mails,l=e.infoExtra,i=e.expresos,s=Pe();return o.a.createElement(de.a,{container:!0,item:!0,xs:12,className:s.containerDetallesCliente,spacing:3,alignItems:"flex-start"},o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(ca.a,null)),o.a.createElement(M.a,{primary:"Datos Personales"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,null,a||t?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"DNI",secondary:a||"-"}))),t&&o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"CUIT",secondary:t||"-"}))))))),o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(oa.a,null)),o.a.createElement(M.a,{primary:"Direcciones"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{item:!0,xs:12},n?o.a.createElement(A.a,null,n.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"".concat(e.calleYnumero,", ").concat(e.ciudad,", ").concat(e.provincia,", ").concat(e.cp)}))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))))))),o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(la.a,null)),o.a.createElement(M.a,{primary:"Telefonos"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{item:!0,xs:12},r?o.a.createElement(A.a,null,r.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e.numero,secondary:e.nombre?e.nombre:"-"}))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))))))),o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(ia.a,null)),o.a.createElement(M.a,{primary:"Mails"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{item:!0,xs:12},c?o.a.createElement(A.a,null,c.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e.mail,secondary:e.nombre?e.nombre:"-"}))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))))))),o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(R.a,null)),o.a.createElement(M.a,{primary:"Expresos"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{item:!0,xs:12},i?o.a.createElement(A.a,null,i.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Expreso",search:e}},o.a.createElement(M.a,{primary:e})))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))))))),o.a.createElement(de.a,{item:!0,xs:10,md:4},o.a.createElement(me.a,{elevation:6,className:s.paperCliente},o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{xs:12},o.a.createElement(A.a,{className:s.titleDetallesCard},o.a.createElement(L.a,null,o.a.createElement(H.a,null,o.a.createElement(sa.a,null)),o.a.createElement(M.a,{primary:"Info Extra"}))),o.a.createElement(B.a,null)),o.a.createElement(de.a,{xs:12},l?o.a.createElement(A.a,null,l.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e}))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement("img",{src:ma.a,alt:"",height:"150px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"overline"},"No hay informacion"))))))))},pa=function(e){var a=e.open,t=e.setOpen,n=e.eliminarCliente;return o.a.createElement(ne.a,{open:a,maxWidth:"md",fullWidth:!0},o.a.createElement(re.a,null,"Desea eliminar el cliente?"),o.a.createElement(ce.a,{dividers:!0},o.a.createElement(k.a,{gutterBottom:!0},"Se eliminara de forma permanente toda la informacion, listado de pedidos, deuda e historial de pago.")),o.a.createElement(oe.a,null,o.a.createElement(le.a,{autoFocus:!0,onClick:function(){t(!1)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){t(!1),n()}},"Eliminar")))},Ea=t(22),ha=t.n(Ea),fa=Object(j.b)((function(e){return{user:e.user,clientes:e.clientes,photosList:e.photosList}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.clientes[ve(e.history.location.search)]),n=Object(g.a)(t,2),r=n[0],l=(n[1],Object(c.useState)("")),i=Object(g.a)(l,2),s=i[0],u=i[1],m=Object(c.useState)(!0),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(!1),f=Object(g.a)(h,2),v=f[0],j=f[1],O=Object(c.useState)(e.location.props?e.location.props.searchPedido:""),y=Object(g.a)(O,2),x=y[0],C=(y[1],Object(c.useState)(e.location.props?e.location.props.remito:"")),k=Object(g.a)(C,2),S=k[0],N=(k[1],Object(c.useState)(void 0)),P=Object(g.a)(N,2),I=P[0],w=P[1];Object(c.useEffect)((function(){var a={},t=ve(e.location.search);if(e.clientes[t].pedidos){Object.keys(e.clientes[t].pedidos).reverse().forEach((function(n){var r=e.clientes[t].pedidos[n].fecha.split("/")[2],c=e.clientes[t].pedidos[n].fecha.split("/")[1];a[r]||(a[r]={total:0,months:{1:{total:0,pedidos:[]},2:{total:0,pedidos:[]},3:{total:0,pedidos:[]},4:{total:0,pedidos:[]},5:{total:0,pedidos:[]},6:{total:0,pedidos:[]},7:{total:0,pedidos:[]},8:{total:0,pedidos:[]},9:{total:0,pedidos:[]},10:{total:0,pedidos:[]},11:{total:0,pedidos:[]},12:{total:0,pedidos:[]}}}),a[r].months[c].pedidos.push(e.clientes[t].pedidos[n]),a[r].months[c].total+=parseInt(e.clientes[t].pedidos[n].total?e.clientes[t].pedidos[n].total:0,10),a[r].total+=parseInt(e.clientes[t].pedidos[n].total?e.clientes[t].pedidos[n].total:0,10)}));var n=Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}));console.log(n),w(n)}setTimeout((function(){E(!1)}),500)}),[e.clientes]);return r?o.a.createElement(ue,{history:e.history,page:"".concat(r.datos.nombre),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",spacing:4},o.a.createElement(da,r.datos),!p&&I?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ze,{deuda:r.datos.deuda,id:r.datos.nombre,generateChartDeudas:function(){var a=ve(e.location.search),t=[],n=[],r=new Date(Date.now());if(r.setMonth(r.getMonth()-6),e.clientes[a].pagos&&(Object.keys(e.clientes[a].pagos).map((function(c){var o=e.clientes[a].pagos[c].fecha.split("/"),l=Object(g.a)(o,3),i=l[0],s=l[1],u=l[2],m=new Date(0);m.setFullYear(u,s-1,i),m>r&&(t.push(e.clientes[a].pagos[c].deudaActualizada),n.push(e.clientes[a].pagos[c].fecha))})),1==t.length)){var c=[0!=e.clientes[a].datos.deuda?e.clientes[a].datos.deuda:0].concat(Object(Ve.a)(t));t=c}var l={labels:n,chart:{sparkline:{enabled:!0}},stroke:{curve:"smooth"},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}},theme:"dark"}},i=[{name:"Deuda",data:t}];return o.a.createElement(ha.a,{options:l,series:i,type:"area",height:150})}})),o.a.createElement(de.a,{item:!0},function(){var a=ve(e.location.search),t=[],n=[];e.clientes[a].pedidos&&Object.keys(e.clientes[a].pedidos).reverse().forEach((function(r){e.clientes[a].pedidos[r].articulos.map((function(e){var a=n.indexOf(e.producto);-1!==a?t[a]+=parseInt(e.cantidad):(t.push(parseInt(e.cantidad)),n.push(e.producto))}))}));var r={labels:n,chart:{sparkline:{enabled:!0}},theme:{mode:"dark"},tooltip:{fillSeriesColor:!1}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Historico De Productos"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:r,series:t,type:"donut",width:350})))}()),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];if(I){var t=new Date,n=t.getMonth(),r=t.getFullYear(),c=[],l=n-12,i=r;l<0&&(l+=12,i-=1);var s=new Date(0);s.setFullYear(i,l,1),console.log(I);var u,m=Object(Ge.a)(I);try{for(m.s();!(u=m.n()).done;)for(var d=Object(g.a)(u.value,2),p=d[0],E=d[1],h=0,f=Object.entries(E.months);h<f.length;h++){var b=Object(g.a)(f[h],2),v=b[0],j=b[1],O=new Date(0);O.setFullYear(p,v-1,1),O>s&&O<t&&c.push(j.total)}}catch(P){m.e(P)}finally{m.f()}if(c.length<12)console.log(c),new Array(12-c.length).fill(0).map((function(e){c.push(e)}));var y=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],x=y.slice(l+1),C=y.slice(0,l+1),D=c.slice(l+1),k=c.slice(0,l+1);x.map((function(e){a.push(e)})),C.map((function(e){a.push(e)})),console.log(e),D.map((function(a){e.push(a)})),k.map((function(a){e.push(a)})),console.log(e),console.log(a)}var S={labels:a,theme:{mode:"dark",palette:"palette2"},stroke:{curve:"smooth"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}},dataLabels:{dropShadow:{enabled:!0,left:2,top:2,opacity:.5},formatter:function(e){return"$ ".concat(he(e))}},yaxis:{labels:{show:!1}}},N=[{name:"Compras",data:e}];return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Ventas - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:S,type:"area",series:N,width:850,height:275})))}()))):null,o.a.createElement(ra,{pedidos:I,eliminarPedido:function(a){E(!0),Object(q.database)().ref().child(e.user.uid).child("clientes").child(r.datos.nombre).child("pedidos").child(a).remove().then((function(){u("El Pedido ha sido eliminado!"),setTimeout((function(){E(!1),e.history.replace("/Cliente?".concat(e.history.location.search))}),2e3)})).catch((function(){E(!1)}))},searchPedido:x,searchRemito:S,tipo:"pedido"}),o.a.createElement(de.a,{item:!0,xs:12,sm:8},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"space-around",alignItems:"flex-end"},o.a.createElement(b.b,{to:{pathname:"/Editar-Cliente",search:r.datos.nombre}},o.a.createElement(D.a,null,o.a.createElement(Je.a,null))),o.a.createElement(D.a,{onClick:function(){j(!0)}},o.a.createElement(Xe.a,{color:"error"})))))),o.a.createElement(We.a,{className:a.backdrop,open:p},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:s,autoHideDuration:2e3,onClose:function(){u("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},s))),o.a.createElement(pa,{open:v,setOpen:j,eliminarCliente:function(){E(!0);Object(q.database)().ref().child(e.user.uid).child("clientes").child(r.datos.nombre).remove().then((function(){u("El cliente ha sido eliminado!"),setTimeout((function(){E(!1)}),2e3)})).catch((function(){E(!1)}));e.history.replace("/Clientes")}})):o.a.createElement(o.a.Fragment,null,e.history.replace("/Clientes"))})),ba=t(315),va=t(323),ga=t(282),ja=t(283),Oa=t(266),ya=t(322),xa=t(313),Ca=t(264),Da=t(279),ka=t(280),Sa=function(e){var a=e.telefonos,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete;return o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,a.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e.numero,secondary:e.nombre?e.nombre:"-"}),o.a.createElement(D.a,{edge:"end","aria-label":"edit",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null)),o.a.createElement(Da.a,null,o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))},Na=function(e){var a=e.direcciones,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete;return o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,a.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"".concat(e.calleYnumero," , ").concat(e.ciudad," , ").concat(e.provincia," , CP:").concat(e.cp)}),o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null)),o.a.createElement(Da.a,null,o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))},Pa=function(e){var a=e.infoExtra,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete;return o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,a.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e||"-"}),o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){var e;e=a,console.log(e),t(e),n()}},o.a.createElement(Je.a,null)),o.a.createElement(Da.a,null,o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))},Ia=function(e){var a=e.mails,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete;return o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,a.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e.mail,secondary:e.nombre?e.nombre:"-"}),o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null)),o.a.createElement(Da.a,null,o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))},wa=t(281),qa=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),Fa=function(e){var a=e.open,t=e.setOpen,n=e.direcciones,r=e.setdirecciones,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=qa(),m=Object(c.useState)(void 0),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(void 0),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(void 0),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),D=Object(g.a)(C,2),k=D[0],S=D[1],N=function(){E(""),v(""),x(""),S("")};return Object(c.useEffect)((function(){l&&(E(n[i].calleYnumero),v(n[i].ciudad),x(n[i].provincia),S(n[i].cp))}),[l]),o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,l?"Editar Direccion":"Agregar Nueva Direccion"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column"},o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{autoFocus:!0,label:"Calle y Nro",value:p,onChange:function(e){E(e.target.value)}})),o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{label:"Ciudad",value:b,onChange:function(e){v(e.target.value)}})),o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{label:"C.P.",value:k,onChange:function(e){S(e.target.value)}})),o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{label:"Provincia",value:y,onChange:function(e){x(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),N(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{onClick:function(){l?(!function(){var e=n;e[i]={calleYnumero:p,ciudad:b,provincia:y,cp:k},r(e)}(),s(-1)):function(){var e=n;e.push({calleYnumero:p||null,ciudad:b||null,provincia:y||null,cp:k||null}),r(e)}(),N(),t(!1)}},l?"Editar":"Agregar")))},Ta=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),Ba=function(e){var a=e.open,t=e.setOpen,n=e.telefonos,r=e.settelefonos,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=Ta(),m=Object(c.useState)(void 0),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(void 0),f=Object(g.a)(h,2),b=f[0],v=f[1],j=function(){E(""),v("")};return Object(c.useEffect)((function(){l&&(E(n[i].nombre),v(n[i].numero))}),[l]),o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,l?"Editar Telefono":"Agregar Nuevo Telefono"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column"},o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{autoFocus:!0,color:"primary",label:"Nombre",value:p,onChange:function(e){E(e.target.value)}})),o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{color:"primary",label:"Numero",value:b,onChange:function(e){v(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),j(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!b||!p,onClick:function(){l?(!function(){var e=n;e[i]={nombre:p,numero:b},r(e)}(),s(-1)):function(){var e=n;e.push({nombre:p||null,numero:b||null}),r(e)}(),j(),t(!1)}},l?"Editar":"Agregar")))},Aa=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),La=function(e){var a=e.open,t=e.setOpen,n=e.infoExtra,r=e.setinfoExtra,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=Aa(),m=Object(c.useState)(void 0),d=Object(g.a)(m,2),p=d[0],E=d[1],h=function(){E("")};return Object(c.useEffect)((function(){l&&E(n[i])}),[l]),o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,l?"Editar Info Extra":"Agregar Info Extra"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column"},o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{autoFocus:!0,color:"primary",label:"Nueva Info",value:p,onChange:function(e){E(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),h(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!p,onClick:function(){l?(!function(){var e=n;e[i]=p,r(e)}(),s(-1)):function(){var e=n;e.push(p),r(e)}(),h(),t(!1)}},l?"Editar":"Agregar")))},Ha=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),Ma=function(e){var a=e.open,t=e.setOpen,n=e.mails,r=e.setmails,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=Ha(),m=Object(c.useState)(void 0),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(void 0),f=Object(g.a)(h,2),b=f[0],v=f[1],j=function(){E(""),v("")};return Object(c.useEffect)((function(){l&&(E(n[i].nombre),v(n[i].mail))}),[l]),o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,l?"Editar Mail":"Agregar Nuevo Mail"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column"},o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{autoFocus:!0,color:"primary",label:"Nombre",value:p,onChange:function(e){E(e.target.value)}})),o.a.createElement(de.a,{item:!0,className:u.input},o.a.createElement(pe.a,{color:"primary",label:"Mail",value:b,onChange:function(e){v(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),j(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!b||!p,onClick:function(){l?(!function(){var e=n;e[i]={nombre:p,mail:b},r(e)}(),s(-1)):function(){var e=n;e.push({nombre:p||null,mail:b||null}),r(e)}(),j(),t(!1)}},l?"Editar":"Agregar")))},$a=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),za=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento;$a();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){var e=n;e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},Ga=function(e){var a=e.datos,t=e.setDatos,n=e.tipoDeDato,r=e.Expresos,l=Object(c.useState)(!1),i=Object(g.a)(l,2),s=i[0],u=i[1],m=Object(c.useState)(-1),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(!1),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(void 0),O=Object(g.a)(j,2),y=O[0],x=O[1],C=function(e){x(e),v(!0)},D=function(e){console.log(e.target.value),t(e.target.value)};return function(){switch(n){case"Direcciones":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){u(!0)}},"Agregar Direccion")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Na,{direcciones:a,seteditIndex:E,showDialog:function(){u(!0)},openDialogDelete:function(e){C(e)}})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay Direcciones Guardadas")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"200px"}))),o.a.createElement(Fa,{open:s,setOpen:u,direcciones:a,setdirecciones:t,edit:-1!=p,editIndex:p,seteditIndex:E}),o.a.createElement(za,{open:b,setopen:v,datos:a,setDatos:t,index:y,setdeleteIndex:x,tipoDeElemento:"Direccion"}));case"Telefonos":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){u(!0)}},"Agregar Telefono")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Sa,{telefonos:a,seteditIndex:E,showDialog:function(){u(!0)},openDialogDelete:function(e){C(e)}})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay Telefonos Guardadas")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"200px"}))),o.a.createElement(Ba,{open:s,setOpen:u,telefonos:a,settelefonos:t,edit:-1!=p,editIndex:p,seteditIndex:E}),o.a.createElement(za,{open:b,setopen:v,datos:a,setDatos:t,index:y,setdeleteIndex:x,tipoDeElemento:"Telefono"}));case"Info Extra":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){u(!0)}},"Agregar Informacion Extra")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Pa,{infoExtra:a,seteditIndex:E,showDialog:function(){u(!0)},openDialogDelete:function(e){C(e)}})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay Informacion Extra Guardadas")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"200px"}))),o.a.createElement(La,{open:s,setOpen:u,infoExtra:a,setinfoExtra:t,edit:-1!=p,editIndex:p,seteditIndex:E}),o.a.createElement(za,{open:b,setopen:v,datos:a,setDatos:t,index:y,setdeleteIndex:x,tipoDeElemento:"Info Extra"}));case"Mails":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){u(!0)}},"Agregar Mail")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ia,{mails:a,seteditIndex:E,showDialog:function(){u(!0)},openDialogDelete:function(e){C(e)}})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay E-Mails Guardadas")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"200px"}))),o.a.createElement(Ma,{open:s,setOpen:u,mails:a,setmails:t,edit:-1!=p,editIndex:p,seteditIndex:E}),o.a.createElement(za,{open:b,setopen:v,datos:a,setDatos:t,index:y,setdeleteIndex:x,tipoDeElemento:"Mail"}));case"Expresos":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,sm:10,md:8,justify:"center"},o.a.createElement(Oa.a,{fullWidth:!0},o.a.createElement(ya.a,{id:"demo-mutiple-name-label"},"Expresos"),o.a.createElement(xa.a,{multiple:!0,value:a,onChange:D,input:o.a.createElement(Ca.a,null)},r?Object.keys(r).map((function(e){return o.a.createElement(Fe.a,{key:r[e].datos.nombre,value:r[e].datos.nombre},r[e].datos.nombre)})):null),console.log(a)))}}()},Va=function(e){var a=e.nombre,t=e.setnombre,n=e.dni,r=e.setdni,c=e.cuit,l=e.setcuit;Pe();return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0,direction:"column",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{autoFocus:!0,label:"Nombre",value:a,onChange:function(e){t(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:n,onChange:function(e){r(e.target.value)},label:"DNI"})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:c,onChange:function(e){l(e.target.value)},label:"CUIT"}))))},Wa=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos,clientes:e.clientes}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(void 0),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(void 0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)([]),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)([]),x=Object(g.a)(O,2),C=x[0],D=x[1],k=Object(c.useState)([]),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)([]),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)([]),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(0),$=Object(g.a)(M,2),z=$[0],G=$[1],V=Object(c.useState)(0),W=Object(g.a)(V,2),Y=W[0],U=W[1],J=Object(c.useState)(""),X=Object(g.a)(J,2),K=X[0],Q=X[1],Z=Object(c.useState)(!1),_=Object(g.a)(Z,2),ee=_[0],ae=_[1],te=["Datos Personales","Direcciones","Telefonos","Mails","Expresos","Informacion Extra"],ne=function(){U((function(e){return e+1}))},re=function(){U((function(e){return e-1}))};var ce=function(){ae(!0);var a=Object(y.a)({},r,{datos:{deuda:z,nombre:r,dni:u||null,cuit:E||null,direcciones:N||null,telefonos:F||null,mails:C||null,expresos:v||null,infoExtra:L||null}});if(e.history.location.search){var t=e.clientes[ve(e.history.location.search)];t.datos=a[r].datos,Object(q.database)().ref().child(e.user.uid).child("clientes").child(e.history.location.search.slice(1)).remove().then((function(){Object(q.database)().ref().child(e.user.uid).child("clientes").child(r).update(t).then((function(){Q(e.history.location.search?"El Cliente Se Edito Correctamente!":"El Cliente Se Agrego Correctamente!"),setTimeout((function(){ae(!1),e.history.replace("/Cliente?".concat(r))}),2e3)})).catch((function(){ae(!1)}))})).catch((function(){ae(!1)}))}else Object(q.database)().ref().child(e.user.uid).child("clientes").update(a).then((function(){Q(e.history.location.search?"El Cliente Se Edito Correctamente!":"El Cliente Se Agrego Correctamente!"),setTimeout((function(){e.history.replace("/Cliente?".concat(r))}),2e3)})).catch((function(){ae(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.clientes[ve(e.history.location.search)].datos,t=a.nombre,n=a.dni,r=a.cuit,c=a.expresos,o=a.mails,i=a.direcciones,s=a.telefonos,u=a.infoExtra,d=a.deuda;t&&l(t),n&&m(n),r&&h(r),c&&j(c),o&&D(o),i&&P(i),s&&T(s),u&&H(u),d&&G(d)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Cliente":"Nuevo Cliente",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:Y,className:a.stepper},te.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ca.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(oa.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(la.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 3:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ia.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 4:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(R.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 5:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(sa.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(Va,{nombre:r,setnombre:l,dni:u,setdni:m,cuit:E,setcuit:h});case 1:return o.a.createElement(Ga,{datos:N,setDatos:P,tipoDeDato:"Direcciones"});case 2:return o.a.createElement(Ga,{datos:F,setDatos:T,tipoDeDato:"Telefonos"});case 3:return o.a.createElement(Ga,{datos:C,setDatos:D,tipoDeDato:"Mails"});case 4:return o.a.createElement(Ga,{datos:v,setDatos:j,Expresos:e.expresos,tipoDeDato:"Expresos"});case 5:return o.a.createElement(Ga,{datos:L,setDatos:H,tipoDeDato:"Info Extra"})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===Y,onClick:re},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:Y===te.length-1?ce:ne},Y===te.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Cliente"):"Siguiente")),Y!==te.length-1?o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"light",disabled:!r,onClick:function(){U(te.length-1)},className:a.button},"Finalizar")):null))))}))),Y===te.length&&o.a.createElement(de.a,{container:!0,justify:"center"},o.a.createElement(me.a,{elevation:6},o.a.createElement(le.a,{onClick:re},"Atras"),o.a.createElement(le.a,{variant:"contained",onClick:ce,className:a.button},e.history.location.search?"Guardar Edicion":"Guardar Cliente")))),o.a.createElement(We.a,{className:a.backdrop,open:ee},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:K,autoHideDuration:2e3,onClose:function(){Q("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},e.history.location.search?"El cliente se edito correctamente!":"El nuevo cliente ha sido agregado!"))))})),Ra=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(void 0),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(void 0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)([]),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)([]),x=Object(g.a)(O,2),C=x[0],D=x[1],k=Object(c.useState)([]),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)([]),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)([]),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(0),$=Object(g.a)(M,2),z=$[0],G=$[1],V=Object(c.useState)(0),W=Object(g.a)(V,2),Y=W[0],U=W[1],J=Object(c.useState)(!1),X=Object(g.a)(J,2),K=X[0],Q=X[1],Z=Object(c.useState)(!1),_=Object(g.a)(Z,2),ee=_[0],ae=_[1],te=["Datos personales","Direcciones","Telefonos","Mails","Expresos","Informacion Extra"],ne=function(){U((function(e){return e+1}))},re=function(){U((function(e){return e-1}))};var ce=function(){ae(!0);var a=Object(y.a)({},r,{datos:{deuda:z,nombre:r,dni:u||null,cuit:E||null,direcciones:N||null,telefonos:F||null,mails:C||null,expresos:v||null,infoExtra:L||null}});if(e.history.location.search){var t=e.proveedores[ve(e.history.location.search)];t.datos=a[r].datos,Object(q.database)().ref().child(e.user.uid).child("proveedores").child(e.history.location.search.slice(1)).remove().then((function(){Object(q.database)().ref().child(e.user.uid).child("proveedores").child(r).update(t).then((function(){Q(e.history.location.search?"El Proveedor Se Edito Correctamente!":"El Proveedor Se Agrego Correctamente!"),setTimeout((function(){ae(!1),e.history.replace("/Proveedor?".concat(r))}),2e3)})).catch((function(){ae(!1)}))})).catch((function(){ae(!1)}))}else Object(q.database)().ref().child(e.user.uid).child("proveedores").update(a).then((function(){Q(e.history.location.search?"El Proveedor Se Edito Correctamente!":"El Proveedor Se Agrego Correctamente!"),setTimeout((function(){e.history.replace("/Proveedor?".concat(r))}),2e3)})).catch((function(){ae(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.proveedores[ve(e.history.location.search)].datos,t=a.nombre,n=a.dni,r=a.cuit,c=a.expresos,o=a.mails,i=a.direcciones,s=a.telefonos,u=a.infoExtra,d=a.deuda;t&&l(t),n&&m(n),r&&h(r),c&&j(c),o&&D(o),i&&P(i),s&&T(s),u&&H(u),d&&G(d)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Proveedor":"Nuevo Proveedor",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:Y,className:a.stepper},te.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ca.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(oa.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(la.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 3:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ia.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 4:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(R.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 5:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(sa.a,null),label:e,onClick:function(){r&&U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(Va,{nombre:r,setnombre:l,dni:u,setdni:m,cuit:E,setcuit:h});case 1:return o.a.createElement(Ga,{datos:N,setDatos:P,tipoDeDato:"Direcciones"});case 2:return o.a.createElement(Ga,{datos:F,setDatos:T,tipoDeDato:"Telefonos"});case 3:return o.a.createElement(Ga,{datos:C,setDatos:D,tipoDeDato:"Mails"});case 4:return o.a.createElement(Ga,{datos:v,setDatos:j,Expresos:e.expresos,tipoDeDato:"Expresos"});case 5:return o.a.createElement(Ga,{datos:L,setDatos:H,tipoDeDato:"Info Extra"})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===Y,onClick:re},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:Y===te.length-1?ce:ne},Y===te.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Proveedor"):"Siguiente")),Y!==te.length-1?o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"light",disabled:!r,onClick:function(){U(te.length-1)},className:a.button},"Finalizar")):null))))})))),o.a.createElement(We.a,{className:a.backdrop,open:ee},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:K,autoHideDuration:2e3,onClose:function(){Q(!1)}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},K))))})),Ya=function(e){var a=e.datos,t=e.search,n=Pe(),r=Object(c.useState)(null),l=Object(g.a)(r,2),i=l[0],s=l[1];return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,style:t?-1==a.nombre.toLowerCase().search(t.toLowerCase())?{display:"none"}:{}:null},o.a.createElement(Ie.a,{className:n.cardCliente},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Proveedor",search:"".concat(a.nombre)}},o.a.createElement(k.a,{variant:"h5",className:n.titleCardCliente},a.nombre)),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){s(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)}},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Editar-Proveedor",search:a.nombre}},o.a.createElement(Fe.a,null,"Editar")),o.a.createElement(Fe.a,{className:n.deleteButton,onClick:function(){}},"Eliminar")))}),o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Historial-Proveedor",search:a.nombre}},o.a.createElement(Be.a,{className:a.deuda>0?n.chipCardDangerCliente:n.chipCardSuccessCliente,variant:"outlined",icon:o.a.createElement(Le.a,null),label:a.deuda?he(a.deuda>=0?a.deuda:-a.deuda):he(0)}))))))},Ua=Object(j.b)((function(e){return{user:e.user,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1];return o.a.createElement(ue,{history:e.history,page:"Proveedores",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{to:"/Nuevo-Proveedor"},o.a.createElement(D.a,null,o.a.createElement(Ee.a,null)))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},label:"Buscar Proveedor"}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:2},e.proveedores?Object.keys(e.proveedores).map((function(a){return o.a.createElement(Ya,{datos:e.proveedores[a].datos,search:r})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Proveedores Ingresados")))))))})),Ja=function(e){var a=e.deuda,t=e.id,n=e.generateChartDeudas,r=Pe();return o.a.createElement(Ie.a,{className:a>0?r.cardDeudaRed:r.cardDeudaGreen},o.a.createElement(we.a,{title:"$ ".concat(he(a>=0?a:-a)),subheader:"Balance - Ultimos 6 Meses",action:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{to:{pathname:"/Historial-Proveedor",search:t,props:{tipo:"proveedor"}}},o.a.createElement(D.a,{size:"small"},o.a.createElement(Ke.a,null))),o.a.createElement(b.b,{to:{pathname:"/Nuevo-Pago-Proveedor",search:t}},o.a.createElement(D.a,{size:"small"},o.a.createElement(Qe.a,null))))}),o.a.createElement(Te.a,null,n()))},Xa=Object(j.b)((function(e){return{user:e.user,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.proveedores[ve(e.history.location.search)]),n=Object(g.a)(t,2),r=n[0],l=(n[1],Object(c.useState)(!1)),i=Object(g.a)(l,2),s=i[0],u=i[1],m=Object(c.useState)(!1),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(e.location.props?e.location.props.searchEntrega:""),f=Object(g.a)(h,2),v=f[0],j=(f[1],Object(c.useState)(!1)),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),k=Object(g.a)(C,2),S=k[0],N=k[1];Object(c.useEffect)((function(){E(!0);var a={},t=ve(e.location.search);if(e.proveedores[t].entregas){Object.keys(e.proveedores[t].entregas).reverse().forEach((function(n){var r=e.proveedores[t].entregas[n].fecha.split("/")[2],c=e.proveedores[t].entregas[n].fecha.split("/")[1];a[r]||(a[r]={total:0,months:{1:{total:0,entregas:[]},2:{total:0,entregas:[]},3:{total:0,entregas:[]},4:{total:0,entregas:[]},5:{total:0,entregas:[]},6:{total:0,entregas:[]},7:{total:0,entregas:[]},8:{total:0,entregas:[]},9:{total:0,entregas:[]},10:{total:0,entregas:[]},11:{total:0,entregas:[]},12:{total:0,entregas:[]}}}),a[r].months[c].entregas.push(e.proveedores[t].entregas[n]),a[r].months[c].total+=parseInt(e.proveedores[t].entregas[n].total?e.proveedores[t].entregas[n].total:0),a[r].total+=parseInt(e.proveedores[t].entregas[n].total?e.proveedores[t].entregas[n].total:0)}));var n=Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}));N(n)}setTimeout((function(){E(!1)}),500)}),[e.proveedores]);return r?o.a.createElement(ue,{history:e.history,page:"".concat(r.datos.nombre),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",spacing:4},o.a.createElement(da,r.datos),!p&&S?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ja,{deuda:r.datos.deuda,id:r.datos.nombre,generateChartDeudas:function(){var a=ve(e.location.search),t=new Date(Date.now());t.setMonth(t.getMonth()-6);var n=[],r=[];if(e.proveedores[a].pagos&&(Object.keys(e.proveedores[a].pagos).map((function(c){var o=e.proveedores[a].pagos[c].fecha.split("/"),l=Object(g.a)(o,3),i=l[0],s=l[1],u=l[2],m=new Date(0);m.setFullYear(u,s-1,i),m>t&&(n.push(e.proveedores[a].pagos[c].deudaActualizada),r.push(e.proveedores[a].pagos[c].fecha))})),1==n.length)){var c=[0!=e.proveedores[a].datos.deuda?e.proveedores[a].datos.deuda:0].concat(Object(Ve.a)(n));n=c}var l={labels:r,chart:{sparkline:{enabled:!0}},theme:{palette:"palette3"},stroke:{curve:"smooth"},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}},theme:"dark"}},i=[{name:"Deuda",data:n}];return o.a.createElement(ha.a,{options:l,series:i,type:"area",height:150})}})),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){var a=ve(e.location.search),t=[],n=[];e.proveedores[a].entregas&&Object.keys(e.proveedores[a].entregas).reverse().forEach((function(r){e.proveedores[a].entregas[r].articulos.map((function(e){var a=n.indexOf(e.producto);-1!==a?t[a]+=parseInt(e.cantidad):(t.push(parseInt(e.cantidad)),n.push(e.producto))}))}));var r={labels:n,chart:{sparkline:{enabled:!0}},theme:{mode:"dark"},tooltip:{fillSeriesColor:!1}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Historico de Productos"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:r,series:t,type:"donut",width:350})))}())),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];if(S){var t=new Date,n=t.getMonth(),r=t.getFullYear(),c=[],l=n-12,i=r;l<0&&(l+=12,i-=1);var s=new Date(0);s.setFullYear(i,l,1),console.log(S);var u,m=Object(Ge.a)(S);try{for(m.s();!(u=m.n()).done;)for(var d=Object(g.a)(u.value,2),p=d[0],E=d[1],h=0,f=Object.entries(E.months);h<f.length;h++){var b=Object(g.a)(f[h],2),v=b[0],j=b[1],O=new Date(0);O.setFullYear(p,v-1,1),O>s&&O<t&&c.push(j.total)}}catch(I){m.e(I)}finally{m.f()}if(c.length<12)new Array(12-c.length).fill(0).map((function(e){c.push(e)}));var y=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],x=y.slice(l+1),C=y.slice(0,l+1),D=c.slice(l+1),k=c.slice(0,l+1);x.map((function(e){a.push(e)})),C.map((function(e){a.push(e)})),D.map((function(a){e.push(a)})),k.map((function(a){e.push(a)}))}var N={labels:a,theme:{mode:"dark",palette:"palette2"},stroke:{curve:"smooth"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}},dataLabels:{dropShadow:{enabled:!0,left:2,top:2,opacity:.5},formatter:function(e){return"$ ".concat(he(e))}},yaxis:{labels:{show:!1}}},P=[{name:"Compras",data:e}];return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Ventas - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:N,type:"area",series:P,width:850,height:275})))}()))):null,o.a.createElement(ra,{pedidos:S,eliminarPedido:function(a){E(!0),Object(q.database)().ref("".concat(e.user.uid,"/proveedores/").concat(r.datos.nombre,"/pedidos/").concat(a)).remove().then((function(){u(!0),setTimeout((function(){u(!1),E(!1)}),2e3)})).catch((function(){E(!1)}))},searchPedido:v,tipo:"entrega"}),o.a.createElement(de.a,{item:!0,xs:12,sm:8},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"space-around",alignItems:"flex-end"},o.a.createElement(b.b,{to:{pathname:"/Editar-Proveedor",search:r.datos.nombre}},o.a.createElement(D.a,null,o.a.createElement(Je.a,null))),o.a.createElement(D.a,{onClick:function(){x(!0)}},o.a.createElement(Xe.a,{color:"error"})))))),o.a.createElement(We.a,{className:a.backdrop,open:p},s?o.a.createElement(Ye.a,{open:s,autoHideDuration:2e3,onClose:function(){u(!1)}},o.a.createElement(Ue.a,{onClose:function(){u(!1)},severity:"error",variant:"filled"},"El Proveedor ha sido eliminado!")):o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(pa,{open:y,setOpen:x,eliminarCliente:function(){E(!0),Object(q.database)().ref().child(e.user.uid).child("proveedores").child(r.datos.nombre).remove().then((function(){u("El Proveedor Se Elimino Correctamente"),setTimeout((function(){E(!1)}),2e3)})).catch((function(){E(!1)})),e.history.replace("/Proveedores")}})):o.a.createElement(o.a.Fragment,null,e.history.replace("/Proveedores"))})),Ka=function(e){var a=e.datos,t=e.search,n=Pe(),r=Object(c.useState)(null),l=Object(g.a)(r,2);l[0],l[1];return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,className:t?-1==a.nombre.toLowerCase().search(t.toLowerCase())?n.displayNone:n.display:null},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Expreso",search:"".concat(a.nombre)}},o.a.createElement(Ie.a,{className:n.cardCliente},o.a.createElement(we.a,{title:o.a.createElement(k.a,{variant:"h5",className:n.titleCardCliente},a.nombre)}))))},Qa=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1];return o.a.createElement(ue,{history:e.history,page:"Expresos",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{to:"/Nuevo-Expreso"},o.a.createElement(D.a,null,o.a.createElement(Ee.a,null)))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!e.expresos,label:"Buscar Expreso"}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:2},e.expresos?Object.keys(e.expresos).map((function(a){return o.a.createElement(Ka,{datos:e.expresos[a].datos,search:r})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Expresos Ingresados")))))))})),Za=t(284),_a=function(e){var a=e.open,t=e.setOpen,n=e.asentarInconveniente,r=Object(c.useState)(void 0),l=Object(g.a)(r,2),i=l[0],s=l[1];return o.a.createElement(ne.a,{open:a,maxWidth:"md",fullWidth:!0},o.a.createElement(re.a,null,"Ingresar Inconveniente"),o.a.createElement(ce.a,{dividers:!0},o.a.createElement(pe.a,{id:"standard-full-width",label:"Descripcion",style:{margin:8},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:i,onChange:function(e){s(e.target.value)}})),o.a.createElement(oe.a,null,o.a.createElement(le.a,{autoFocus:!0,onClick:function(){t(!1)}},"Cancelar"),o.a.createElement(le.a,{color:"error",disabled:!i,onClick:function(){t(!1),n({descripcion:i,fecha:fe()})}},"Asentar")))},et=function(e){var a=e.envio,t=e.search,n=e.asentarLlegada,r=e.asentarResolucionInconveniente,l=e.asentarInconveniente,i=Pe(),s=Object(c.useState)(null),u=Object(g.a)(s,2),m=u[0],d=u[1],p=Object(c.useState)(!1),E=Object(g.a)(p,2),h=E[0],f=E[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],y=j[1],x=function(){d(null)};return o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4,className:t?-1==a.remito.search(t)?i.displayNone:i.display:null},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:3,className:a.fechaDeLlegada?i.cardEnvioHeaderSuccess:a.inconveniente?i.cardEnvioHeaderWarning:i.cardEnvioHeader},o.a.createElement(we.a,{className:i.header,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){f(!h)}},h?o.a.createElement(ea.a,{className:a.fechaDeLlegada?i.cardEnvioHeaderIconSuccess:a.inconveniente?i.cardEnvioHeaderIconWarning:null}):o.a.createElement(aa.a,{className:a.fechaDeLlegada?i.cardEnvioHeaderIconSuccess:a.inconveniente?i.cardEnvioHeaderIconWarning:null})),a.fechaDeLlegada?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){d(e.currentTarget)},className:a.fechaDeLlegada?i.cardEnvioHeaderIconSuccess:a.inconveniente?i.cardEnvioHeaderIconWarning:null},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:x},a.fechaDeLlegada?null:o.a.createElement(Fe.a,{onClick:function(){x(),n()}},"Asentar llegada"),a.inconveniente||a.fechaDeLlegada?null:o.a.createElement(Fe.a,{className:i.deleteButton,onClick:function(){x(),y(!0)}},"Asentar Inconveniente"),a.inconveniente&&!a.resolucionInconveniente?o.a.createElement(Fe.a,{className:i.deleteButton,onClick:function(){x(),r({fecha:fe()})}},"Inconveniente Resuelto"):null))),title:o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:a.fechaDeLlegada?i.cardEnvioHeaderTextSuccess:a.inconveniente?i.cardEnvioHeaderTextWarning:null,to:{pathname:"/Cliente",search:"".concat(a.cliente)}},a.cliente))),subheader:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:a.fechaDeLlegada?i.cardEnvioHeaderTextSuccess:a.inconveniente?i.cardEnvioHeaderTextWarning:null,to:{pathname:"/Cliente",search:"".concat(a.cliente),props:{remito:a.id}}},"Remito N\xba ",a.remito)})),o.a.createElement(_e.a,{in:h,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},a.fechaDeLlegada?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:i.alertCheque},"El paquete llego a destino el ",a.fechaDeLlegada)):null,a.resolucionInconveniente?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:i.alertCheque},"El ",a.resolucionInconveniente.fecha," se resolvio el inconveniente")):null,a.inconveniente?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"warning",className:i.alertEnvioInconveniente},"El ",a.inconveniente.fecha," ",a.inconveniente.descripcion)):null),o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.fecha,secondary:"Fecha de Salida"})))))),o.a.createElement(_a,{open:O,setOpen:y,asentarInconveniente:l}))},at=function(e){var a=e.envios,t=e.search,n=e.setSearch,r=e.asentarLlegada,c=e.asentarInconveniente,l=e.asentarResolucionInconveniente;Pe();return o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"Lista de Envios")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:t,onChange:function(e){n(e.target.value)},label:"Remito"})),t?o.a.createElement(de.a,{item:!0},o.a.createElement(D.a,{onClick:function(){n("")}},o.a.createElement(Za.a,null))):null),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(a).reverse().map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(et,{search:t,envio:a[e],asentarInconveniente:function(a){c(e,a)},asentarResolucionInconveniente:function(a){l(e,a)},asentarLlegada:function(){r(e)},success:Boolean(a[e].fechaDeLlegada)}))})))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"El Expreso No Hizo Ningun Envio"))))},tt=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.expresos[ve(e.history.location.search)]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(e.location.props?e.location.props.remito:""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(!1),v=Object(g.a)(f,2),j=v[0],O=v[1],y=Object(c.useState)(!1),x=Object(g.a)(y,2),C=x[0],k=x[1];return Object(c.useEffect)((function(){l(e.expresos[ve(e.history.location.search)])}),[e.expresos]),r?o.a.createElement(ue,{history:e.history,page:"".concat(r.datos.nombre),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",spacing:4},o.a.createElement(da,r.datos),o.a.createElement(at,{envios:r.envios,search:u,setSearch:m,asentarLlegada:function(a){O(!0),console.log(a),Object(q.database)().ref().child(e.user.uid).child("expresos").child(r.datos.nombre).child("envios").child(a).update({fechaDeLlegada:fe()}).then((function(){h("El Pedido llego a Destino!"),setTimeout((function(){O(!1)}),2e3)})).catch((function(){O(!1)}))},asentarInconveniente:function(a,t){O(!0),console.log(a),console.log(t),Object(q.database)().ref().child(e.user.uid).child("expresos").child(r.datos.nombre).child("envios").child(a).update({inconveniente:t}).then((function(){h("Se Asento el Inconveniente!"),setTimeout((function(){O(!1)}),2e3)})).catch((function(){O(!1)}))},asentarResolucionInconveniente:function(a,t){O(!0),Object(q.database)().ref().child(e.user.uid).child("expresos").child(r.datos.nombre).child("envios").child(a).update({resolucionInconveniente:t}).then((function(){h("Se Asento La Resolucion del Inconveniente!"),setTimeout((function(){O(!1)}),2e3)})).catch((function(){O(!1)}))}}),o.a.createElement(de.a,{item:!0,xs:12,sm:8},o.a.createElement(b.b,{to:{pathname:"/Editar-Expreso",search:r.datos.nombre}},o.a.createElement(D.a,null,o.a.createElement(Je.a,null))),o.a.createElement(D.a,{onClick:function(){k(!0)}},o.a.createElement(Xe.a,{color:"error"}))))),o.a.createElement(We.a,{className:a.backdrop,open:j},o.a.createElement(Ye.a,{open:E,autoHideDuration:2e3,onClose:function(){h("")}},o.a.createElement(Ue.a,{onClose:function(){h("")},severity:"success",variant:"filled"},E))),o.a.createElement(pa,{open:C,setOpen:k,eliminarCliente:function(){O(!0),Object(q.database)().ref().child(e.user.uid).child("expresos").child(r.datos.nombre).remove().then((function(){h("El Expreso Se Elimino Correctamente"),setTimeout((function(){}),2e3)})).catch((function(){O(!1)})),e.history.replace("/Expresos")}})):o.a.createElement(o.a.Fragment,null,e.history.replace("/Expresos"))})),nt=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(void 0),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(void 0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)([]),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)([]),x=Object(g.a)(O,2),C=x[0],D=x[1],k=Object(c.useState)([]),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)([]),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)(0),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(""),$=Object(g.a)(M,2),z=$[0],G=$[1],V=Object(c.useState)(!1),W=Object(g.a)(V,2),Y=W[0],U=W[1],J=["Detalles","Direcciones","Telefonos","Mails","Informacion Extra"],X=function(){H((function(e){return e+1}))},K=function(){H((function(e){return e-1}))};var Q=function(){U(!0);var a=Object(y.a)({},r,{datos:{nombre:r,dni:u||null,cuit:E||null,direcciones:C||null,telefonos:N||null,mails:v||null,infoExtra:F||null}});if(e.history.location.search){var t=e.expresos[ve(e.history.location.search)];t.datos=a[r].datos,console.log(t),Object(q.database)().ref().child(e.user.uid).child("expresos").child(e.history.location.search.slice(1)).remove().then((function(){Object(q.database)().ref().child(e.user.uid).child("expresos").child(r).update(t).then((function(){G(e.history.location.search?"El Expreso Se Edito Correctamente!":"El Expreso Se Agrego Correctamente!"),setTimeout((function(){U(!1),e.history.replace("/Expreso?".concat(r))}),2e3)})).catch((function(){U(!1)}))})).catch((function(){U(!1)}))}else Object(q.database)().ref().child(e.user.uid).child("expresos").update(a).then((function(){G(e.history.location.search?"El Expreso Se Edito Correctamente!":"El Expreso Se Agrego Correctamente!"),setTimeout((function(){e.history.replace("/Expreso?".concat(r))}),2e3)})).catch((function(){U(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.expresos[ve(e.history.location.search)].datos,t=a.nombre,n=a.dni,r=a.cuit,c=a.mails,o=a.direcciones,i=a.telefonos,s=a.infoExtra;t&&l(t),n&&m(n),r&&h(r),c&&j(c),o&&D(o),i&&P(i),s&&T(s)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Expreso":"Nuevo Expreso",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:L,className:a.stepper},J.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ca.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(oa.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}));case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(la.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}));case 3:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ia.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}));case 4:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(R.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}));case 5:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(sa.a,null),label:e,onClick:function(){r&&H(t)},variant:"default",className:L==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(e){switch(e){case 0:return o.a.createElement(Va,{nombre:r,setnombre:l,dni:u,setdni:m,cuit:E,setcuit:h});case 1:return o.a.createElement(Ga,{datos:C,setDatos:D,tipoDeDato:"Direcciones"});case 2:return o.a.createElement(Ga,{datos:N,setDatos:P,tipoDeDato:"Telefonos"});case 3:return o.a.createElement(Ga,{datos:v,setDatos:j,tipoDeDato:"Mails"});case 4:return o.a.createElement(Ga,{datos:F,setDatos:T,tipoDeDato:"Info Extra"})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===L,onClick:K},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:L===J.length-1?Q:X},L===J.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Expreso"):"Siguiente")),L!==J.length-1?o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"outlined",color:"light",disabled:!r,onClick:function(){H(J.length)},className:a.button},"Finalizar")):null))))}))),L===J.length&&o.a.createElement(de.a,{container:!0,justify:"center"},o.a.createElement(me.a,{elevation:6},o.a.createElement(le.a,{onClick:K},"Atras"),o.a.createElement(le.a,{variant:"contained",onClick:Q,className:a.button},e.history.location.search?"Guardar Edicion":"Guardar Expreso")))),o.a.createElement(We.a,{className:a.backdrop,open:Y},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:z,autoHideDuration:2e3,onClose:function(){G("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},z))))})),rt=t(314),ct=t(285),ot=t(286),lt=t(287),it=t(288),st=t(289),ut=t(290),mt=function(e){var a=e.productos,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:8,alignItems:"center",justify:"center"},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard},"Producto"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Cantidad"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Precio Unitario"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Precio Total"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Descuento/Aumento"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,{key:e.producto},o.a.createElement(st.a,{component:"th",scope:"row"},e.producto),o.a.createElement(st.a,{align:"right"},e.cantidad),o.a.createElement(st.a,{align:"right"},"$ ",he(e.precio)),o.a.createElement(st.a,{align:"right"},"$ ",he(e.total)),o.a.createElement(st.a,{align:"right"},e.discount?"-".concat(e.discount,"%"):e.increase?"+".concat(e.increase,"%"):"-%"),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))})))))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay Productos Seleccionados")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"300px"})))},dt=t(292),pt=t(293),Et=function(e){var a=e.open,t=e.setOpen,n=e.productos,r=e.setproductos,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=e.productosList,m=e.total,d=e.settotal,p=e.cotizacion,E=Pe(),h=Object(c.useState)(void 0),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(void 0),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),k=Object(g.a)(C,2),S=k[0],N=k[1],P=Object(c.useState)(void 0),I=Object(g.a)(P,2),w=I[0],q=I[1],F=Object(c.useState)(!1),T=Object(g.a)(F,2),B=T[0],H=T[1],$=Object(c.useState)(!1),z=Object(g.a)($,2),G=z[0],V=z[1],W=Object(c.useState)(""),R=Object(g.a)(W,2),Y=R[0],U=R[1],J=Object(c.useState)(!1),X=Object(g.a)(J,2),K=X[0],Q=X[1],Z=function(){v(void 0),x(void 0),U(void 0),H(!1),Q(!1)},_=function(){var e=n;!function(){var e=m;n[i].precio!=Y&&(e-=n[i].cantidad*n[i].precio,e+=n[i].cantidad*Y),n[i].cantidad>y?e-=(n[i].cantidad-y)*Y:n[i].cantidad<y&&(e+=(y-n[i].cantidad)*Y),d(e)}(),e[i]={producto:b,cantidad:y,precio:Y,cotizacion:p,total:Y*y,discount:S||null,increase:w||null},r(e)},ee=function(e){var a;return u.map((function(t){t.nombre==e&&(console.log(t.precio),a=t.precio)})),a},ae=function(e,a){return e-a*e/100},te=function(e,a){return e+a*e/100};return Object(c.useEffect)((function(){l&&(v(n[i].producto),x(n[i].cantidad),U(n[i].precio),n[i].discount&&N(n[i].discount),n[i].increase&&q(n[i].increase))}),[l]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,l?"Editar Producto Elegido":"Elige un producto"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(rt.a,{freeSolo:!0,value:b,options:u,getOptionLabel:function(e){return e.nombre},onChange:function(e){v(e.target.value),U(ee(e.target.value))},onSelect:function(e){V(!0),v(e.target.value),U(ee(e.target.value))},style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Producto",variant:"outlined"}))}})),G?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(A.a,{style:{width:"100%"}},o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(Y*p.valor)," c/u - ($").concat(he(Y),"usd x $").concat(he(p.valor),") "),secondary:K&&(S||w)?"$ ".concat("discount"==K?"-":"+").concat(he(function(e,a){return a*e/100}(Y*p.valor,"discount"==K?S:w))):null})),K&&(S||w)?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he("discount"==K?ae(Y*p.valor,S):te(Y*p.valor,w))," c/u - ($").concat(he("discount"==K?ae(Y,S):te(Y,w)),"usd x $").concat(he(p.valor),")"),secondary:"Nuevo Precio"})):null),o.a.createElement(de.a,{container:!0,item:!0,xs:12},B?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{label:"Redondeo",type:"number",value:Y*p.valor,onChange:function(e){U(e.target.value/p.valor)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(D.a,{onClick:function(e){H(!1)}},o.a.createElement(dt.a,null)))):null,K?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{label:S?"% Descuento":"% Incremento",type:"number",value:S||w,onChange:function(e){"discount"==K?N(e.target.value):q(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(D.a,{onClick:function(e){Q(!1),q(void 0),N(void 0),H(!1)}},o.a.createElement(pt.a,null)),o.a.createElement(D.a,{disabled:!S&&!w,onClick:function(e){U("discount"==K?ae(Y,S):te(Y,w)),Q(!1),H(!1)}},o.a.createElement(dt.a,null)))):S||w||B?null:o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{color:"primary",variant:"contained",onClick:function(e){Q("discount")}},"Descuento de precio")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{color:"primary",variant:"contained",onClick:function(e){Q("increase")}},"Aumento de precio")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{color:"primary",variant:"contained",onClick:function(e){H(!0)}},"Redondeo"))))):null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{label:"Cantidad",type:"number",disabled:!b,value:y,onChange:function(e){x(e.target.value)}}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{className:E.totalProductoNuevoPedido,elevation:3},o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{secondary:"Total",primary:"$ ".concat(y*Y?he(y*Y*p.valor):"-")}))))))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),Z(),N(void 0),q(void 0),Q(!1),V(!1),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!b||!y||K,onClick:function(){l?(_(),s(-1)):function(){var e=Object(Ve.a)(n);e.push({producto:b,cantidad:y,precio:Y*p.valor,total:Y*p.valor*y,cotizacion:p,discount:S||null,increase:w||null}),r(e),d(m+y*Y*p.valor)}(),Z(),N(void 0),q(void 0),Q(!1),t(!1)}},l?"Editar":"Agregar")))},ht=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),ft=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;ht();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(s-n[c].cantidad*n[c].precio);var e=n;e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},bt=function(e){var a=e.datos,t=e.setDatos,n=e.tipoDeDato,r=e.productosList,l=e.total,i=e.settotal,s=(e.fecha,e.cotizaciones,e.cotizacion),u=Pe(),m=Object(c.useState)(!1),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(-1),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(!1),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),D=Object(g.a)(C,2),S=D[0],N=D[1];return function(){switch(n){case"Productos":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{container:!0,spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:s.valor,secondary:s.nombre}))))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){E(!0)}},"Agregar Producto")))),o.a.createElement(mt,{productos:a,seteditIndex:v,showDialog:function(){E(!0)},openDialogDelete:function(e){N(e),x(!0)}}),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0,justify:"center"},o.a.createElement(me.a,{elevation:3,className:u.cardTotalPedidoSuccess},o.a.createElement(k.a,{variant:"h5"},"Total $ ",he(l))))):null,console.log(s),o.a.createElement(Et,{open:p,setOpen:E,productos:a,setproductos:t,edit:-1!=b,editIndex:b,seteditIndex:v,productosList:r,total:l,settotal:i,cotizacion:s}),o.a.createElement(ft,{open:y,setopen:x,datos:a,setDatos:t,index:S,setdeleteIndex:N,tipoDeElemento:"Producto",total:l,settotal:i}))}}()},vt=Object(j.b)((function(e){return{user:e.user,pedidos:e.pedidos,productos:e.productos,clientes:e.clientes,dolares:e.dolares}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)([]),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(void 0),b=Object(g.a)(f,2),v=b[0],j=b[1];console.log(e.dolares);var O=Object(c.useState)(0),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(""),k=Object(g.a)(D,2),S=k[0],N=k[1],P=Object(c.useState)(!1),I=Object(g.a)(P,2),w=I[0],F=I[1],T=["Elegir el Destinatario","Elegir Los productos"],B=function(){C((function(e){return e+1}))},A=function(){C((function(e){return e-1}))},L=function(e){switch(e){case 0:return!r;case 1:return!u.length}};var H=function(){F(!0);var a={cliente:r,productos:u,cotizacion:{nombre:e.dolares[1].casa.nombre,valor:parseFloat(e.dolares[1].casa.venta)},total:E,fecha:v||be()};e.history.location.search?Object(q.database)().ref().child(e.user.uid).child("pedidos").child(e.history.location.search.slice(1)).update(a).then((function(){N("El pedido se edit\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Pedidos")}),2e3)})).catch((function(){F(!1)})):Object(q.database)().ref().child(e.user.uid).child("pedidos").push(a).then((function(){N("El pedido se agreg\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Pedidos")}),2e3)})).catch((function(){F(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.pedidos[e.history.location.search.slice(1)],t=a.cliente,n=a.productos,r=a.total,c=a.fecha;t&&l(t),n&&m(n),r&&h(r),c&&j(c),C(1)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Pedido":"Nuevo Pedido",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:x,className:a.stepper},T.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ca.a,null),label:e,onClick:function(){r&&C(t)},variant:"default",className:x==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(V.a,null),label:e,onClick:function(){r&&C(t)},variant:"default",className:x==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3},o.a.createElement(de.a,{item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,value:r,options:Object.keys(e.clientes),getOptionLabel:function(e){return e},onChange:function(e){l(e.target.value)},onSelect:function(e){l(e.target.value)},style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Destinatario",variant:"outlined"}))}}))));case 1:return o.a.createElement(bt,{tipoDeDato:"Productos",datos:u,setDatos:m,productosList:De(e.productos),total:E,settotal:h,cotizacion:{nombre:e.dolares[1].casa.nombre,valor:parseFloat(e.dolares[1].casa.venta)}})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===x,onClick:A},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:L(x),onClick:x==T.length-1?H:B},x==T.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Pedido"):"Siguiente"))))))}))),o.a.createElement(We.a,{className:a.backdrop,open:w},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:S,autoHideDuration:2e3,onClose:function(){N("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},S)))))})),gt=t(68),jt=t(310),Ot=t(311),yt=t(294),xt=(t(129),t(190),t(130)),Ct=t.n(xt),Dt=Object(j.b)((function(e){return{user:e.user,compras:e.compras,ventas:e.ventas,dolares:e.dolares}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(!0),s=Object(g.a)(i,2),u=s[0],d=s[1],p=Object(c.useState)(void 0),E=Object(g.a)(p,2),h=E[0],f=E[1],v=Object(c.useState)(void 0),j=Object(g.a)(v,2),O=j[0],y=j[1],C=Object(c.useState)(0),S=Object(g.a)(C,2),N=S[0],P=S[1],I=Object(c.useState)(void 0),w=Object(g.a)(I,2),q=w[0],F=w[1],T=Object(c.useState)(void 0),B=Object(g.a)(T,2),A=(B[0],B[1]),L=Object(c.useState)(void 0),H=Object(g.a)(L,2),M=(H[0],H[1],Object(c.useState)(0)),$=Object(g.a)(M,2),z=($[0],$[1],function(e){var t=e.children,n=e.value,r=e.index;Object(gt.a)(e,["children","value","index"]);return o.a.createElement("div",{role:"tabpanel",className:a.tabPanelDeuda,hidden:n!==r},n===r&&o.a.createElement(jt.a,{p:3},o.a.createElement(k.a,null,t)))});return Object(c.useEffect)((function(){d(!0);var a=function(){var a={};if(e.compras)return Object.keys(e.compras).reverse().forEach((function(t){var n=e.compras[t].fecha.split("/")[2],r=e.compras[t].fecha.split("/")[1];a[n]||(a[n]={total:0,months:{1:{total:0,compras:[]},2:{total:0,compras:[]},3:{total:0,compras:[]},4:{total:0,compras:[]},5:{total:0,compras:[]},6:{total:0,compras:[]},7:{total:0,compras:[]},8:{total:0,compras:[]},9:{total:0,compras:[]},10:{total:0,compras:[]},11:{total:0,compras:[]},12:{total:0,compras:[]}}}),a[n].months[r].compras.push(e.compras[t]),a[n].months[r].total+=parseFloat(e.compras[t].total?e.compras[t].total:0),a[n].total+=parseFloat(e.compras[t].total?e.compras[t].total:0)})),Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}))}(),t=function(){var a={};if(e.ventas){Object.keys(e.ventas).reverse().forEach((function(t){var n=e.ventas[t].fecha.split("/")[2],r=e.ventas[t].fecha.split("/")[1];a[n]||(a[n]={total:0,months:{1:{total:0,ventas:[]},2:{total:0,ventas:[]},3:{total:0,ventas:[]},4:{total:0,ventas:[]},5:{total:0,ventas:[]},6:{total:0,ventas:[]},7:{total:0,ventas:[]},8:{total:0,ventas:[]},9:{total:0,ventas:[]},10:{total:0,ventas:[]},11:{total:0,ventas:[]},12:{total:0,ventas:[]}}}),a[n].months[r].ventas.push(e.ventas[t]),a[n].months[r].total+=parseFloat(e.ventas[t].total?e.ventas[t].total:0),a[n].total+=parseFloat(e.ventas[t].total?e.ventas[t].total:0)}));var t=Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}));return console.log(t),t}}(),n=function(e){var a=(new Date).getFullYear(),t=[];if(e)return e.filter((function(e){return Object(g.a)(e,1)[0]===a.toString()})).forEach((function(e){var a=Object(g.a)(e,2),n=(a[0],a[1]);Object.keys(n.months).map((function(e){n.months[e].ventas.map((function(a,r){n.months[e].ventas[r].articulos.map((function(a,c){var o=t.findIndex((function(a){return a.producto===n.months[e].ventas[r].articulos[c].producto}));-1===o?n.months[e].ventas[r].metodoDePago.facturacion?t.push({producto:n.months[e].ventas[r].articulos[c].producto,cantidad:parseInt(n.months[e].ventas[r].articulos[c].cantidad),total:n.months[e].ventas[r].articulos[c].total?n.months[e].ventas[r].articulos[c].total/1.21:0}):t.push({producto:n.months[e].ventas[r].articulos[c].producto,cantidad:parseInt(n.months[e].ventas[r].articulos[c].cantidad),total:n.months[e].ventas[r].articulos[c].total?n.months[e].ventas[r].articulos[c].total:0}):n.months[e].ventas[r].metodoDePago.facturacion?(t[o].cantidad+=parseInt(n.months[e].ventas[r].articulos[c].cantidad),t[o].total+=n.months[e].ventas[r].articulos[c].total?n.months[e].ventas[r].articulos[c].total/1.21:0):(t[o].cantidad+=parseInt(n.months[e].ventas[r].articulos[c].cantidad),t[o].total+=n.months[e].ventas[r].articulos[c].total?n.months[e].ventas[r].articulos[c].total:0)}))}))}))})),t}(t),r=function(e){var a=(new Date).getFullYear(),t=[];if(e)return e.filter((function(e){return Object(g.a)(e,1)[0]===a.toString()})).forEach((function(e){var a=Object(g.a)(e,2),n=(a[0],a[1]);Object.keys(n.months).map((function(e){n.months[e].ventas.map((function(a,r){if(n.months[e].ventas[r].cliente){var c=t.findIndex((function(a){return a.nombre===n.months[e].ventas[r].cliente}));-1===c?n.months[e].ventas[r].metodoDePago.facturacion?t.push({nombre:n.months[e].ventas[r].cliente,total:n.months[e].ventas[r].total/1.21}):t.push({nombre:n.months[e].ventas[r].cliente,total:n.months[e].ventas[r].total}):n.months[e].ventas[r].metodoDePago.facturacion?t[c].total+=n.months[e].ventas[r].total/1.21:t[c].total+=n.months[e].ventas[r].total}}))}))})),t}(t);f(a),y(t),F(n),A(r),d(!1)}),[e.compras,e.ventas]),o.a.createElement(ue,{history:e.history,page:"Inicio",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,item:!0,xs:12},!u&&e.ventas?o.a.createElement(de.a,{container:!0,xs:12,spacing:3,justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){var e=(new Date).getMonth(),a=(new Date).getFullYear(),t=new Date(a,e,0).getDate(),n=[{name:"Ventas",data:Array.from({length:t},(function(){return 0}))}],r=[Array.from({length:t},(function(){return 0}))];if(O){var c,l=Object(Ge.a)(O);try{for(l.s();!(c=l.n()).done;)for(var i=Object(g.a)(c.value,2),s=i[0],u=i[1],m=function(){var t=Object(g.a)(p[d],2),n=t[0],c=t[1];if(s==a&&n-1==e){c.ventas.map((function(e,a){1;var t=c.ventas[a].fecha.split("/")[0]-1;r[0][t]=r[0][t]+parseFloat(c.ventas[a].total?c.ventas[a].total:0)}))}},d=0,p=Object.entries(u.months);d<p.length;d++)m()}catch(b){l.e(b)}finally{l.f()}}var E={labels:Array.from({length:t},(function(e,a){return(a+1).toString()})),theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},chart:{sparkline:{enabled:!0}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}}},h=0,f=Array.from({length:t},(function(){return 0}));return r[0].map((function(e,a){f[a]+=e,h+=e})),f.map((function(e,a){0==a?n[0].data[0]=e:n[0].data[a]=n[0].data[a-1]+(e||0)})),o.a.createElement(Ie.a,null,o.a.createElement(we.a,{title:"$ ".concat(he(h)),subheader:"Ventas - ".concat(ye())}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:E,series:n,type:"area",width:250,height:100})))}())),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){var e=(new Date).getMonth(),a=(new Date).getFullYear(),t=new Date(a,e,0).getDate(),n=[{name:"Compras",data:Array.from({length:t},(function(){return 0}))}],r=[Array.from({length:t},(function(){return 0}))];if(h){var c,l=Object(Ge.a)(h);try{for(l.s();!(c=l.n()).done;)for(var i=Object(g.a)(c.value,2),s=i[0],u=i[1],m=function(){var t=Object(g.a)(p[d],2),n=t[0],c=t[1];s==a&&n-1==e&&c.compras.map((function(e,a){var t=c.compras[a].fecha.split("/")[0]-1;r[0][t]=r[0][t]+parseFloat(c.compras[a].total?c.compras[a].total:0)}))},d=0,p=Object.entries(u.months);d<p.length;d++)m()}catch(v){l.e(v)}finally{l.f()}}var E={labels:Array.from({length:t},(function(e,a){return(a+1).toString()})),theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},chart:{sparkline:{enabled:!0}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}}},f=0,b=Array.from({length:t},(function(){return 0}));return r[0].map((function(e,a){b[a]+=e,f+=e})),b.map((function(e,a){0==a?n[0].data[0]=e:n[0].data[a]=n[0].data[a-1]+(e||0)})),o.a.createElement(Ie.a,null,o.a.createElement(we.a,{title:"$ ".concat(he(f)),subheader:"Compras - ".concat(ye())}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:E,series:n,type:"area",width:250,height:100})))}())),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){var e=(new Date).getMonth(),t=(new Date).getFullYear(),n=new Date(t,e,0).getDate(),r=[{name:"Balance IVA",data:Array.from({length:n},(function(){return 0})),type:"area"}],c=[Array.from({length:n},(function(){return 0})),Array.from({length:n},(function(){return 0}))];if(O){var l,i=Object(Ge.a)(O);try{for(i.s();!(l=i.n()).done;)for(var s=Object(g.a)(l.value,2),u=s[0],m=s[1],d=function(){var a=Object(g.a)(E[p],2),n=a[0],r=a[1];u==t&&n-1==e&&r.ventas.map((function(e,a){var t=r.ventas[a].fecha.split("/")[0]-1;r.ventas[a].metodoDePago.facturacion&&(c[0][t]=c[0][t]+r.ventas[a].total-r.ventas[a].total/1.21)}))},p=0,E=Object.entries(m.months);p<E.length;p++)d()}catch(w){i.e(w)}finally{i.f()}}if(h){var f,v=Object(Ge.a)(h);try{for(v.s();!(f=v.n()).done;)for(var j=Object(g.a)(f.value,2),y=j[0],x=j[1],C=function(){var a=Object(g.a)(S[k],2),n=a[0],r=a[1];y==t&&n-1==e&&r.compras.map((function(e,a){var t=r.compras[a].fecha.split("/")[0]-1;r.compras[a].metodoDePago.facturacion&&(r.compras[a].consumoFacturado?c[1][t]=c[1][t]+parseFloat(r.compras[a].totalIva):c[1][t]=c[1][t]+(parseInt(r.compras[a].total)-parseInt(r.compras[a].total)/1.21))}))},k=0,S=Object.entries(x.months);k<S.length;k++)C()}catch(w){v.e(w)}finally{v.f()}}var N=0,P=Array.from({length:n},(function(){return 0}));c[0].map((function(e,a){P[a]-=e,N-=e})),c[1].map((function(e,a){P[a]+=e,N+=e})),P.map((function(e,a){0==a?r[0].data[0]=e:r[0].data[a]=r[0].data[a-1]+(e||0)})),console.log(r);var I={labels:Array.from({length:n},(function(e,a){return(a+1).toString()})),theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},chart:{background:"transparent",sparkline:{enabled:!0}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}}};return o.a.createElement(Ie.a,{className:N>=0?a.cardBgGreen:a.cardBgRed},o.a.createElement(we.a,{title:"$ ".concat(he(N)),subheader:"Iva - ".concat(ye()),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Nuevo-Consumo-Facturado"}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(Qe.a,null))),o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Iva"}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(G.a,null))))}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:I,series:r,width:250,height:100})))}())),o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){var e=(new Date).getMonth(),t=(new Date).getFullYear(),n=new Date(t,e,0).getDate(),r=[{name:"Balance",data:Array.from({length:n},(function(){return 0}))}],c=[Array.from({length:n},(function(){return 0})),Array.from({length:n},(function(){return 0}))];if(O){var l,i=Object(Ge.a)(O);try{for(i.s();!(l=i.n()).done;)for(var s=Object(g.a)(l.value,2),u=s[0],m=s[1],d=function(){var a=Object(g.a)(E[p],2),n=a[0],r=a[1];u==t&&n-1==e&&r.ventas.map((function(e,a){var t=r.ventas[a].fecha.split("/")[0]-1;r.ventas[a].metodoDePago.facturacion?c[0][t]=c[0][t]+(r.ventas[a].total?r.ventas[a].total/1.21:0):c[0][t]=c[0][t]+r.ventas[a].total?r.ventas[a].total:0}))},p=0,E=Object.entries(m.months);p<E.length;p++)d()}catch(P){i.e(P)}finally{i.f()}}if(h){var f,b=Object(Ge.a)(h);try{for(b.s();!(f=b.n()).done;)for(var v=Object(g.a)(f.value,2),j=v[0],y=v[1],x=function(){var a=Object(g.a)(D[C],2),n=a[0],r=a[1];j==t&&n-1==e&&r.compras.map((function(e,a){var t=r.compras[a].fecha.split("/")[0]-1;r.compras[a].metodoDePago.facturacion?r.compras[a].consumoFacturado?c[1][t]=c[1][t]+(r.compras[a].total?r.compras[a].total-r.compras[a].totalIva:0):c[1][t]=c[1][t]+(r.compras[a].total?r.compras[a].total/1.21:0):c[1][t]=c[1][t]+r.compras[a].total?r.compras[a].total:0}))},C=0,D=Object.entries(y.months);C<D.length;C++)x()}catch(P){b.e(P)}finally{b.f()}}var k=0,S=Array.from({length:n},(function(){return 0}));c[0].map((function(e,a){S[a]+=e,k+=e})),c[1].map((function(e,a){S[a]-=e,k-=e})),S.map((function(e,a){0==a?r[0].data[0]=e:r[0].data[a]=r[0].data[a-1]+(e||0)}));var N={labels:Array.from({length:n},(function(e,a){return(a+1).toString()})),theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},chart:{background:"transparent",sparkline:{enabled:!0}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}}};return o.a.createElement(Ie.a,{className:k>0?a.cardBgGreen:a.cardBgRed},o.a.createElement(we.a,{title:"$ ".concat(he(k)),subheader:"Balance - ".concat(ye())}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:N,series:r,type:"area",width:250,height:100})))}()))),o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:8,justify:"center"},o.a.createElement(me.a,null,function(){var e=[],a=[],t=[],n=[];if(h||O){var r=new Date,c=[0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0,0,0,0],i=r.getMonth()-12,s=r.getFullYear();i<0&&(i+=12,s-=1);var u=new Date;if(u.setFullYear(s,i+1,1),O){var m,d=Object(Ge.a)(O);try{for(d.s();!(m=d.n()).done;){var p=Object(g.a)(m.value,2),E=p[0],f=p[1];console.log(f);for(var b=0,v=Object.entries(f.months);b<v.length;b++){var j=Object(g.a)(v[b],2),y=j[0],x=j[1],C=new Date;C.setFullYear(E,y-1,1),C>=u&&C<=r&&(c[y-1]+=x.total)}}}catch(R){d.e(R)}finally{d.f()}}if(h){var D,k=Object(Ge.a)(h);try{for(k.s();!(D=k.n()).done;)for(var S=Object(g.a)(D.value,2),N=S[0],P=S[1],I=0,w=Object.entries(P.months);I<w.length;I++){var q=Object(g.a)(w[I],2),F=q[0],T=q[1],B=new Date;B.setFullYear(N,F-1,1),B>=u&&B<=r&&(l[F-1]+=T.total)}}catch(R){k.e(R)}finally{k.f()}}var A=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],L=A.slice(i+1),H=A.slice(0,i+1),M=c.slice(i+1),$=c.slice(0,i+1),z=l.slice(i+1),G=l.slice(0,i+1);L.map((function(e){n.push(e)})),H.map((function(e){n.push(e)})),M.map((function(a){e.push(a)})),$.map((function(a){e.push(a)})),z.map((function(e){a.push(e)})),G.map((function(e){a.push(e)})),e.map((function(e){t.push(e)})),a.map((function(e,a){t[a]-=e}))}var V={labels:n,fill:{},chart:{},theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},grid:{row:{colors:["#c3c3c3","transparent"],opacity:.5}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(e){return"$ ".concat(he(e))}}}},W=[{name:"Ventas",type:"line",data:e},{name:"Compras",type:"line",data:a},{name:"Balance",type:"area",data:t}];return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Compras & Ventas - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:V,series:W,height:400,width:1200})))}())),o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:6,justify:"center"},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];O&&function(){var t=new Date,n=t.getMonth(),r=t.getFullYear(),c=[],o=n-12,l=r;o<0&&(o+=12,l-=1);var i=new Date;if(i.setFullYear(l,o+1,1),O){var s,u=Object(Ge.a)(O);try{for(u.s();!(s=u.n()).done;)for(var d=Object(g.a)(s.value,2),p=d[0],E=d[1],h=function(){var e=Object(g.a)(b[f],2),a=e[0],n=e[1],r=new Date;r.setFullYear(p,a-1,1),r>=i&&r<=t&&Object.keys(n.ventas).map((function(e){n.ventas[e].articulos.map((function(a){var t=[0,0,0,0,0,0,0,0,0,0,0,0],r=c.findIndex((function(e){return e.name===a.producto}));-1===r?(t[n.ventas[e].fecha.split("/")[1]-1]=parseFloat(a.total?a.total/1.21:0),c.push({name:a.producto,data:t})):((t=c[r].data)[n.ventas[e].fecha.split("/")[1]-1]||(t[n.ventas[e].fecha.split("/")[1]-1]=0),t[n.ventas[e].fecha.split("/")[1]-1]+=parseFloat(n.ventas[e].metodoDePago.facturacion?a.total?a.total/1.21:0:a.total?a.total:0),c[r]=Object(m.a)({},c[r],{data:t}))}))}))},f=0,b=Object.entries(E.months);f<b.length;f++)h()}catch(x){u.e(x)}finally{u.f()}}var v=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],j=v.slice(o+1),y=v.slice(0,o+1);j.map((function(e){a.push(e)})),y.map((function(e){a.push(e)})),c.map((function(e){var a=e.data.slice(o+1),t=e.data.slice(0,o+1),n=[];a.map((function(e){n.push(e)})),t.map((function(e){n.push(e)})),e.data=n})),console.log(c),e=c}();var t=e,n={labels:a,fill:{},chart:{},theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},grid:{row:{colors:["#c3c3c3","transparent"],opacity:.5}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(e){return"$ ".concat(he(e))}}}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Ventas por Producto - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:n,series:t,type:"line",height:400,width:600})))}())),o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:6,justify:"center"},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];O&&function(){var t=new Date,n=t.getMonth(),r=t.getFullYear(),c=[],o=n-12,l=r;o<0&&(o+=12,l-=1);var i=new Date;if(i.setFullYear(l,o+1,1),O){var s,u=Object(Ge.a)(O);try{for(u.s();!(s=u.n()).done;)for(var d=Object(g.a)(s.value,2),p=d[0],E=d[1],h=function(){var e=Object(g.a)(b[f],2),a=e[0],n=e[1],r=new Date;r.setFullYear(p,a-1,1),r>=i&&r<=t&&Object.keys(n.ventas).map((function(e){n.ventas[e].articulos.map((function(a){var t=[0,0,0,0,0,0,0,0,0,0,0,0],r=c.findIndex((function(e){return e.name===a.producto}));-1===r?(t[n.ventas[e].fecha.split("/")[1]-1]=parseInt(a.cantidad),c.push({name:a.producto,data:t})):((t=c[r].data)[n.ventas[e].fecha.split("/")[1]-1]||(t[n.ventas[e].fecha.split("/")[1]-1]=0),t[n.ventas[e].fecha.split("/")[1]-1]+=parseInt(a.cantidad),c[r]=Object(m.a)({},c[r],{data:t}))}))}))},f=0,b=Object.entries(E.months);f<b.length;f++)h()}catch(x){u.e(x)}finally{u.f()}}var v=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],j=v.slice(o+1),y=v.slice(0,o+1);j.map((function(e){a.push(e)})),y.map((function(e){a.push(e)})),c.map((function(e){var a=e.data.slice(o+1),t=e.data.slice(0,o+1),n=[];a.map((function(e){n.push(e)})),t.map((function(e){n.push(e)})),e.data=n})),console.log(c),e=c}();var t=e,n={labels:a,fill:{},chart:{},theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},grid:{row:{colors:["#c3c3c3","transparent"],opacity:.5}},tooltip:{},dataLabels:{enabled:!1},yaxis:{}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Ventas por Producto - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:n,series:t,type:"line",height:400,width:600})))}())),o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:6,justify:"center"},o.a.createElement(me.a,null,function(){var e=[],a=[],t=[],n=[];(h||O)&&function(){var r=new Date,c=r.getMonth(),o=r.getFullYear(),l=[0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0],s=c-12,u=o;s<0&&(s+=12,u-=1);var m=new Date;if(m.setFullYear(u,s+1,1),O){var d,p=Object(Ge.a)(O);try{for(p.s();!(d=p.n()).done;)for(var E=Object(g.a)(d.value,2),f=E[0],b=E[1],v=function(){var e=Object(g.a)(y[j],2),a=e[0],t=e[1],n=new Date;n.setFullYear(f,a-1,1),n>=m&&n<=r&&Object.keys(t.ventas).map((function(e){t.ventas[e].metodoDePago.facturacion&&(l[a-1]+=t.ventas[e].total-t.ventas[e].total/1.21)}))},j=0,y=Object.entries(b.months);j<y.length;j++)v()}catch(H){p.e(H)}finally{p.f()}}if(h){var x,C=Object(Ge.a)(h);try{for(C.s();!(x=C.n()).done;)for(var D=Object(g.a)(x.value,2),k=D[0],S=D[1],N=function(){var e=Object(g.a)(I[P],2),a=e[0],t=e[1],n=new Date;n.setFullYear(k,a-1,1),n>=m&&n<=r&&Object.keys(t.compras).map((function(e){t.compras[e].metodoDePago.facturacion&&(t.compras[e].consumoFacturado?i[a-1]+=parseFloat(t.compras[e].totalIva):i[a-1]+=t.compras[e].total-t.compras[e].total/1.21)}))},P=0,I=Object.entries(S.months);P<I.length;P++)N()}catch(H){C.e(H)}finally{C.f()}}var w=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],q=w.slice(s+1),F=w.slice(0,s+1),T=l.slice(s+1),B=l.slice(0,s+1),A=i.slice(s+1),L=i.slice(0,s+1);q.map((function(e){n.push(e)})),F.map((function(e){n.push(e)})),T.map((function(a){e.push(a)})),B.map((function(a){e.push(a)})),A.map((function(e){a.push(e)})),L.map((function(e){a.push(e)})),e.map((function(e){t.push(-e)})),a.map((function(e,a){t[a]+=e}))}();var r={labels:n,fill:{},chart:{},theme:{mode:"dark",palette:"palette6"},stroke:{curve:"smooth"},grid:{row:{colors:["#c3c3c3","transparent"],opacity:.5}},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(e){return"$ ".concat(he(e))}}}},c=[{name:"Iva Ventas",type:"line",data:e},{name:"Iva Compras",type:"line",data:a},{name:"Balance",type:"area",data:t}];return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Iva Compras & Ventas - Ultimos 12 Meses"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:r,series:c,height:400,width:1200})))}()))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(Ie.a,null,o.a.createElement(we.a,{title:o.a.createElement(x.a,{position:"static"},o.a.createElement(Ot.a,{value:N,onChange:function(e,a){P(a)},"aria-label":"simple tabs example"},o.a.createElement(yt.a,{label:"Valor"}),o.a.createElement(yt.a,{label:"Cantidad"})))}),o.a.createElement(Te.a,null,o.a.createElement(z,{value:N,index:0},o.a.createElement(de.a,{container:!0,spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];q.map((function(t){e.push(t.total),a.push(t.producto)}));var t={series:e,labels:a,theme:{mode:"dark",palette:"palette2"},tooltip:{y:{formatter:function(e){return"$ ".concat(he(e))}},fillSeriesColor:!1},dataLabels:{dropShadow:{enabled:!0,left:2,top:2,opacity:.5}}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Ingresos por Producto - Anual"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:t,series:e,type:"donut",width:450})))}())))),o.a.createElement(z,{value:N,index:1},o.a.createElement(de.a,{container:!0,spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(me.a,null,function(){(new Date).getFullYear();var e=[],a=[];q.map((function(t){e.push(t.cantidad),a.push(t.producto)}));var t={series:e,labels:a,theme:{mode:"dark",palette:"palette2"},dataLabels:{dropShadow:{enabled:!0,left:2,top:2,opacity:.5}},tooltip:{fillSeriesColor:!1}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Unidades Vendidas - Anual"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:t,series:e,type:"donut",width:450})))}()))))))))):null),o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"Seccion En Construccion")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:Ct.a,alt:"",height:"600px"})))),o.a.createElement(We.a,{className:a.backdrop,open:u},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:r,autoHideDuration:2e3,onClose:function(){l("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},r))))})),kt=function(e){var a=e.nombre,t=e.search,n=e.deuda,r=Pe();return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,className:t?-1==a.toLowerCase().search(t.toLowerCase())?r.displayNone:r.display:null},o.a.createElement(Ie.a,{className:r.cardCliente},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Cliente",search:a}},o.a.createElement(k.a,{variant:"h5"},a)),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Historial-Cliente",search:a}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(Ke.a,null))),o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Nuevo-Pago-Cliente",search:a}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(Qe.a,null))))}),o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{className:n>0?r.chipCardDangerCliente:r.chipCardSuccessCliente,variant:"outlined",icon:o.a.createElement(Le.a,null),label:he(n>=0?n:-n)})))))},St=function(e){var a=e.nombre,t=e.search,n=e.deuda,r=Pe();return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,className:t?-1==a.toLowerCase().search(t.toLowerCase())?r.displayNone:r.display:null},o.a.createElement(Ie.a,{className:r.cardCliente},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Proveedor",search:a}},o.a.createElement(k.a,{variant:"h5"},a)),action:o.a.createElement(o.a.Fragment,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Historial-Proveedor",search:a}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(Ke.a,null))),o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Nuevo-Pago-Proveedor",search:a}},o.a.createElement(D.a,{"aria-label":"settings"},o.a.createElement(Qe.a,null))))}),o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{className:n>0?r.chipCardDangerCliente:r.chipCardSuccessCliente,variant:"outlined",icon:o.a.createElement(Le.a,null),label:he(n>=0?n:-n)})))))},Nt=Object(j.b)((function(e){return{user:e.user,clientes:e.clientes,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)(0),y=Object(g.a)(O,2),C=y[0],D=y[1],S=Object(c.useState)(0),N=Object(g.a)(S,2),P=N[0],I=N[1],w=function(e){var t=e.children,n=e.value,r=e.index;Object(gt.a)(e,["children","value","index"]);return o.a.createElement("div",{role:"tabpanel",className:a.tabPanelDeuda,hidden:n!==r},n===r&&o.a.createElement(jt.a,{p:3},o.a.createElement(k.a,null,t)))};return Object(c.useEffect)((function(){var a=0;e.clientes&&(Object.values(e.clientes).map((function(e){a+=e.datos.deuda})),j(a),a=0),e.proveedores&&(Object.values(e.proveedores).map((function(e){a+=e.datos.deuda})),D(a)),h(!1)}),[]),o.a.createElement(ue,{history:e.history,page:"Deudas",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,xs:12,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},label:"Buscar"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(x.a,{position:"static"},o.a.createElement(Ot.a,{value:P,onChange:function(e,a){I(a)},"aria-label":"simple tabs example"},o.a.createElement(yt.a,{label:"Clientes"}),o.a.createElement(yt.a,{label:"Proveedores"}))))),o.a.createElement(w,{value:P,index:0},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},e.clientes?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5",textAlign:"center"},"Total $",he(v))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},function(){var a=[],t=[];Object.keys(e.clientes).map((function(n){e.clientes[n].datos.deuda>0&&(a.push(e.clientes[n].datos.deuda),t.push(e.clientes[n].datos.nombre))}));var n={labels:t,series:a,theme:{mode:"dark",palette:"palette3"},chart:{sparkline:{enabled:!0}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return"$ ".concat(he(e))}}}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Deudas por Cliente"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:n,series:a,type:"donut",width:300})))}()),o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:4},Object.keys(e.clientes).map((function(a){return 0!=e.clientes[a].datos.deuda?o.a.createElement(kt,{nombre:a,search:r,deuda:e.clientes[a].datos.deuda}):null})))):null)),o.a.createElement(w,{value:P,style:{width:"100%"},index:1},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},e.proveedores?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5",textAlign:"center"},"Total $",he(C))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},function(){var a=[],t=[];Object.keys(e.proveedores).map((function(n){e.proveedores[n].datos.deuda>0&&(a.push(e.proveedores[n].datos.deuda),t.push(e.proveedores[n].datos.nombre))}));var n={labels:t,series:a,theme:{mode:"dark",palette:"palette3"},chart:{sparkline:{enabled:!0}},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return"$ ".concat(he(e))}}}};return o.a.createElement(Ie.a,null,o.a.createElement(we.a,{subheader:"Deudas por Proveedor"}),o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:n,series:a,type:"donut",width:300})))}()),o.a.createElement(de.a,{container:!0,item:!0,justify:"center",alignItems:"center",spacing:4},Object.keys(e.proveedores).map((function(a){return 0!=e.proveedores[a].datos.deuda?o.a.createElement(St,{nombre:a,search:r,deuda:e.proveedores[a].datos.deuda}):null})))):null)))),o.a.createElement(We.a,{className:a.backdrop,open:E},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:u,autoHideDuration:2e3,onClose:function(){m("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},u))))})),Pt=t(298),It=t(295),wt=t(296),qt=t(297),Ft=function(e){var a=e.pedido,t=e.id,n=e.deuda,r=e.setShowDialogDelete,l=e.setDeleteIndex,i=e.setUpdatePricesIndex,s=e.setShowDialogUpdatePrices,u=e.tipoDeCambio,m=Pe(),d=Object(c.useState)(null),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(!1),v=Object(g.a)(f,2),j=v[0],O=v[1],y=Object(c.useState)(!1),x=Object(g.a)(y,2),C=(x[0],x[1],Object(c.useState)(!1)),S=Object(g.a)(C,2),N=S[0],P=S[1];return o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:3,className:m.cardPedidoHeader},o.a.createElement(we.a,{className:m.header,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){P(!N)}},N?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)),o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){h(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:function(){h(null)}},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Editar-Pedido",search:"".concat(t)}},o.a.createElement(Fe.a,null,"Editar")),o.a.createElement(Fe.a,{className:m.deleteButton,onClick:function(){h(null),r(!0),l(t)}},"Eliminar"),parseFloat(u)!=parseFloat(a.cotizacion.valor)?o.a.createElement(Fe.a,{className:m.deleteButton,onClick:function(){h(null),s(!0),i(t)}},"Actualizar precios"):null)),title:o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:m.textWhite,to:{pathname:"/Cliente",search:"".concat(a.cliente)}},a.cliente)),o.a.createElement(de.a,{item:!0},o.a.createElement(Be.a,{className:n>0?m.cardDeudaRedCardPedido:m.cardDeudaGreenCardPedido,icon:o.a.createElement(Le.a,null),label:he(n||0)}))),subheader:a.fecha})),o.a.createElement(_e.a,{in:N,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$".concat(a.cotizacion.valor),secondary:a.cotizacion.nombre})),a.productos.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"".concat(e.cantidad," ").concat(e.producto),secondary:"$".concat(he(j?(e.precio+.21*e.precio)*e.cantidad:e.precio*e.cantidad)," ($").concat(he(j?e.precio+.21*e.precio:e.precio)," c/u)")}),e.discount?o.a.createElement(M.a,{primary:o.a.createElement(Be.a,{className:m.cardProductoChip,variant:"default",label:"-".concat(e.discount,"%")})}):null,e.increase?o.a.createElement(M.a,{primary:o.a.createElement(Be.a,{className:m.cardProductoChip,variant:"default",label:"+".concat(e.increase,"%")})}):null)}))))),o.a.createElement(me.a,{elevation:3,className:m.cardPedidoActions},o.a.createElement(It.a,null,o.a.createElement(de.a,{container:!0,justify:"space-around"},o.a.createElement(k.a,{variant:"h5"},"$ ".concat(he(j?a.total+.21*a.total:a.total))),o.a.createElement(wt.a,{control:o.a.createElement(qt.a,{checked:j,onChange:function(e){O(e.target.checked)}}),label:"Facturacion "}),o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:m.textWhite,to:{pathname:"/Enviar-Pedido",search:"".concat(t),props:{total:j?a.total+.21*a.total:a.total,facturacion:j,nombre:a.cliente}}},o.a.createElement(le.a,{variant:"outlined"},"Enviar Pedido")))))))},Tt=function(e){var a=e.showDialog,t=e.setShowDialog,n=e.action,r=e.tipo;return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea ",r,"?"),o.a.createElement(ce.a,null,"Si continua se perderan los datos ingresados"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1)}},"Cancelar"),o.a.createElement(le.a,{color:"primary",onClick:function(){n()}},"Continuar")))},Bt=t(43),At=(Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),function(e){var a=e.cheque,t=e.search,n=(e.guardarChequeRebotado,e.id),r=(e.guardarChequeEnBlanco,e.guardarChequeEnNegro,e.setShowDialogDelete),l=e.setDeleteIndex,i=e.setShowDialogSelectGroup,s=e.setIdGroup,u=Pe(),m=Object(c.useState)(null),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(!1),f=Object(g.a)(h,2),v=(f[0],f[1],Object(c.useState)(!1)),j=Object(g.a)(v,2),O=j[0],y=j[1];return o.a.createElement(o.a.Fragment,null,console.log(a),o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4,className:t?-1==a.numero.search(t)?u.displayNone:u.display:null},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:3,className:a.dadoDeBaja?u.cardChequeHeaderBaja:a.destinatario?u.cardChequeEnviadoHeader:u.cardChequeHeader},o.a.createElement(we.a,{className:a.dadoDeBaja?u.cardHeaderChequeIconDanger:a.destinatario?u.cardHeaderChequeIconSuccess:null,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){y(!O)}},O?o.a.createElement(ea.a,{className:a.dadoDeBaja?u.cardHeaderChequeIconDanger:a.destinatario?u.cardHeaderChequeIconSuccess:null}):o.a.createElement(aa.a,{className:a.dadoDeBaja?u.cardHeaderChequeIconDanger:a.destinatario?u.cardHeaderChequeIconSuccess:null})),a.dadoDeBaja?null:o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){E(e.currentTarget)}},o.a.createElement(Ae.a,{className:a.dadoDeBaja?u.cardHeaderChequeIconDanger:a.acreditado?u.cardHeaderChequeIconSuccess:null})),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){E(null)}},a.grupo?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe.a,{onClick:function(){i(!0),s(n),E(null)}},"Guardar Blanco"),o.a.createElement(Fe.a,{onClick:function(){i(!0),s(n),E(null)}},"Guardar Negro")),a.dadoDeBaja?null:o.a.createElement(Fe.a,{onClick:function(){r(!0),l(n),E(null)}},"Dar de Baja"),a.destinatario?null:o.a.createElement(Fe.a,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:u.textWhite,to:{pathname:"/Depositar-Cheque",search:"".concat(n)}},"Depositar en Cuenta Bancaria")))),title:o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(de.a,{item:!0},"N\xba ",a.numero),o.a.createElement(de.a,{item:!0},o.a.createElement(Be.a,{className:u.cardChequeChip,color:"primary",icon:o.a.createElement(Le.a,null),label:a.valor?he(a.valor):he(0)}))),subheader:a.vencimiento})),o.a.createElement(_e.a,{in:O,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12,spacing:3},a.dadoDeBaja?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"error",className:u.alertCheque},"Cheque Dado De Baja")):null,a.destinatario?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:u.alertCheque},a.depositadoEnCuenta?"Depositado en Cuenta de ":"Entregado a ",o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:u.textWhite,to:a.depositadoEnCuenta?{pathname:"/Cuentas-Bancarias",search:"".concat(a.destinatario)}:{pathname:"/Proveedor",search:"".concat(a.destinatario)}},a.destinatario)," el ",a.egreso)):null),o.a.createElement(A.a,null,a.grupo?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.grupo,secondary:"Grupo"})):null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:u.textWhite,to:{pathname:"/Cliente",search:"".concat(a.nombre)}},o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.nombre,secondary:"Entregado por"}))),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.ingreso,secondary:"Fecha de Entrega"})),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.vencimiento,secondary:"Vencimiento"})),o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.banco,secondary:"Banco"}))))))))}),Lt=Object(j.b)((function(e){return{user:e.user,cheques:e.cheques,clientes:e.clientes,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.location.search?e.location.search.slice(1):""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],d=s[1],p=Object(c.useState)(!1),E=Object(g.a)(p,2),h=E[0],f=E[1],v=Object(c.useState)(""),j=Object(g.a)(v,2),O=(j[0],j[1]),x=Object(c.useState)(""),C=Object(g.a)(x,2),D=(C[0],C[1]),S=Object(c.useState)(void 0),N=Object(g.a)(S,2),P=N[0],I=N[1],w=Object(c.useState)(!1),F=Object(g.a)(w,2),T=F[0],B=F[1],A=Object(c.useState)(!1),L=Object(g.a)(A,2),H=L[0],M=L[1],$=Object(c.useState)(!1),z=Object(g.a)($,2),G=z[0],V=z[1],W=Object(c.useState)(void 0),R=Object(g.a)(W,2),Y=R[0],U=R[1],J=function(a,t,n){var r=e.clientes[t].datos.deuda+parseFloat(a);if(Object(q.database)().ref().child(e.user.uid).child("clientes").child(t).child("datos").update({deuda:r}),n){var c=e.proveedores[n].datos.deuda+parseFloat(a);Object(q.database)().ref().child(e.user.uid).child("proveedores").child("".concat(n)).child("datos").update({deuda:c})}},X=function(a,t,n){var r=function(a){return"cliente"==a||"proveedor"==a?c(a)+parseFloat(e.cheques[t].valor):void 0},c=function(t){return"cliente"==t?e.clientes[a].datos.deuda:"proveedor"==t?e.proveedores[n].datos.deuda:void 0},o={deudaPasada:c("cliente"),deudaActualizada:r("cliente"),cheques:[e.cheques[t].numero],fecha:fe(),pagado:-e.cheques[t].valor,total:-e.cheques[t].valor};Object(q.database)().ref().child(e.user.uid).child("clientes").child(a).child("pagos").push(o),n&&(o.deudaPasada=c("proveedor"),o.deudaActualizada=r("proveedor"),Object(q.database)().ref().child(e.user.uid).child("proveedores").child(n).child("pagos").push(o))};return Object(c.useEffect)((function(){if(f(!0),e.cheques){var a=function(){var a={},t=(new Date).getFullYear();return Object.keys(e.cheques).forEach((function(n){var r=e.cheques[n].vencimiento.split("/")[2];if(t==r){var c=e.cheques[n].vencimiento.split("/")[1];a[c]||(a[c]={total:0,totalDisponible:0,cheques:[]}),e.cheques[n].dadoDeBaja||(a[c].total+=parseInt(e.cheques[n].valor,10),e.cheques[n].destinatario||(a[c].totalDisponible+=parseInt(e.cheques[n].valor,10))),a[c].cheques=Object(m.a)({},a[c].cheques,Object(y.a)({},"".concat(n),e.cheques[n])),console.log(a[c].cheques)}})),a}();I(a)}!function(e){var a=0,t=0;e&&Object.keys(e).map((function(n){e[n].destinatario||e[n].dadoDeBaja||e[n].grupo&&("Blanco"==e[n].grupo?a+=parseFloat(e[n].valor):t+=parseFloat(e[n].valor))})),O(a),D(t)}(e.cheques),e.history.location.search&&l(e.history.location.search.slice(1)),setTimeout((function(){f(!1)}),500)}),[e.cheques]),o.a.createElement(ue,{history:e.history,page:"Cheques",user:e.user.uid},o.a.createElement(me.a,{className:a.content},console.log(r),o.a.createElement(de.a,{container:!0,spacing:6},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"space-around"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!e.cheques,label:"Buscar Cheque"})),o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Cheques-Personales"}},o.a.createElement(le.a,{endIcon:o.a.createElement(Pt.a,null)},"Cheques Personales")))),o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},P?o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},Object.keys(P).reverse().map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:a.CardMonthCheques},o.a.createElement(we.a,{title:"$ ".concat(he(P[e].totalDisponible)," ($ ").concat(he(P[e].total),")"),subheader:Ne[e-1]}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(P[e].cheques).map((function(a){return o.a.createElement(At,{cheque:P[e].cheques[a],id:a,search:r,setShowDialogDelete:B,setDeleteIndex:M,setShowDialogSelectGroup:V,setIdGroup:U})}))))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Cheques Ingresados")))))),o.a.createElement(We.a,{className:a.backdrop,open:h},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Tt,{showDialog:T,setShowDialog:B,action:function(){!function(a){f(!0);var t=e.cheques[a].valor,n=e.cheques[a].nombre,r=e.cheques[a].destinatario?e.cheques[a].destinatario:void 0;X(n,a,r),J(t,n,r),Object(q.database)().ref().child(e.user.uid).child("cheques").child(a).update({dadoDeBaja:!0}).then((function(){d("El cheque se dio de baja correctamente!"),B(!1),setTimeout((function(){f(!1),d("")}),2e3)})).catch((function(){f(!1)}))}(H)},tipo:"dar de baja el cheque"}),o.a.createElement(Tt,{showDialog:G,setShowDialog:V,action:function(){var a;a=Y,f(!0),Object(q.database)().ref().child(e.user.uid).child("cheques").child(a).update({grupo:"Blanco"}).then((function(){d("El cheque Se Agrego Al Grupo!"),V(!1),setTimeout((function(){f(!1),d("")}),2e3)}))},tipo:"Guardar Cheque en Blanco"}),o.a.createElement(Tt,{showDialog:G,setShowDialog:V,action:function(){var a;a=Y,f(!0),Object(q.database)().ref().child(e.user.uid).child("cheques").child(a).update({grupo:"Negro"}).then((function(){d("El cheque Se Agrego Al Grupo!"),V(!1),setTimeout((function(){f(!1),d("")}),2e3)}))},tipo:"Guardar Cheque en Negro"}),o.a.createElement(Ye.a,{open:u,autoHideDuration:2e3,onClose:function(){d("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},u))))})),Ht=t(291),Mt=function(e){var a=e.cadenaDeProduccion,t=Pe();return o.a.createElement(va.a,{activeStep:-1,alternativeLabel:!0},a.map((function(e){return o.a.createElement(ga.a,{key:e.proceso},o.a.createElement(ba.a,null,e.proceso,o.a.createElement("br",null),e.proveedor?o.a.createElement(b.b,{className:t.link,style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Proveedor",search:"".concat(e.proveedor)}},e.proveedor):"Proceso Propio"))})))},$t=function(e){var a=e.precio,t=e.cantidad,n=e.search,r=e.name,l=e.historialDeStock,i=(e.eliminarProducto,e.subproductos),s=e.cadenaDeProduccion,u=e.historialDeProduccion,m=e.isSubproducto,d=e.iniciarCadena,p=e.setDeleteIndex,E=e.setShowDialogDelete,h=Pe(),f=Object(c.useState)(null),v=Object(g.a)(f,2),j=v[0],O=v[1],y=Object(c.useState)(!1),x=Object(g.a)(y,2),C=(x[0],x[1],Object(c.useState)(!1)),k=Object(g.a)(C,2),S=k[0],N=k[1],P=Object(c.useState)(""),I=Object(g.a)(P,2);I[0],I[1];return o.a.createElement(de.a,{item:!0,xs:8,sm:6,md:4,lg:3,className:n?-1==r.toLowerCase().search(n.toLowerCase())?h.displayNone:h.display:null},o.a.createElement(Ie.a,null,o.a.createElement(we.a,{className:h.cardCliente,action:o.a.createElement(o.a.Fragment,null,i||s||l?o.a.createElement(D.a,{onClick:function(){N(!S)}},S?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)):null,o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){O(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:function(){O(null)}},o.a.createElement(b.b,{className:h.link,style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Editar-Producto",search:"".concat(r)}},o.a.createElement(Fe.a,null,"Editar")),s?o.a.createElement(Fe.a,{onClick:function(){O(null),d(r)}},"Iniciar Cadena de produccion"):null,u?o.a.createElement(Fe.a,null,o.a.createElement(b.b,{className:h.link,style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Historial-De-Produccion",search:"".concat(r)}},"Historial de Produccion")):null,o.a.createElement(Fe.a,{onClick:function(){O(null),E(!0),p(r)}},"Eliminar"))),title:[r,o.a.createElement(Be.a,{color:"inherit",label:t,style:{marginLeft:"8px"}})],subheader:m?null:"$ ".concat(he(a)," c/u")}),o.a.createElement(_e.a,{in:S,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},l?o.a.createElement(de.a,{container:!0,xs:12,spacing:3},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,null,o.a.createElement(B.a,null),o.a.createElement(Ht.a,null,"Historial de Stock"),o.a.createElement(B.a,null))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},function(e){var a=[],t=[];Object.keys(e).map((function(n){a.push(e[n].cantidad),t.push(e[n].fecha)}));var n={labels:t,chart:{sparkline:{enabled:!0}},stroke:{curve:"smooth"},tooltip:{theme:"dark"}},r=[{name:"Stock",data:a}];return console.log(a),console.log(t),o.a.createElement(ha.a,{options:n,series:r,type:"area",height:100})}(l))):null,i?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},function(e){var a=[],t=[];e.map((function(e){a.push(parseInt(e.cantidad)),t.push(e.nombre)}));var n={series:a,labels:t,theme:{mode:"dark",palette:"palette2"},dataLabels:{dropShadow:{enabled:!0,left:2,top:2,opacity:.5}},tooltip:{fillSeriesColor:!1},chart:{sparkline:{enabled:!0}}};return console.log(a),console.log(t),o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,xs:12},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,null,o.a.createElement(B.a,null),o.a.createElement(Ht.a,null,"Componentes"),o.a.createElement(B.a,null)))),o.a.createElement(ha.a,{options:n,series:a,type:"donut",width:300}))}(i))):null,s?o.a.createElement(de.a,{container:!0,xs:12},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(A.a,null,o.a.createElement(B.a,null),o.a.createElement(Ht.a,null,"Cadena de Produccion"),o.a.createElement(B.a,null))),o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(Mt,{cadenaDeProduccion:s}))):null)))))},zt=Object(j.b)((function(e){return{user:e.user,productos:e.productos}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.location.search.slice(1)?e.location.search.slice(1):""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(!1),v=Object(g.a)(f,2),j=(v[0],v[1],Object(c.useState)(0)),O=Object(g.a)(j,2),y=O[0],C=O[1],S=Object(c.useState)(!1),N=Object(g.a)(S,2),P=N[0],I=N[1],w=Object(c.useState)(void 0),T=Object(g.a)(w,2),B=T[0],A=T[1],L=function(a){h(!0);var t=[];t.producto=a,t.fechaDeInicio=fe(),t.procesos=[],e.productos[a].cadenaDeProduccion.map((function(e){t.procesos.push(e),t.procesos[0].fechaDeInicio=fe()})),h(!0),F.a.database().ref().child(e.user.uid).child("cadenasActivas").push(t).then((function(){m("La cadena se inicio correctamente!!"),setTimeout((function(){e.history.replace("/Cadenas-De-Produccion"),h(!1)}),2e3)})).catch((function(){h(!1)}))},H=function(e){var t=e.children,n=e.value,r=e.index;Object(gt.a)(e,["children","value","index"]);return o.a.createElement("div",{role:"tabpanel",className:a.tabPanelDeuda,hidden:n!==r},n===r&&o.a.createElement(jt.a,{p:3},o.a.createElement(k.a,null,t)))};return o.a.createElement(ue,{history:e.history,page:"Productos",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{to:{pathname:"/Nuevo-Producto"}},o.a.createElement(D.a,null,o.a.createElement(wa.a,null)))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!e.productos,label:"Buscar Producto"}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(x.a,{position:"static"},o.a.createElement(Ot.a,{value:y,onChange:function(e,a){C(a)},"aria-label":"simple tabs example"},o.a.createElement(yt.a,{label:"Productos"}),o.a.createElement(yt.a,{label:"Subproductos"}))))),o.a.createElement(H,{value:y,index:0},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:2},Ce(e.productos).length>=1?Ce(e.productos).map((function(e){return o.a.createElement($t,{search:r,precio:e.precio,cadenaDeProduccion:e.cadenaDeProduccion,isSubproducto:!1,historialDeStock:e.historialDeStock,cantidad:e.cantidad,subproductos:e.subproductos?e.subproductos:null,name:e.nombre,iniciarCadena:function(e){L(e)},historialDeProduccion:e.historialDeCadenas,setDeleteIndex:A,setShowDialogDelete:I})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Productos Ingresados"))))),o.a.createElement(H,{value:y,index:1},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:2},ke(e.productos).length>=1?ke(e.productos).map((function(e){return o.a.createElement($t,{search:r,precio:e.precio,cadenaDeProduccion:e.cadenaDeProduccion,cantidad:e.cantidad,name:e.nombre,subproductos:e.subproductos?e.subproductos:null,isSubproducto:!0,iniciarCadena:function(e){L(e)},historialDeProduccion:e.historialDeCadenas,setDeleteIndex:A,setShowDialogDelete:I})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Subproductos Ingresados"))))))),o.a.createElement(We.a,{className:a.backdrop,open:E},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Tt,{showDialog:P,setShowDialog:I,action:function(){var a;a=B,h(!0),Object(q.database)().ref().child(e.user.uid).child("productos").child(a).remove().then((function(){m("El producto se elimin\xf3 correctamente"),I(!1),setTimeout((function(){h(!1)}),2e3)})).catch((function(){h(!1)}))},tipo:"el Producto"}),o.a.createElement(Ye.a,{open:u,autoHideDuration:2e3,onClose:function(){m("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},u))))})),Gt=function(e){var a=e.data,t=e.tipo,n=Pe();return o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{stickyHeader:!0},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:n.titleDetallesCard},"Fecha"),"ventas"==t?o.a.createElement(st.a,{className:n.titleDetallesCard},"Cliente"):o.a.createElement(st.a,{className:n.titleDetallesCard},"Proveedor"),o.a.createElement(st.a,{className:n.titleDetallesCard},"Iva"),o.a.createElement(st.a,{className:n.titleDetallesCard},"Total"))),o.a.createElement(ut.a,null,a?a.map((function(e){return o.a.createElement(it.a,null,o.a.createElement(st.a,null,e.fecha),"ventas"==t?o.a.createElement(st.a,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/cliente",search:e.cliente,props:{searchPedido:e.idPedido}}},e.cliente)):e.consumoFacturado?o.a.createElement(st.a,null,e.titulo):o.a.createElement(st.a,null,o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/proveedor",search:e.proveedor,props:{searchEntrega:e.idEntrega}}},e.proveedor)),e.consumoFacturado?o.a.createElement(st.a,{className:n.titleDetallesCard},"$",he(e.totalIva)):e.metodoDePago.facturacion?o.a.createElement(st.a,{className:n.titleDetallesCard},"$",he(e.total-e.total/1.21)):o.a.createElement(st.a,{className:n.titleDetallesCard},"-"),o.a.createElement(st.a,null,"$",he(e.total)))})):null)))},Vt=Object(O.a)((function(e){return{card:{minHeight:"180px"},displayNone:{display:"none"},display:{display:"block"},header:{"& .MuiTypography-h5":{fontSize:"1.3rem"}},media:{height:0,paddingTop:"56.25%"},deleteButton:{color:e.palette.error.main},paper:{overflow:"auto"},CardAnualIva:{backgroundColor:e.palette.primary.dark,width:"100%"},CardMensualIva:{backgroundColor:e.palette.primary.main},CardContentMensual:{backgroundColor:e.palette.background.default,overflow:"auto"}}})),Wt=function(e){var a=e.compras,t=e.year,n=Vt(),r=Object(c.useState)(!1),l=Object(g.a)(r,2);l[0],l[1];return o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"Compras")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:n.CardAnualIva},o.a.createElement(we.a,{title:"$ ".concat(he(a[t][1].totalIva)),subheader:a[t][0]}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(a[t][1].months).reverse().map((function(e){return 0!==a[t][1].months[e].total?o.a.createElement(Rt,{month:e,total:a[t][1].months[e].totalIva,compras:a[t][1].months[e].compras}):null}))))},Rt=function(e){var a=e.month,t=e.total,n=e.compras,r=Vt(),l=Object(c.useState)(!1),i=Object(g.a)(l,2),s=i[0],u=i[1];return o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(Ie.a,{className:r.CardMensualIva},o.a.createElement(we.a,{className:r.card,title:"$ ".concat(he(t)),subheader:Ne[a-1],action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){u(!s)}},s?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)))}),o.a.createElement(_e.a,{in:s,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,{className:r.CardContentMensual},o.a.createElement(Gt,{data:n})))))},Yt=Object(O.a)((function(e){return{card:{minHeight:"180px"},displayNone:{display:"none"},display:{display:"block"},header:{"& .MuiTypography-h5":{fontSize:"1.3rem"}},media:{height:0,paddingTop:"56.25%"},deleteButton:{color:e.palette.error.main},paper:{overflow:"auto"},CardAnualIva:{backgroundColor:e.palette.primary.dark,width:"100%"},CardMensualIva:{backgroundColor:e.palette.primary.main,width:"100%"},CardContentMensual:{backgroundColor:e.palette.background.default}}})),Ut=function(e){var a=e.ventas,t=e.year,n=Yt(),r=Object(c.useState)(!1),l=Object(g.a)(r,2);l[0],l[1];return o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"Ventas")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:n.CardAnualIva},o.a.createElement(we.a,{title:"$ ".concat(he(a[t][1].totalIva)),subheader:a[t][0]}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(a[t][1].months).reverse().map((function(e){return 0!==a[t][1].months[e].total?o.a.createElement(Jt,{month:e,total:a[t][1].months[e].totalIva,ventas:a[t][1].months[e].ventas}):null}))))},Jt=function(e){var a=e.month,t=e.total,n=e.ventas,r=Yt(),l=Object(c.useState)(!1),i=Object(g.a)(l,2),s=i[0],u=i[1];return o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(Ie.a,{className:r.CardMensualIva},o.a.createElement(we.a,{className:r.card,title:"$ ".concat(he(t)),subheader:Ne[a-1],action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){u(!s)}},s?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)))}),o.a.createElement(_e.a,{in:s,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,{className:r.CardContentMensual},o.a.createElement(Gt,{data:n,tipo:"ventas"})))))},Xt=Object(j.b)((function(e){return{user:e.user,compras:e.compras,ventas:e.ventas}}),null)((function(e){var a=Pe(),t=Object(c.useState)(!1),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(void 0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)(void 0),y=Object(g.a)(O,2),x=y[0],C=y[1];return Object(c.useEffect)((function(){l(!0);var a=function(){var a={};if(e.compras){Object.keys(e.compras).reverse().forEach((function(t){var n=e.compras[t].fecha.split("/")[2],r=e.compras[t].fecha.split("/")[1];a[n]||(a[n]={total:0,totalIva:0,months:{1:{total:0,totalIva:0,compras:[]},2:{total:0,totalIva:0,compras:[]},3:{total:0,totalIva:0,compras:[]},4:{total:0,totalIva:0,compras:[]},5:{total:0,totalIva:0,compras:[]},6:{total:0,totalIva:0,compras:[]},7:{total:0,totalIva:0,compras:[]},8:{total:0,totalIva:0,compras:[]},9:{total:0,totalIva:0,compras:[]},10:{total:0,totalIva:0,compras:[]},11:{total:0,totalIva:0,compras:[]},12:{total:0,totalIva:0,compras:[]}}}),a[n].months[r].compras.push(e.compras[t]),a[n].months[r].total+=parseFloat(e.compras[t].total?e.compras[t].total:0),e.compras[t].consumoFacturado?(a[n].months[r].totalIva+=parseFloat(e.compras[t].totalIva),a[n].totalIva+=parseFloat(e.compras[t].totalIva)):e.compras[t].metodoDePago.facturacion&&(a[n].months[r].totalIva+=parseFloat(e.compras[t].total?e.compras[t].total-e.compras[t].total/1.21:0),a[n].totalIva+=parseFloat(e.compras[t].total?e.compras[t].total-e.compras[t].total/1.21:0)),a[n].total+=parseFloat(e.compras[t].total?e.compras[t].total:0)}));var t=Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}));return console.log(t),t}}(),t=function(){var a={};if(e.ventas)return Object.keys(e.ventas).reverse().forEach((function(t){var n=e.ventas[t].fecha.split("/")[2],r=e.ventas[t].fecha.split("/")[1];a[n]||(a[n]={total:0,totalIva:0,months:{1:{total:0,totalIva:0,ventas:[]},2:{total:0,totalIva:0,ventas:[]},3:{total:0,totalIva:0,ventas:[]},4:{total:0,totalIva:0,ventas:[]},5:{total:0,totalIva:0,ventas:[]},6:{total:0,totalIva:0,ventas:[]},7:{total:0,totalIva:0,ventas:[]},8:{total:0,totalIva:0,ventas:[]},9:{total:0,totalIva:0,ventas:[]},10:{total:0,totalIva:0,ventas:[]},11:{total:0,totalIva:0,ventas:[]},12:{total:0,totalIva:0,ventas:[]}}}),a[n].months[r].ventas.push(e.ventas[t]),a[n].months[r].total+=parseFloat(e.ventas[t].total?e.ventas[t].total:0),a[n].total+=parseFloat(e.ventas[t].total?e.ventas[t].total:0),e.ventas[t].metodoDePago.facturacion&&(a[n].months[r].totalIva+=parseFloat(e.ventas[t].total?e.ventas[t].total-e.ventas[t].total/1.21:0),a[n].totalIva+=parseFloat(e.ventas[t].total?e.ventas[t].total-e.ventas[t].total/1.21:0))})),Object.entries(a).sort((function(e,a){var t=Object(g.a)(e,1)[0];return Object(g.a)(a,1)[0]-t}))}();j(a),C(t),setTimeout((function(){l(!1)}),500)}),[e.compras,e.ventas]),o.a.createElement(ue,{history:e.history,page:"Iva",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",className:a.container,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},x?x.map((function(e,a){return o.a.createElement(le.a,{onClick:function(){m(a)}},e[0])})):null),o.a.createElement(de.a,{container:!0,justify:"space-around"},o.a.createElement(de.a,{item:!0,xs:10,sm:8,md:5,className:a.gridTable},x?o.a.createElement(Ut,{ventas:x,year:u}):null),o.a.createElement(de.a,{item:!0,xs:10,sm:8,md:5,className:a.gridTable},v?o.a.createElement(Wt,{compras:v,year:u}):null))),o.a.createElement(We.a,{className:a.backdrop,open:r},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:E,autoHideDuration:2e3,onClose:function(){h("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},"La compra se agrego correctamente!")))))})),Kt=t(299),Qt=Object(O.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.contrastText}}})),Zt=function(e){var a=e.pago,t=Qt(),n=Object(c.useState)(null),r=Object(g.a)(n,2),l=r[0],i=r[1];return a.cheques?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{onClick:function(e){i(e.currentTarget)},startIcon:o.a.createElement(Kt.a,null)},he(function(e,a){var t=a||0;return e-t!=0?e-t:0}(a.pagado,a.efectivo))),o.a.createElement(qe.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){i(null)}},a.cheques.map((function(e){return o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},className:t.link,to:{pathname:"/Cheques",search:e}},o.a.createElement(Fe.a,null,e))})))):"$ -"},_t=Object(j.b)((function(e){return{user:e.user,clientes:e.clientes}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.clientes[ve(e.history.location.search)].pagos),n=Object(g.a)(t,2),r=n[0];n[1];return o.a.createElement(ue,{history:e.history,page:"Historial ".concat(e.clientes[ve(e.history.location.search)].datos.nombre),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(b.b,{className:a.link,style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Nuevo-Pago-Cliente",props:{cliente:e.clientes[ve(e.history.location.search)].datos.nombre},search:"".concat(e.clientes[ve(e.history.location.search)].datos.nombre)}},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null)},"Nuevo Pago"))),r?o.a.createElement(de.a,{item:!0,xs:11},o.a.createElement(me.a,{elevation:3},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{stickyHeader:!0},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Fecha"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Efectivo"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Cheques"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Deuda Pasada"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Deuda Actualizada"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Pedido"))),o.a.createElement(ut.a,null,Object.keys(r).reverse().map((function(a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{align:"right"},r[a].fecha),o.a.createElement(st.a,{align:"right"},"$ ",r[a].efectivo?he(r[a].efectivo):"-"),o.a.createElement(st.a,{align:"right"},o.a.createElement(Zt,{pago:r[a]})),o.a.createElement(st.a,{align:"right"},"$ ",he(r[a].deudaPasada)),o.a.createElement(st.a,{align:"right"},"$ ",he(r[a].deudaActualizada)),o.a.createElement(st.a,{align:"right"},r[a].idPedido?o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/cliente",search:e.history.location.search,props:{searchPedido:r[a].idPedido}}},o.a.createElement(le.a,{variant:"outlined"},"Ver")):"-"))}))))))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},ve(e.location.search)," no tiene historial de pagos")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"}))))))})),en=Object(O.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.contrastText}}})),an=function(e){var a=e.pago,t=en(),n=Object(c.useState)(null),r=Object(g.a)(n,2),l=r[0],i=r[1];return a.chequesPersonales?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{onClick:function(e){i(e.currentTarget)},startIcon:o.a.createElement(Kt.a,null)},he(a.totalChequesPersonales)),o.a.createElement(qe.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){i(null)}},a.chequesPersonales.map((function(e){return o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},className:t.link,to:{pathname:"/Cheques-Personales",search:e}},o.a.createElement(Fe.a,null,e))})))):"$ -"},tn=Object(j.b)((function(e){return{user:e.user,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.proveedores[ve(e.history.location.search)].pagos),n=Object(g.a)(t,2),r=n[0];n[1];return o.a.createElement(ue,{history:e.history,page:"Historial ".concat(e.proveedores[ve(e.history.location.search)].datos.nombre),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},to:{pathname:"/Nuevo-Pago-Proveedor",props:{proveedor:e.proveedores[ve(e.history.location.search)].datos.nombre},search:"".concat(e.proveedores[ve(e.history.location.search)].datos.nombre)}},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null)},"Nuevo Pago"))),r?o.a.createElement(de.a,{item:!0,xs:11},o.a.createElement(me.a,{elevation:3},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{stickyHeader:!0},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:a.titleDetallesCard,align:"left"},"Fecha"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Efectivo"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Cheques"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Cheques Personales"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Total"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Deuda Pasada"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Deuda Actualizada"),o.a.createElement(st.a,{className:a.titleDetallesCard,align:"right"},"Entrega"))),o.a.createElement(ut.a,null,Object.keys(r).reverse().map((function(a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{align:"left"},r[a].fecha),o.a.createElement(st.a,{align:"right"},"$ ",r[a].efectivo?he(r[a].efectivo):"-"),o.a.createElement(st.a,{align:"right"},o.a.createElement(Zt,{pago:r[a]})),o.a.createElement(st.a,{align:"right"},o.a.createElement(an,{pago:r[a]})),o.a.createElement(st.a,{align:"right"},"$ ",he(r[a].pagado)),o.a.createElement(st.a,{align:"right"},"$ ",he(r[a].deudaPasada)),o.a.createElement(st.a,{align:"right"},"$ ",he(r[a].deudaActualizada)),o.a.createElement(st.a,{align:"right"},r[a].idEntrega?o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Proveedor",search:e.history.location.search,props:{searchEntrega:r[a].idEntrega}}},o.a.createElement(le.a,{variant:"outlined"},"Ver")):"-"))}))))))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},ve(e.location.search)," no tiene historial de pagos")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"}))))))})),nn=Object(j.b)((function(e){return{user:e.user,pedidos:e.pedidos,productos:e.productos,clientes:e.clientes,tipoDeCambio:parseFloat(e.dolares[1].casa.venta)}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=(n[0],n[1],Object(c.useState)("")),l=Object(g.a)(r,2),i=l[0],s=l[1],u=Object(c.useState)(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],E=Object(c.useState)(!1),h=Object(g.a)(E,2),f=(h[0],h[1],Object(c.useState)(!1)),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)(!1),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(!1),S=Object(g.a)(D,2),N=S[0],P=S[1],I=Object(c.useState)(!1),w=Object(g.a)(I,2),F=w[0],T=w[1];return o.a.createElement(ue,{history:e.history,page:"Pedidos",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},e.pedidos?Object.keys(e.pedidos).map((function(a){return o.a.createElement(Ft,{pedido:e.pedidos[a],deuda:e.clientes[e.pedidos[a].cliente].datos.deuda,id:a,setShowDialogDelete:j,setDeleteIndex:P,setUpdatePricesIndex:T,setShowDialogUpdatePrices:C,tipoDeCambio:e.tipoDeCambio})})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Pedidos Ingresados")))),o.a.createElement(We.a,{className:a.backdrop,open:d},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Tt,{showDialog:v,setShowDialog:j,action:function(){var a;a=N,p(!0),Object(q.database)().ref().child(e.user.uid).child("pedidos").child(a).remove().then((function(){s("El pedido se elimin\xf3 correctamente!"),j(!1),setTimeout((function(){p(!1)}),2e3)})).catch((function(){p(!1)}))},tipo:"eliminar el Pedido"}),o.a.createElement(Tt,{showDialog:x,setShowDialog:C,action:function(){!function(a){p(!0);var t=e.pedidos[a],n=0;console.log(e.pedidos[a].cotizacion.valor),t.productos.map((function(t){t.precio=t.precio/e.pedidos[a].cotizacion.valor*e.tipoDeCambio,t.total=t.precio/e.pedidos[a].cotizacion.valor*e.tipoDeCambio*t.cantidad,n+=t.precio*t.cantidad})),t.cotizacion.valor=e.tipoDeCambio,t.total=n,Object(q.database)().ref().child(e.user.uid).child("pedidos").child(a).update(t).then((function(){s("El precio se actualizo correctamente!"),C(!1),setTimeout((function(){p(!1)}),2e3)})).catch((function(){p(!1)}))}(F)},tipo:"Actualizar los precios a $".concat(he(e.tipoDeCambio))}),o.a.createElement(Ye.a,{open:i,autoHideDuration:2e3,onClose:function(){s("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},i)))))})),rn=function(e){var a=e.entrega,t=e.id,n=e.eliminarEntrega,r=e.deuda,l=Pe(),i=Object(c.useState)(null),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(!1),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(!1),v=Object(g.a)(f,2),j=v[0],O=v[1];return o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:3,className:l.cardPedidoHeader},o.a.createElement(we.a,{action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){h(!E)}},E?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null)),o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){m(e.currentTarget)}},o.a.createElement(Ae.a,null)),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:function(){m(null)}},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:l.link,to:{pathname:"/Editar-Entrega",search:"".concat(t)}},o.a.createElement(Fe.a,null,"Editar")),o.a.createElement(Fe.a,{className:l.deleteButton,onClick:function(){m(null),n()}},"Eliminar"))),title:o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:l.textWhite,to:{pathname:"/Proveedor",search:"".concat(a.proveedor)}},a.proveedor,o.a.createElement(de.a,{item:!0},o.a.createElement(Be.a,{className:r>0?l.cardDeudaRed:l.cardDeudaGreen,variant:"outlined",icon:o.a.createElement(Le.a,null),label:he(r||0)}))))),subheader:a.fecha})),o.a.createElement(_e.a,{in:E,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(A.a,null,a.cotizacion?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$".concat(a.cotizacion.valor),secondary:a.cotizacion.nombre})):null,a.productos.map((function(e){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"".concat(e.cantidad," ").concat(e.producto),secondary:"$".concat(he(j?(e.precio+.21*e.precio)*e.cantidad:e.precio*e.cantidad)," ($").concat(he(j?e.precio+.21*e.precio:e.precio)," c/u)")}))}))))),o.a.createElement(me.a,{elevation:3,className:l.cardPedidoActions},o.a.createElement(It.a,null,o.a.createElement(de.a,{container:!0,justify:"space-around"},o.a.createElement(k.a,{variant:"h5"},"$ ".concat(he(j?1.21*a.total:a.total))),o.a.createElement(wt.a,{control:o.a.createElement(qt.a,{checked:j,onChange:function(e){O(e.target.checked)}}),label:"Facturacion "}),o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:l.textWhite,to:{pathname:"/Recibir-Entrega",search:"".concat(t),props:{total:j?a.total+.21*a.total:a.total,facturacion:j}}},o.a.createElement(le.a,{variant:"outlined"},"Recibir Entrega")))))))},cn=Object(j.b)((function(e){return{user:e.user,entregas:e.entregas,productos:e.productos,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=(n[0],n[1],Object(c.useState)("")),l=Object(g.a)(r,2),i=l[0],s=l[1],u=Object(c.useState)(!1),m=Object(g.a)(u,2),d=m[0],p=m[1],E=Object(c.useState)(!1),h=Object(g.a)(E,2);h[0],h[1];return o.a.createElement(ue,{history:e.history,page:"Entregas",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},e.entregas?Object.keys(e.entregas).map((function(a){return o.a.createElement(o.a.Fragment,null,o.a.createElement(rn,{entrega:e.entregas[a],deuda:e.proveedores[e.entregas[a].proveedor].datos.deuda,id:a,eliminarEntrega:function(){var t;t=a,p(!0),Object(q.database)().ref().child(e.user.uid).child("entregas").child(t).remove().then((function(){s("La entrega se elimin\xf3 correctamente!"),setTimeout((function(){p(!1),s("")}),2e3)})).catch((function(){p(!1)}))}}))})):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Entregas Ingresadas"))))),o.a.createElement(We.a,{className:a.backdrop,open:d},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:i,autoHideDuration:2e3,onClose:function(){s("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},i))))})),on=function(e){var a=e.productos,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,md:8,alignItems:"center",justify:"center"},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Producto"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Cantidad"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Precio Unitario"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Precio Total"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,{key:e.producto},o.a.createElement(st.a,{component:"th",scope:"row"},e.producto),o.a.createElement(st.a,{align:"right"},e.cantidad),o.a.createElement(st.a,{align:"right"},"$ ",he(e.precio)),o.a.createElement(st.a,{align:"right"},"$ ",he(e.total)),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))})))))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Hay Productos Seleccionados")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"300px"})))},ln=function(e){var a=e.open,t=e.setOpen,n=e.productos,r=e.setproductos,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=e.productosList,m=e.total,d=e.settotal,p=Pe(),E=Object(c.useState)(void 0),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(void 0),j=Object(g.a)(v,2),O=j[0],y=j[1],x=Object(c.useState)(""),C=Object(g.a)(x,2),D=C[0],k=C[1],S=Object(c.useState)(!1),N=Object(g.a)(S,2),P=(N[0],N[1]),I=function(){b(void 0),y(void 0),k(void 0)},w=function(){var e=n;!function(){var e=m;n[i].precio!=D&&(console.log(e),e-=n[i].cantidad*n[i].precio,e+=n[i].cantidad*D,console.log(e)),n[i].cantidad>O?(console.log(e),e-=(n[i].cantidad-O)*D,console.log(e)):n[i].cantidad<O&&(console.log(e),e+=(O-n[i].cantidad)*D,console.log(e)),console.log(e),d(e)}(),e[i]={producto:f,cantidad:O,precio:D,total:D*O},r(e)};return Object(c.useEffect)((function(){l&&(b(n[i].producto),y(n[i].cantidad),k(n[i].precio))}),[l]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,l?"Editar Producto Elegido":"Elige un producto"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(rt.a,{freeSolo:!0,value:f,options:u,getOptionLabel:function(e){return e.nombre},onChange:function(e){b(e.target.value)},onSelect:function(e){b(e.target.value)},style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Producto",variant:"outlined"}))}})),f&&o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{label:"Precio",type:"number",value:D,onChange:function(e){k(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{label:"Cantidad",type:"number",value:O,onChange:function(e){y(e.target.value)}}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{className:p.totalProductoNuevoPedido,elevation:3},o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"Total",secondary:"$ ".concat(O*D?he(O*D):"-")}))))))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),I(),P(!1),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!f||!O||!D,onClick:function(){l?(w(),s(-1)):function(){var e=n;e.push({producto:f,cantidad:O,precio:D,total:D*O}),r(e),d(m+O*D)}(),I(),P(!1),t(!1)}},l?"Editar":"Agregar")))},sn=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),un=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;sn();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(s-n[c].cantidad*n[c].precio);var e=n;e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},mn=t(38),dn=t(309),pn=function(e){var a=e.datos,t=e.setDatos,n=e.tipoDeDato,r=e.proveedoresList,l=e.productosList,i=e.total,s=e.settotal,u=Pe(),m=Object(c.useState)(!1),d=Object(g.a)(m,2),p=d[0],E=d[1],h=Object(c.useState)(-1),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(!1),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),D=Object(g.a)(C,2),S=D[0],N=D[1],P=function(){var e=[];return Object.values(l).map((function(a){e.push(a),a.cadenaDeProduccion})),e};return function(){switch(n){case"Destinatario":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3},o.a.createElement(de.a,{item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,options:r?Object.keys(r):{},disabled:!r,getOptionLabel:function(e){return e},onSelect:function(e){t(e.target.value)},onChange:function(e){t(e.target.value)},value:a,style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Proveedor",variant:"outlined"}))}}))));case"Productos":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){E(!0)}},"Agregar Producto")),o.a.createElement(on,{productos:a,seteditIndex:v,showDialog:function(){E(!0)},openDialogDelete:function(e){N(e),x(!0)}}),a.length?o.a.createElement(de.a,{container:!0,justify:"center"},o.a.createElement(de.a,{item:!0,justify:"center"},o.a.createElement(me.a,{elevation:3,className:u.cardTotalPedidoDanger},o.a.createElement(k.a,{variant:"h5"},"Total $ ",he(i))))):null,o.a.createElement(ln,{open:p,setOpen:E,productos:a,setproductos:t,edit:-1!=b,editIndex:b,seteditIndex:v,productosList:P(),total:i,settotal:s}),o.a.createElement(un,{open:y,setopen:x,datos:a,setDatos:t,index:S,setdeleteIndex:N,tipoDeElemento:"Producto",total:i,settotal:s}));case"Fecha":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,label:"Fecha del pedido",value:a,onChange:function(e){t(e)}}))))}}()},En=Object(j.b)((function(e){return{user:e.user,entregas:e.entregas,productos:e.productos,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)([]),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(void 0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)(0),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(!1),k=Object(g.a)(D,2),S=k[0],N=k[1],P=Object(c.useState)(!1),I=Object(g.a)(P,2),w=I[0],F=I[1],T=["Elegir el Proveedor","Elegir Los productos"],B=function(){C((function(e){return e+1}))},A=function(){C((function(e){return e-1}))};var L=function(e){switch(e){case 0:return!r;case 1:return!u.length}};var H=function(){F(!0);var a={proveedor:r,productos:u,total:E,fecha:v||fe()};e.history.location.search?Object(q.database)().ref().child(e.user.uid).child("entregas").child(ve(e.history.location.search)).update(a).then((function(){N("La entrega se edit\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Entregas")}),2e3)})).catch((function(){F(!1)})):Object(q.database)().ref().child(e.user.uid).child("entregas").push(a).then((function(){N("La entrega se agreg\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Entregas")}),2e3)})).catch((function(){F(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.entregas[e.history.location.search.slice(1)],t=a.proveedor,n=a.productos,r=a.total,c=a.fecha;t&&l(t),n&&m(n),r&&h(r),c&&j(c),C(1)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Entrega":"Nueva Entrega",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:x,className:a.stepper},T.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(ca.a,null),label:e,onClick:function(){r&&C(t)},variant:"default",className:x==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(V.a,null),label:e,onClick:function(){r&&C(t)},variant:"default",className:x==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(pn,{tipoDeDato:"Destinatario",datos:r,setDatos:l,proveedoresList:e.proveedores});case 1:return o.a.createElement(pn,{tipoDeDato:"Productos",datos:u,setDatos:m,productosList:e.productos,total:E,settotal:h})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===x,onClick:A},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:L(x),onClick:x===T.length-1?H:B},x===T.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Entrega"):"Siguiente"))))))}))),o.a.createElement(We.a,{className:a.backdrop,open:w},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:S,autoHideDuration:2e3,onClose:function(){N("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},S)))))})),hn=t(300),fn=t(316),bn=function(e){var a=e.chequesList,t=e.cheques,n=e.addCheque,r=Pe();return o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(ct.a,{component:me.a,style:{maxHeight:"300px"}},o.a.createElement(ot.a,{style:{width:"100%"},"aria-label":"simple table",size:"small",stickyHeader:!0},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:r.titleDetallesCard,padding:"checkbox"}),o.a.createElement(st.a,{className:r.titleDetallesCard,align:"left"},"Nombre"),o.a.createElement(st.a,{className:r.titleDetallesCard,align:"right"},"Valor"),o.a.createElement(st.a,{className:r.titleDetallesCard,align:"right"},"Banco"),o.a.createElement(st.a,{className:r.titleDetallesCard,align:"right"},"Numero"),o.a.createElement(st.a,{className:r.titleDetallesCard,align:"right"},"Vencimiento"))),o.a.createElement(ut.a,null,a?Object.keys(a).reverse().map((function(e,r){return a[e].dadoDeBaja||a[e].destinatario?null:o.a.createElement(it.a,{onClick:function(){n(e)},style:{cursor:"pointer"}},o.a.createElement(st.a,null,o.a.createElement(fn.a,{color:"primary",checked:-1!==t.indexOf(e)})),o.a.createElement(st.a,{align:"left"},a[e].nombre),o.a.createElement(st.a,{align:"right"},"$ ",he(a[e].valor)),o.a.createElement(st.a,{align:"right"},a[e].banco),o.a.createElement(st.a,{align:"right"},a[e].numero),o.a.createElement(st.a,{align:"right"},a[e].vencimiento))})):null))))},vn=function(e){var a=e.cheques,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return o.a.createElement(de.a,{item:!0},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard},"Valor"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Numero"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Vencimiento"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{align:"right"},"$ ",e.valor),o.a.createElement(st.a,{align:"right"},e.numero),o.a.createElement(st.a,{align:"right"},e.vencimiento),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))))},gn=function(e){var a=e.open,t=e.setOpen,n=(e.listaCheques,e.setListaCheques,e.listaChequesPersonales),r=e.setListaChequesPersonales,l=e.totalChequesPersonales,i=e.setTotalChequesPersonales,s=e.edit,u=e.editIndex,m=e.seteditIndex,d=e.cliente,p=(Pe(),Object(c.useState)(void 0)),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(void 0),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(void 0),x=Object(g.a)(y,2),C=x[0],D=x[1],k=Object(c.useState)(!1),S=Object(g.a)(k,2),N=(S[0],S[1]),P=function(){f(""),O(void 0),D("")},I=function(e){return"".concat(e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),"/").concat(e.slice(0,e.indexOf("/"))).concat(e.slice(e.lastIndexOf("/")))};return Object(c.useEffect)((function(){s&&(f(n[u].numero),O(I(n[u].vencimiento)),D(n[u].valor))}),[s]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,s?"Editar Cheque":"Ingresa los datos del cheque"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Numero",type:"number",value:h,onChange:function(e){f(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",label:"Fecha de Vencimiento",value:j,onChange:function(e){O(e)}}))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Valor",type:"number",value:C,onChange:function(e){D(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){s&&m(-1),N(!1),P(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!h||!j||!C,onClick:function(){s?(!function(){var e=n,a=parseFloat(l)-parseFloat(e[u].valor)+parseFloat(C),t=j===I(n[u].vencimiento)?I(j):j.toLocaleDateString();i(a),e[u]={destinatario:d,numero:h,vencimiento:t,valor:C},r(e)}(),m(-1)):function(){var e=n;e.push({destinatario:d,numero:h,vencimiento:j.toLocaleDateString(),valor:C}),i(parseFloat(l)+parseFloat(C)),r(e)}(),N(!1),P(),t(!1)}},s?"Editar":"Agregar")))},jn=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),On=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;jn();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(parseInt(s)-n[c].valor);var e=n;console.log(e),e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},yn=function(e){var a=e.efectivo,t=e.setefectivo,n=e.cheques,r=(e.setcheques,e.addCheque),l=e.chequesPersonales,i=e.setChequesPersonales,s=e.totalChequesPersonales,u=e.setTotalChequesPersonales,m=(e.setexpreso,e.remito,e.setremito,e.tipoDeDato),d=(e.setprecio,e.setsumarEnvio,e.sumarEnvio,e.nombre),p=e.chequesList,E=(e.tipo,e.cuentaTransferencia),h=e.setCuentaTransferencia,f=e.totalTransferencia,b=e.setTotalTransferencia,v=e.cuentasBancarias,j=(Pe(),Object(c.useState)(!1)),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(-1),D=Object(g.a)(C,2),k=D[0],S=D[1],N=Object(c.useState)(!1),P=Object(g.a)(N,2),I=P[0],w=P[1],q=Object(c.useState)(void 0),F=Object(g.a)(q,2),T=F[0],B=F[1],A=Object(c.useState)(0),L=Object(g.a)(A,2),H=(L[0],L[1],Object(c.useState)(!1)),M=Object(g.a)(H,2);M[0],M[1];switch(Object(c.useEffect)((function(){console.log(n)}),[n]),m){case"Efectivo":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:a,label:"Monto",variant:"outlined",type:"number",onChange:function(e){t(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Transferencia":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,options:v?Object.keys(v):{},disabled:!v,getOptionLabel:function(e){return e},onSelect:function(e){h(e.target.value)},onChange:function(e){h(e.target.value)},value:E,style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Cuenta de Destino",variant:"outlined"}))}})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:f,variant:"outlined",type:"number",label:"Monto",onChange:function(e){b(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Cheques":return o.a.createElement(de.a,{container:!0,xs:12,spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){x(!0)}},"Agregar Cheque Personal")),l.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(vn,{cheques:l,seteditIndex:S,showDialog:function(){x(!0)},openDialogDelete:function(e){B(e),w(!0)}})):null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(bn,{cheques:n,chequesList:p,addCheque:r})),o.a.createElement(gn,{open:y,setOpen:x,listaChequesPersonales:l,setListaChequesPersonales:i,edit:-1!=k,editIndex:k,seteditIndex:S,totalChequesPersonales:s,setTotalChequesPersonales:u,cliente:d}),o.a.createElement(On,{open:I,setopen:w,datos:l,setDatos:i,index:T,setdeleteIndex:B,tipoDeElemento:"Cheque",total:s,settotal:u}))}},xn=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos,entregas:e.entregas,productos:e.productos,proveedores:e.proveedores,cheques:e.cheques,cuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)([]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),p=s[0],E=s[1],h=Object(c.useState)([]),f=Object(g.a)(h,2),b=f[0],j=f[1],O=Object(c.useState)(0),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(void 0),S=Object(g.a)(D,2),N=S[0],P=S[1],I=Object(c.useState)(void 0),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)(void 0),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(""),$=Object(g.a)(M,2),z=$[0],G=($[1],Object(c.useState)("")),V=Object(g.a)(G,2),W=V[0],R=(V[1],Object(c.useState)(!1)),Y=Object(g.a)(R,2),J=Y[0],X=(Y[1],Object(c.useState)(0)),K=Object(g.a)(X,2),Q=K[0],Z=(K[1],Object(c.useState)(0)),_=Object(g.a)(Z,2),ee=_[0],ae=_[1],te=Object(c.useState)(!1),ne=Object(g.a)(te,2),re=ne[0],ce=ne[1],oe=Object(c.useState)(!1),ie=Object(g.a)(oe,2),se=ie[0],pe=ie[1],Ee=["Efectivo","Transferencia","Cheques"],be=function(){ae((function(e){return e+1}))},ve=function(){ae((function(e){return e-1}))};var ge=function(){var a=Object(d.a)(u.a.mark((function a(){var t,n,r,c,o,l,i,s,m;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:pe(!0),t=e.history.location.search.slice(1),Oe(e.entregas[t].productos),n=ye(),r=xe(),c=function(){return e.proveedores[e.entregas[t].proveedor].datos.deuda+parseFloat(l())},o=function(){return p+x+(L?parseFloat(L):0)+(F?parseFloat(F):0)},l=function(){return e.history.location.props.total-(p+x+(L?parseFloat(L):0))+(F?parseFloat(F):0)},i=function(){return p+x+(L?parseFloat(L):0)+(F?parseFloat(F):0)?(L?parseFloat(L):0)+(F?parseFloat(F):0)+p+x:null},s={fecha:fe(),articulos:e.entregas[t].productos,proveedor:e.entregas[t].proveedor,metodoDePago:{facturacion:e.location.props.facturacion?e.location.props.facturacion:null,efectivo:L||null,cuentaTransferencia:N||null,totalTransferencia:F||null,cheques:n,chequesPersonales:r,totalChequesPersonales:x,fecha:fe(),total:i(),deudaPasada:e.proveedores[e.entregas[t].proveedor].datos.deuda,deudaActualizada:c(),pagado:o(),adeudado:l()},metodoDeEnvio:z?{expreso:z,remito:W,precio:Q}:"Particular",total:e.history.location.props.total+(J?parseFloat(Q):0)},Ce(s.total,p+x+(L?parseFloat(L):0)+(F?parseFloat(F):0)),e.location.props.facturacion&&(s.articulos=je(s.articulos)),m=Object(q.database)().ref().child(e.user.uid).child("proveedores").child(e.entregas[t].proveedor).child("entregas").push(),ke(s,m.key),De(s.metodoDePago,m.key,t),s.metodoDePago.cuentaTransferencia&&Se(s.metodoDePago.cuentaTransferencia,s.metodoDePago.totalTransferencia),ce("La entrega se agreg\xf3 correctamente!"),m.update(s).then((function(){setTimeout((function(){e.history.replace("/Entregas"),Object(q.database)().ref().child(e.user.uid).child("entregas").child(t).remove().then((function(){})).catch((function(){pe(!1),ce("")}))}),2e3)})).catch((function(){pe(!1)}));case 18:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),je=function(e){var a=e;return a.map((function(e){e.precio=e.precio+.21*e.precio,e.total=parseFloat(e.cantidad)*e.precio})),a},Oe=function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.map(function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=parseInt(e.productos[t.producto].cantidad)+parseInt(t.cantidad),a.next=3,Object(q.database)().ref().child(e.user.uid).child("productos").child(t.producto).update({cantidad:n});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ye=function(){var a=[];return r.length&&r.map((function(t){Object(q.database)().ref().child(e.user.uid).child("cheques").child(t).update({destinatario:e.entregas[e.history.location.search.slice(1)].proveedor,egreso:fe()}),a.push(e.cheques[t].numero)})),a},xe=function(){var a=[];return b.length&&b.map((function(t){a.push(t.numero);var n={egreso:fe(),destinatario:t.destinatario,numero:t.numero,vencimiento:t.vencimiento,valor:t.valor};Object(q.database)().ref().child(e.user.uid).child("chequesPersonales").push(n)})),a},Ce=function(a,t){var n=e.history.location.search.slice(1),r=e.proveedores[e.entregas[n].proveedor].datos.deuda;a>t?Object(q.database)().ref().child(e.user.uid).child("proveedores").child(e.entregas[n].proveedor).child("datos").update({deuda:r+(a-t)}):Object(q.database)().ref().child(e.user.uid).child("proveedores").child(e.entregas[n].proveedor).child("datos").update({deuda:r-(t-a)})},De=function(a,t,n){var r=Object(m.a)({},a,{idEntrega:t});Object(q.database)().ref().child(e.user.uid).child("proveedores").child(e.entregas[n].proveedor).child("pagos").push(r)},ke=function(a,t){var n=a;n.idEntrega=t,Object(q.database)().ref().child(e.user.uid).child("compras").push(n)},Se=function(){var a=Object(d.a)(u.a.mark((function a(t,n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={fecha:fe(),tipo:"transferencia",total:n},a.next=3,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(t).child("egresos").push(r);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),Ne=function(a){var t=r.indexOf(a),n=Object(Ve.a)(r);-1!==t?(n.splice(t,1),E(parseFloat(p)-parseFloat(e.cheques[a].valor))):(n.push(a),E(parseFloat(p)+parseFloat(e.cheques[a].valor))),l(n)};return e.history.location.props?o.a.createElement(ue,{history:e.history,page:"Recibir Entrega",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:ee,className:a.stepper},Ee.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){ae(t)},variant:"default",className:ee==t?a.iconLabelSelected:null}));case 1:case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(U.a,null),className:ee==t?a.iconLabelSelected:null,label:e,variant:"default",onClick:function(){ae(t)}}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(yn,{expresosList:e.expresos,efectivo:L,setefectivo:H,cheques:r,setcheques:l,addCheque:Ne,tipoDeDato:"Efectivo",total:p,settotal:E,nombre:e.entregas[e.history.location.search.slice(1)].proveedor,chequesList:e.cheques});case 1:return o.a.createElement(yn,{tipoDeDato:"Transferencia",cuentaTransferencia:N,setCuentaTransferencia:P,totalTransferencia:F,setTotalTransferencia:T,cuentasBancarias:e.cuentasBancarias});case 2:return o.a.createElement(yn,{expresosList:e.expresos,efectivo:L,setefectivo:H,cheques:r,setcheques:l,addCheque:Ne,chequesPersonales:b,setChequesPersonales:j,tipoDeDato:"Cheques",total:p,settotal:E,totalChequesPersonales:x,setTotalChequesPersonales:C,nombre:e.entregas[e.history.location.search.slice(1)].proveedor,chequesList:e.cheques})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3,variant:"body1",className:a.paperTotalRecibirEntrega},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Total $ ",he(p+x+(L?parseFloat(L):0)+(F?parseFloat(F):0))," / $ ",he(parseFloat(e.history.location.props.total)+(J&&Q?parseFloat(Q):0)))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{label:"$ ".concat(he(parseFloat(e.history.location.props.total)+(J&&Q?parseFloat(Q):0)-(p+x+(L?parseFloat(L):0)+(F?parseFloat(F):0))))})))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===ee,onClick:ve},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",onClick:ee===Ee.length-1?ge:be},ee===Ee.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:se},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:re,autoHideDuration:2e3,onClose:function(){ce("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},re)))):o.a.createElement(v.a,{to:"/Entregas"})})),Cn=function(e){var a=e.open,t=e.setOpen,n=e.datos,r=e.setdatos,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=e.total,m=e.settotal,d=e.cliente,p=(Pe(),Object(c.useState)(void 0)),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(void 0),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(void 0),x=Object(g.a)(y,2),C=x[0],D=x[1],k=Object(c.useState)(void 0),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)(!1),w=Object(g.a)(I,2),q=(w[0],w[1]),F=function(){f(""),O(""),D(void 0),P("")},T=function(e){return"".concat(e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),"/").concat(e.slice(0,e.indexOf("/"))).concat(e.slice(e.lastIndexOf("/")))};return Object(c.useEffect)((function(){l&&(f(n[i].numero),O(n[i].banco),D(T(n[i].vencimiento)),P(n[i].valor))}),[l]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,l?"Editar Cheque":"Ingresa los datos del cheque"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Numero",type:"number",value:h,onChange:function(e){f(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Banco",value:j,onChange:function(e){O(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",label:"Fecha de Vencimiento",value:C,onChange:function(e){D(e)}}))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Valor",type:"number",value:N,onChange:function(e){P(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),q(!1),F(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!h||!j||!C||!N,onClick:function(){l?(!function(){var e=n,a=parseFloat(u)-parseFloat(e[i].valor)+parseFloat(N),t=C===T(n[i].vencimiento)?T(C):C.toLocaleDateString();m(a),e[i]={nombre:d,numero:h,banco:j,vencimiento:t,valor:N},r(e)}(),s(-1)):function(){var e=n;e.push({nombre:d,numero:h,banco:j,vencimiento:C.toLocaleDateString(),valor:N}),m(parseFloat(u)+parseFloat(N)),r(e)}(),q(!1),F(),t(!1)}},l?"Editar":"Agregar")))},Dn=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),kn=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;Dn();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(parseInt(s)-n[c].valor);var e=n;console.log(e),e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},Sn=function(e){var a=e.cheques,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return o.a.createElement(de.a,{item:!0},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard},"Nombre"),o.a.createElement(st.a,{className:c.titleDetallesCard},"Valor"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Banco"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Numero"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Vencimiento"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{component:"th",scope:"row"},e.nombre),o.a.createElement(st.a,{align:"right"},"$ ",e.valor),o.a.createElement(st.a,{align:"right"},e.banco),o.a.createElement(st.a,{align:"right"},e.numero),o.a.createElement(st.a,{align:"right"},e.vencimiento),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))))},Nn=function(e){var a=e.efectivo,t=e.setefectivo,n=e.cheques,r=e.setcheques,l=(e.expreso,e.setexpreso),i=e.remito,s=e.setremito,u=e.tipoDeDato,m=e.expresosList,d=e.total,p=e.settotal,E=e.precio,h=e.setprecio,f=e.setsumarEnvio,b=(e.sumarEnvio,e.nombre),v=e.cuentaTransferencia,j=e.setCuentaTransferencia,O=e.totalTransferencia,y=e.setTotalTransferencia,C=e.cuentasBancarias,D=(Pe(),Object(c.useState)(!1)),S=Object(g.a)(D,2),N=S[0],P=S[1],I=Object(c.useState)(-1),w=Object(g.a)(I,2),q=w[0],F=w[1],T=Object(c.useState)(!1),B=Object(g.a)(T,2),A=B[0],L=B[1],H=Object(c.useState)(void 0),M=Object(g.a)(H,2),$=M[0],z=M[1],G=Object(c.useState)(0),V=Object(g.a)(G,2),W=V[0],R=V[1],Y=Object(c.useState)(!1),U=Object(g.a)(Y,2),J=U[0],X=U[1],K=function(e,a){R(a)},Q=function(e){var a=e.children,t=e.value,n=e.index;Object(gt.a)(e,["children","value","index"]);return o.a.createElement("div",{role:"tabpanel",hidden:t!==n},t===n&&o.a.createElement(jt.a,{p:3},o.a.createElement(k.a,null,a)))};return function(){switch(u){case"Metodo De Pago":return o.a.createElement(de.a,{container:!0,xs:12},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(x.a,{position:"static"},o.a.createElement(Ot.a,{value:W,onChange:K,"aria-label":"simple tabs example"},o.a.createElement(yt.a,{label:"Efectivo"}),o.a.createElement(yt.a,{label:"Transferencia"}),o.a.createElement(yt.a,{label:"Cheques"}))))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(Q,{value:W,index:0},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Ingrese la cantidad")),o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:a,variant:"outlined",type:"number",onChange:function(e){t(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})))),o.a.createElement(de.a,{item:!0},o.a.createElement(Q,{value:W,index:1},o.a.createElement(de.a,{container:!0,xs:12,spacing:3,justify:"center"},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(rt.a,{freeSolo:!0,options:C?Object.keys(C):{},disabled:!C,getOptionLabel:function(e){return e},onSelect:function(e){j(e.target.value)},value:v,style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Cuenta de Destino",variant:"outlined"}))}})),o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:O,variant:"outlined",type:"number",label:"Monto",onChange:function(e){y(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}}))))),o.a.createElement(de.a,{item:!0},o.a.createElement(Q,{value:W,index:2},o.a.createElement(de.a,{container:!0,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){P(!0)}},"Agregar Cheque")),n.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(Sn,{cheques:n,seteditIndex:F,showDialog:function(){P(!0)},openDialogDelete:function(e){z(e),L(!0)}})):null,o.a.createElement(Cn,{open:N,setOpen:P,datos:n,setdatos:r,edit:-1!=q,editIndex:q,seteditIndex:F,total:d,settotal:p,cliente:b}),o.a.createElement(kn,{open:A,setopen:L,datos:n,setDatos:r,index:$,setdeleteIndex:z,tipoDeElemento:"Cheque",total:d,settotal:p}))))));case"Metodo De Envio":return o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(wt.a,{control:o.a.createElement(qt.a,{color:"primary",checked:J,onChange:function(e){l(""),s(""),h(""),f(!1),X(e.target.checked)}}),label:"Enviado con expreso"})),J&&o.a.createElement(de.a,{container:!0,item:!0,xs:12,direction:"column",alignItems:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(rt.a,{freeSolo:!0,options:m||[],getOptionLabel:function(e){return e},onSelect:function(e){l(e.target.value)},onChange:function(e){l(e.target.value)},style:{width:"250px"},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Expreso",variant:"outlined"}))}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{style:{width:"250px"},variant:"outlined",value:i,disabled:!J,onChange:function(e){s(e.target.value)},label:"Nro de remito"})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{variant:"outlined",style:{width:"250px"},value:E,disabled:!J,type:"number",onChange:function(e){h(e.target.value)},label:"Precio del envio"}))))}}()},Pn=Object(j.b)((function(e){return{user:e.user,expresos:e.expresos,pedidos:e.pedidos,productos:e.productos,clientes:e.clientes,cuentasBancarias:e.CuentasBancarias,dolares:e.dolares}}),null)((function(e){var a=Pe(),t=Object(c.useState)([]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),p=s[0],E=s[1],h=Object(c.useState)(void 0),f=Object(g.a)(h,2),b=f[0],j=f[1],O=Object(c.useState)(void 0),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(void 0),S=Object(g.a)(D,2),N=S[0],P=S[1],I=Object(c.useState)(""),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)(""),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(0),$=Object(g.a)(M,2),z=$[0],G=$[1],V=Object(c.useState)(0),W=Object(g.a)(V,2),Y=W[0],U=W[1],J=Object(c.useState)(!1),X=Object(g.a)(J,2),K=X[0],Q=X[1],Z=Object(c.useState)(!1),_=Object(g.a)(Z,2),ee=_[0],ae=_[1],te=Object(c.useState)(!1),ne=Object(g.a)(te,2),re=ne[0],ce=ne[1],oe=["Metodo De Envio","Metodo De Pago"],ie=function(){U((function(e){return e+1}))},se=function(){U((function(e){return e-1}))};var pe=function(){var a=Object(d.a)(u.a.mark((function a(){var t,n,r,c,o,l,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ae(!0),t=e.history.location.search.slice(1),a.next=4,be(t);case 4:n=ve(),r=function(){return e.clientes[e.pedidos[t].cliente].datos.deuda+parseFloat(o())},c=function(){return p+(b?parseFloat(b):0)+(N?parseFloat(N):0)},o=function(){return e.history.location.props.total-(p+(b?parseFloat(b):0)+(N?parseFloat(N):0))},l=function(){return(b?parseFloat(b):0)+p+(N?parseFloat(N):0)?(b?parseFloat(b):0)+p+(N?parseFloat(N):0):null},i={fecha:fe(),cliente:e.pedidos[t].cliente,articulos:e.pedidos[t].productos,metodoDePago:{facturacion:e.location.props.facturacion?e.location.props.facturacion:null,efectivo:b||null,cuentaTransferencia:x||null,totalTransferencia:N||null,cheques:n,fecha:fe(),total:l(),deudaPasada:e.clientes[e.pedidos[t].cliente].datos.deuda,deudaActualizada:r(),pagado:c(),adeudado:o()},cotizacion:e.pedidos[t].cotizacion,metodoDeEnvio:F?{expreso:F,remito:L,precio:z}:"Particular",total:e.history.location.props.total},ge(i.total,p+(b?parseFloat(b):0)+(N?parseFloat(N):0)),e.location.props.facturacion&&(i.articulos=Ee(i.articulos)),je(i.total),s=Object(q.database)().ref().child(e.user.uid).child("clientes").child(e.pedidos[t].cliente).child("pedidos").push(),Oe(i,s.key),ye(i.metodoDePago,s.key,t),i.metodoDePago.cuentaTransferencia&&Ce(i.metodoDePago.cuentaTransferencia,i.metodoDePago.totalTransferencia),Q("El pedido se envi\xf3 correctamente!"),s.update(i).then((function(){e.history.replace("/Pedidos"),Object(q.database)().ref().child(e.user.uid).child("pedidos").child(t).remove().then((function(){setTimeout((function(){F&&Object(q.database)().ref().child(e.user.uid).child("expresos").child(F).child("envios").push({fecha:fe(),id:s.key,remito:L,cliente:e.location.props.nombre}).then((function(){ae(!1)}))}),2e3)})).catch((function(){ae(!1)}))})).catch((function(){ae(!1)}));case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ee=function(e){var a=e;return a.map((function(e){e.precio=e.precio+.21*e.precio,e.total=parseFloat(e.cantidad)*e.precio})),a},be=function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.pedidos[t].productos.map(function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=parseInt(e.productos[t.producto].cantidad)-parseInt(t.cantidad),a.next=3,Object(q.database)().ref().child(e.user.uid).child("productos").child(t.producto).update({cantidad:n});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ve=function(){var a=[];return r.length&&r.map((function(t){a.push(t.numero);var n={ingreso:fe(),nombre:t.nombre,numero:t.numero,vencimiento:t.vencimiento,banco:t.banco,valor:t.valor};Object(q.database)().ref().child(e.user.uid).child("cheques").push(n)})),a},ge=function(a,t){var n=e.history.location.search.slice(1),r=e.clientes[e.pedidos[n].cliente].datos.deuda;a>t?Object(q.database)().ref().child(e.user.uid).child("clientes").child(e.pedidos[n].cliente).child("datos").update({deuda:r+(a-t)}):Object(q.database)().ref().child(e.user.uid).child("clientes").child(e.pedidos[n].cliente).child("datos").update({deuda:r-(t-a)})},je=function(a){e.history.location.props.facturacion&&Object(q.database)().ref().child(e.user.uid).child("iva").child("ventas").push({fecha:fe(),iva:a-a/1.21,total:a})},Oe=function(a,t){var n=a;n.idPedido=t,Object(q.database)().ref().child(e.user.uid).child("ventas").push(n)},ye=function(a,t,n){var r=Object(m.a)({},a,{idPedido:t});Object(q.database)().ref().child(e.user.uid).child("clientes").child(e.pedidos[n].cliente).child("pagos").push(r)},Ce=function(){var a=Object(d.a)(u.a.mark((function a(t,n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t,n),r={fecha:fe(),tipo:"transferencia",total:n},a.next=4,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(t).child("ingresos").push(r);case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return e.history.location.props?o.a.createElement(ue,{history:e.history,page:"Enviar Pedido",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:Y,className:a.stepper},oe.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(R.a,null),label:e,onClick:function(){U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){U(t)},variant:"default",className:Y==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(Nn,{expresosList:e.clientes[e.pedidos[e.history.location.search.slice(1)].cliente].datos.expresos,tipoDeDato:"Metodo De Envio",precio:z,setprecio:G,expreso:F,setexpreso:T,remito:L,setremito:H,sumarEnvio:re,setsumarEnvio:ce});case 1:return o.a.createElement(Nn,{expresosList:e.clientes[e.pedidos[e.history.location.search.slice(1)].cliente].datos.expresos,efectivo:b,setefectivo:j,cheques:r,setcheques:l,tipoDeDato:"Metodo De Pago",total:p,settotal:E,nombre:e.pedidos[e.history.location.search.slice(1)].cliente,cuentaTransferencia:x,setCuentaTransferencia:C,totalTransferencia:N,setTotalTransferencia:P,cuentasBancarias:e.cuentasBancarias,cotizaciones:xe(e.dolares)})}}(n),1==Y&&o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3,variant:"body1",className:a.paperTotalEnviarPedido},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Total $ ",he(p+(b?parseFloat(b):0)+(N?parseFloat(N):0))," / $ ",he(parseFloat(e.history.location.props.total)+(re&&z?parseFloat(z):0)))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{label:"$ ".concat(he(parseFloat(e.history.location.props.total)+(re&&z?parseFloat(z):0)-(p+(b?parseFloat(b):0)+(N?parseFloat(N):0))))})))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===Y,onClick:se},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",onClick:Y===oe.length-1?pe:ie},Y===oe.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:ee},o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(Ye.a,{open:K,autoHideDuration:2e3,onClose:function(){Q("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},K))):o.a.createElement(v.a,{to:"/Pedidos"})})),In=t(304),wn=t(301),qn=t(302),Fn=function(e){var a=e.cadenaDeProduccion,t=e.seteditIndex,n=e.setshowDialog,r=e.setshowDialogDelete,c=e.setdeleteIndex,l=Pe();return o.a.createElement(va.a,{activeStep:-1,alternativeLabel:!0},a.map((function(e,a){return o.a.createElement(ga.a,{key:e.proceso},o.a.createElement(ba.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:l.cardHeaderStep},o.a.createElement(we.a,{title:e.proceso,subheader:e.proveedor?e.proveedor:null,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){t(a),n(!0)}},o.a.createElement(wn.a,null)),o.a.createElement(D.a,{onClick:function(){c(a),r(!0)}},o.a.createElement(qn.a,null)))}))))))})))},Tn=function(e){var a=e.subproductos,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete;return o.a.createElement(Ie.a,{style:{width:"300px"}},o.a.createElement(me.a,{elevation:3},o.a.createElement(A.a,null,console.log(a),a.map((function(e,a){return o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:e.nombre,secondary:e.cantidad}),o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null)),o.a.createElement(Da.a,null,o.a.createElement(D.a,{edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))})))))},Bn=t(303),An=function(e){var a=e.edit,t=e.setEdit,n=e.open,r=e.setOpen,l=e.proveedoresList,i=e.cadenaDeProduccion,s=e.setcadenaDeProduccion,u=(Pe(),Object(c.useState)(void 0)),m=Object(g.a)(u,2),d=m[0],p=m[1],E=Object(c.useState)(void 0),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],y=j[1],x=Object(c.useState)(0),C=Object(g.a)(x,2);C[0],C[1];return Object(c.useEffect)((function(){-1!=a&&(p(i[a].proceso),b(i[a].proveedor),y(i[a].isProcesoPropio))}),[a]),o.a.createElement(ne.a,{open:n,maxWidth:"md"},o.a.createElement(re.a,null,-1!=a?"Editar Proceso":"Agregar Proceso"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(rt.a,{freeSolo:!0,options:["Fundido","Mecanizado","Pintado","Ensamblado"],getOptionLabel:function(e){return e},value:d,onSelect:function(e){p(e.target.value)},onChange:function(e){p(e.target.value)},style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Tipo de Proceso",variant:"outlined"}))}})),o.a.createElement(de.a,{item:!0},o.a.createElement(Oa.a,{component:"fieldset"},o.a.createElement(Bn.a,{"aria-label":"position",row:!0},o.a.createElement(wt.a,{control:o.a.createElement(fn.a,{color:"primary",disabled:f,checked:O,onChange:function(){y(!O)}}),label:"Proceso Propio"})))),o.a.createElement(de.a,{item:!0},console.log(l),o.a.createElement(rt.a,{freeSolo:!0,options:l?Object.keys(l):{},disabled:!l||O,getOptionLabel:function(e){return e},value:f,onSelect:function(e){b(e.target.value)},onChange:function(e){b(e.target.value)},style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Proveedor Encargado",variant:"outlined"}))}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){-1!=a&&t(-1),r(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!d||!f&&!O,onClick:function(){if(-1!=a){var e=i;e[a]={proceso:d,proveedor:f||null,isProcesoPropio:O},s(e)}else{var n={proceso:d,proveedor:f||null,isProcesoPropio:O},c=i;c.push(n),s(c)}p(void 0),b(void 0),y(!1),t(-1),r(!1)}},-1!=a?"Editar":"Agregar")))},Ln=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),Hn=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento;Ln();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar El ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){var e=n;e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},Mn=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),$n=function(e){var a=e.open,t=e.setOpen,n=e.subproductos,r=e.setSubproductos,l=e.subproductosList,i=e.edit,s=e.editIndex,u=e.seteditIndex,m=Mn(),d=Object(c.useState)(void 0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(void 0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=function(){h(void 0),j(void 0)};return Object(c.useEffect)((function(){i&&(h(n[s].nombre),j(n[s].cantidad))}),[i]),o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,i?"Editar Subproducto":"Agregar Nuevo Subproducto"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column"},o.a.createElement(de.a,{item:!0,className:m.input},o.a.createElement(Oa.a,{fullWidth:!0},o.a.createElement(ya.a,{id:"demo-mutiple-name-label"},"Subproductos"),o.a.createElement(xa.a,{value:E,onChange:function(e){h(e.target.value)},input:o.a.createElement(Ca.a,null)},l.map((function(e){return o.a.createElement(Fe.a,{key:e.nombre,value:e.nombre},e.nombre)}))))),o.a.createElement(de.a,{item:!0,className:m.input},o.a.createElement(pe.a,{color:"primary",label:"Cantidad",value:v,onChange:function(e){j(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){i&&u(-1),O(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!v||!E,onClick:function(){i?(!function(){var e=n;e[s]={nombre:E,cantidad:v},r(e)}(),u(-1)):function(){var e=n;e.push({nombre:E||null,cantidad:v||null}),r(e)}(),O(),t(!1)}},i?"Editar":"Agregar")))},zn=function(e){var a=e.tipoDeDato,t=e.nombre,n=e.setnombre,r=e.precio,l=e.setprecio,i=e.cantidad,s=e.setcantidad,u=e.proveedoresList,m=e.disableCantidad,d=e.cadenaDeProduccion,p=e.setcadenaDeProduccion,E=e.isSubproducto,h=e.setIsSubproducto,f=e.subproductos,b=e.setSubproductos,v=e.subproductosList,j=(Pe(),Object(c.useState)(!1)),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(-1),D=Object(g.a)(C,2),S=D[0],N=D[1],P=Object(c.useState)(!1),I=Object(g.a)(P,2),w=I[0],q=I[1],F=Object(c.useState)(void 0),T=Object(g.a)(F,2),B=T[0],A=T[1];return function(){switch(a){case"Detalles":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,direction:"column",alignItems:"center",spacing:3},o.a.createElement(de.a,{item:!0},console.log(E),o.a.createElement(wt.a,{control:o.a.createElement(qt.a,{checked:Boolean(E),value:E,color:"default",onChange:function(e){h(!E)}}),label:"Subproducto"})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:t,label:"Nombre",onChange:function(e){n(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!t,type:"number",label:"Precio"})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:i,disabled:m,onChange:function(e){s(e.target.value)},type:"number",label:"Cantidad"})));case"Cadena De Produccion":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{color:"primary",variant:"contained",onClick:function(){x(!0)}},"Agregar Proceso")),d.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(Fn,{cadenaDeProduccion:d,seteditIndex:N,setshowDialog:x,setshowDialogDelete:q,setdeleteIndex:A}))):o.a.createElement(de.a,{container:!0,iterm:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"300px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No Posee Cadena de Produccion"))),o.a.createElement(An,{edit:S,setEdit:N,open:y,setOpen:x,proveedoresList:u,cadenaDeProduccion:d,setcadenaDeProduccion:p}),o.a.createElement(Hn,{open:w,setopen:q,datos:d,setDatos:p,index:B,setdeleteIndex:A,tipoDeElemento:"Proceso"}));case"Componentes":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){x(!0)}},"Agregar Subproducto")),f.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Tn,{subproductos:f,seteditIndex:N,showDialog:function(){x(!0)},openDialogDelete:function(e){A(e),q(!0)}})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No Posee Componentes")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"200px"}))),o.a.createElement($n,{open:y,setOpen:x,subproductos:f,setSubproductos:b,subproductosList:v,edit:-1!=S,editIndex:S,seteditIndex:N}),o.a.createElement(Hn,{open:w,setopen:q,datos:f,setDatos:b,index:B,setdeleteIndex:A,tipoDeElemento:"Subproducto"}))}}()},Gn=Object(j.b)((function(e){return{user:e.user,productos:e.productos,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(0),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)([]),x=Object(g.a)(O,2),C=x[0],D=x[1],k=Object(c.useState)([]),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)(0),w=Object(g.a)(I,2),F=w[0],T=w[1],B=Object(c.useState)(""),A=Object(g.a)(B,2),L=A[0],H=A[1],M=Object(c.useState)(!1),$=Object(g.a)(M,2),z=$[0],V=$[1],W=["Detalles","Cadena De Produccion","Componentes"],R=function(){T((function(e){return e+1}))},Y=function(){T((function(e){return e-1}))};var U=function(e){switch(e){case 0:if(r){if(!u)return!0}else if(!u||!E)return!0}};var J=function(){V(!0);var a=Object(y.a)({},u,{cantidad:parseInt(v),precio:parseFloat(E),nombre:u,cadenaDeProduccion:C.length?C:null,isSubproducto:r||null,subproductos:N});if(e.history.location.search){var t=e.productos[ge(e.history.location.search)];t.historialDeCadenas&&(a[u].historialDeCadenas=t.historialDeCadenas),Object(q.database)().ref().child(e.user.uid).child("productos").child(e.history.location.search.slice(1)).remove().then((function(){Object(q.database)().ref().child(e.user.uid).child("productos").update(a).then((function(){H(e.history.location.search?"El Producto Se Edito Correctamente!":"El Producto Se Agrego Correctamente!"),setTimeout((function(){V(!1),e.history.replace("/Productos")}),2e3)})).catch((function(){V(!1)}))})).catch((function(){V(!1)}))}else Object(q.database)().ref().child(e.user.uid).child("productos").update(a).then((function(){H(e.history.location.search?"El Producto Se Edito Correctamente!":"El Producto Se Agrego Correctamente!"),setTimeout((function(){e.history.replace("/Productos")}),2e3)})).catch((function(){V(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.productos[ge(e.history.location.search)],t=a.nombre,n=a.precio,r=a.cantidad,c=a.cadenaDeProduccion,o=a.subproductos,i=a.isSubproducto;t&&m(t),n&&h(n),r&&j(r),c&&D(c),i&&l(i),o&&P(o)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Producto":"Nuevo Producto",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:F,className:a.stepper},W.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(G.a,null),label:e,onClick:function(){u&&T(t)},variant:"default",className:F==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(X.a,null),label:e,onClick:function(){u&&T(t)},variant:"default",className:F==t?a.iconLabelSelected:null}));case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(In.a,null),label:e,onClick:function(){u&&T(t)},variant:"default",className:F==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(zn,{tipoDeDato:"Detalles",nombre:u,setnombre:m,precio:E,setprecio:h,cantidad:v,setcantidad:j,disableCantidad:!!e.history.location.searchx,isSubproducto:r,setIsSubproducto:l});case 1:return o.a.createElement(zn,{tipoDeDato:"Cadena De Produccion",cadenaDeProduccion:C,setcadenaDeProduccion:D,proveedoresList:e.proveedores});case 2:return o.a.createElement(zn,{tipoDeDato:"Componentes",subproductos:N,setSubproductos:P,subproductosList:Se(e.productos)})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===F,onClick:Y},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:U(F),onClick:F===W.length-1?J:R},F===W.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Producto"):"Siguiente"))))))}))),o.a.createElement(We.a,{className:a.backdrop,open:z},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:L,autoHideDuration:2e3,onClose:function(){H("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},L)))))})),Vn=t(131),Wn=t.n(Vn),Rn=t(324),Yn=t(196),Un=t(307),Jn=t(306),Xn=t(305),Kn=Object(O.a)((function(e){return{root:{height:"100vh"},icon:{color:e.palette.primary.contrastText}}})),Qn=function(){var e=Kn();return o.a.createElement(ue,{hiddenAppBar:!0},o.a.createElement(de.a,{container:!0,className:e.root,justify:"center",alignItems:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(Xn.a,{className:e.icon})),o.a.createElement(de.a,{item:!0},o.a.createElement(Xn.a,{className:e.icon})),o.a.createElement(de.a,{item:!0},o.a.createElement(Xn.a,{className:e.icon})))))},Zn=Object(O.a)((function(e){return{paper:{margin:e.spacing(0,4),padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},background:{background:e.palette.primary.main,color:e.palette.primary.contrastText},link:{color:e.palette.primary.contrastText,"& .MuiLink-underlineHover":{textDecoration:"none",color:e.palette.primary.contrastText}},root:{width:"100%"},title:{color:e.palette.primary.contrastText},checkBox:{color:e.palette.primary.contrastText,"& .MuiIconButton-label":{color:e.palette.primary.contrastText}},linkButtons:{display:"flex",flexDirection:"column"},logo:{width:"100%"}}})),_n=function(e){e.history;var a=Zn(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(!1),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)(!1),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],y=j[1],x=Object(c.useState)(void 0),C=Object(g.a)(x,2),D=C[0],S=C[1],N=Object(c.useState)(void 0),P=Object(g.a)(N,2),I=P[0],w=P[1],F=Object(c.useState)(void 0),T=Object(g.a)(F,2),B=T[0],A=T[1],L=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(null),A(null),!r||!D){e.next=8;break}return p(!0),e.next=6,Object(q.auth)().signInWithEmailAndPassword(r,D).then((function(){p(!1)})).catch((function(e){switch(p(!1),e.code){case"auth/user-not-found":w("Usuario No Encontrado");break;case"auth/wrong-password":A("La clave es incorrecta")}}));case 6:e.next=10;break;case 8:r||w("Ingresa el Usuario"),D||A("Ingresa la clave");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:a.root},m?o.a.createElement(Qn,null):o.a.createElement("div",{className:a.paper},o.a.createElement(de.a,{container:!0,justify:"center"},o.a.createElement(de.a,{item:!0,xs:12,sm:10,md:8},o.a.createElement("img",{src:_.a,className:a.logo}))),o.a.createElement(Rn.a,{className:a.avatar},o.a.createElement(Jn.a,null)),o.a.createElement(k.a,{component:"h1",variant:"h5",className:a.title},"Inicia Sesion"),o.a.createElement("form",{className:a.form,noValidate:!0},o.a.createElement(pe.a,{variant:"outlined",margin:"normal",color:"primary",fullWidth:!0,id:"email",label:"Email",error:I,helperText:I||null,name:"email",value:r,onChange:function(e){l(e.target.value)},autoFocus:!0}),o.a.createElement(pe.a,{variant:"outlined",color:"primary",margin:"normal",required:!0,fullWidth:!0,name:"password",value:D,helperText:B||null,error:B,onChange:function(e){S(e.target.value)},label:"contrase\xf1a",type:"password",id:"password"}),O?o.a.createElement(Yn.a,{in:!0},o.a.createElement(le.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){Object(q.auth)().languageCode="es",Object(q.auth)().sendPasswordResetEmail(r).then((function(){y(!1),b(!0)})).catch((function(){}))}},"Enviar mail de recuperacion!")):null,f?o.a.createElement(Yn.a,{in:!0},o.a.createElement(Ue.a,{variant:"outlined",severity:"success"},o.a.createElement(Un.a,null,"Listo!"),"Revisa tu casilla de correo para generar una nueva clave")):null,o.a.createElement(le.a,{fullWidth:!0,variant:"outlined",color:"primary",type:"submit",className:a.submit,onClick:function(e){L()}},"Ingresar!"),o.a.createElement("div",{className:a.linkButtons},o.a.createElement(le.a,{variant:"text",className:a.link,onClick:function(){r?y(!0):(b(!1),w("Ingrese el correo para recuperar la clave"))}},"Recuperar Contrase\xf1a")))))},er=Object(O.a)((function(e){return{root:{height:"100vh",position:"absolute",top:0,left:0,right:0,bottom:0},image:{backgroundColor:e.palette.secondary.main},img:{objectFit:"cover",width:"100%",height:"100%",filter:"grayscale(0.5) drop-shadow(2px 4px 6px black)"},paper:{width:"100%",height:"100%",backgroundColor:"dark"===e.palette.type?e.palette.secondary.main:e.palette.primary.main,borderRadius:"0",display:"flex",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1),"& .MuiOutlinedInput-input":{color:e.palette.primary.contrastText},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.contrastText},"& .MuiFormLabel-root.Mui-focused":{color:e.palette.secondary.contrastText},"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.secondary.dark}},submit:{margin:e.spacing(3,0,2),color:e.palette.primary.contrastText,"&.MuiButton-outlined":{border:"1px solid ".concat(e.palette.primary.contrastText)}},background:{background:e.palette.primary.main,color:e.palette.primary.contrastText},link:{color:e.palette.primary.contrastText}}})),ar=function(e){var a=e.history,t=er();return o.a.createElement(ue,{hiddenAppBar:!0},o.a.createElement(de.a,{container:!0,className:t.root},o.a.createElement(de.a,{item:!0,xs:!1,sm:5,md:7,className:t.image},o.a.createElement("img",{src:Wn.a,alt:"",className:t.img})),o.a.createElement(de.a,{item:!0,xs:12,sm:7,md:5},o.a.createElement(me.a,{elevation:6,className:t.paper},o.a.createElement(_n,{history:a})))))},tr=function(e,a){return e},nr=t(90),rr=function(e){var a=Pe();return o.a.createElement(ue,{history:e.history,page:"Not Found"},o.a.createElement(me.a,{className:a.content},o.a.createElement("h1",null,"la pagina no se encuentra disponible"),o.a.createElement(b.b,{to:"/"},"Vuelve al Home")))},cr=t(132),or=t(308),lr=function(e){var a=e.cheques,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return o.a.createElement(de.a,{item:!0},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard},"Valor"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Numero"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Vencimiento"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{align:"right"},"$ ",e.valor),o.a.createElement(st.a,{align:"right"},e.numero),o.a.createElement(st.a,{align:"right"},e.vencimiento),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))))},ir=function(e){var a=e.open,t=e.setOpen,n=e.datos,r=e.setdatos,l=e.edit,i=e.editIndex,s=e.seteditIndex,u=e.total,m=e.settotal,d=e.cliente,p=(Pe(),Object(c.useState)(void 0)),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(void 0),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(void 0),x=Object(g.a)(y,2),C=x[0],D=x[1],k=Object(c.useState)(void 0),S=Object(g.a)(k,2),N=S[0],P=S[1],I=Object(c.useState)(!1),w=Object(g.a)(I,2),q=(w[0],w[1]),F=function(){f(""),O(""),D(void 0),P("")},T=function(e){return"".concat(e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),"/").concat(e.slice(0,e.indexOf("/"))).concat(e.slice(e.lastIndexOf("/")))};return Object(c.useEffect)((function(){l&&(f(n[i].numero),O(n[i].banco),D(T(n[i].vencimiento)),P(n[i].valor))}),[l]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,l?"Editar Cheque":"Ingresa los datos del cheque"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Numero",type:"number",value:h,onChange:function(e){f(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Banco",value:j,onChange:function(e){O(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",fullWidth:!0,label:"Fecha de Vencimiento",value:C,onChange:function(e){D(e)}}))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Valor",type:"number",value:N,onChange:function(e){P(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){l&&s(-1),q(!1),F(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!h||!j||!C||!N,onClick:function(){l?(!function(){var e=n,a=parseFloat(u)-parseFloat(e[i].valor)+parseFloat(N),t=C===T(n[i].vencimiento)?T(C):C.toLocaleDateString();m(a),e[i]={nombre:d,numero:h,banco:j,vencimiento:t,valor:N},r(e)}(),s(-1)):function(){var e=n;e.push({nombre:d,numero:h,banco:j,vencimiento:C.toLocaleDateString(),valor:N}),console.log(parseFloat(u),parseFloat(N)),m(parseFloat(u)+parseFloat(N)),r(e)}(),q(!1),F(),t(!1)}},l?"Editar":"Agregar")))},sr=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),ur=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;sr();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(parseInt(s)-n[c].valor);var e=n;console.log(e),e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},mr=function(e){var a=e.open,t=e.setOpen,n=(e.listaCheques,e.setListaCheques,e.listaChequesPersonales),r=e.setListaChequesPersonales,l=e.totalChequesPersonales,i=e.setTotalChequesPersonales,s=e.edit,u=e.editIndex,m=e.seteditIndex,d=e.cliente,p=(Pe(),Object(c.useState)(void 0)),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(void 0),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(void 0),x=Object(g.a)(y,2),C=x[0],D=x[1],k=Object(c.useState)(!1),S=Object(g.a)(k,2),N=(S[0],S[1]),P=function(){f(""),O(void 0),D("")},I=function(e){return"".concat(e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),"/").concat(e.slice(0,e.indexOf("/"))).concat(e.slice(e.lastIndexOf("/")))};return Object(c.useEffect)((function(){s&&(f(n[u].numero),O(I(n[u].vencimiento)),D(n[u].valor))}),[s]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,s?"Editar Cheque":"Ingresa los datos del cheque"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Numero",type:"number",value:h,onChange:function(e){f(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",label:"Fecha de Vencimiento",value:j,onChange:function(e){O(e)}}))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Valor",type:"number",value:C,onChange:function(e){D(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){s&&m(-1),N(!1),P(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!h||!j||!C,onClick:function(){s?(!function(){var e=n,a=parseFloat(l)-parseFloat(e[u].valor)+parseFloat(C),t=j===I(n[u].vencimiento)?I(j):j.toLocaleDateString();i(a),e[u]={destinatario:d,numero:h,vencimiento:t,valor:C},r(e)}(),m(-1)):function(){var e=n;e.push({destinatario:d,numero:h,vencimiento:j.toLocaleDateString(),valor:C}),i(parseFloat(l)+parseFloat(C)),r(e)}(),N(!1),P(),t(!1)}},s?"Editar":"Agregar")))},dr=(Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),function(e){var a=e.datos,t=e.setdatos,n=e.total,r=e.settotal,l=e.tipoDeDato,i=e.cliente,s=e.addCheque,u=e.chequesList,m=e.tipo,d=e.cuentaTransferencia,p=e.setCuentaTransferencia,E=e.totalTransferencia,h=e.setTotalTransferencia,f=e.cuentasBancarias,b=(Pe(),Object(c.useState)(!1)),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(-1),x=Object(g.a)(y,2),C=x[0],D=x[1],S=Object(c.useState)(!1),N=Object(g.a)(S,2),P=N[0],I=N[1],w=Object(c.useState)(void 0),q=Object(g.a)(w,2),F=q[0],T=q[1],B=function(e){T(e),I(!0)};return function(){switch(l){case"Efectivo":return o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h6"},"Ingrese la cantidad")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:a,variant:"outlined",type:"number",onChange:function(e){t(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Transferencia":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,options:f?Object.keys(f):{},disabled:!f,getOptionLabel:function(e){return e},onSelect:function(e){p(e.target.value)},onChange:function(e){p(e.target.value)},value:d,style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Cuenta de Destino",variant:"outlined"}))}})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:E,variant:"outlined",type:"number",label:"Monto",onChange:function(e){h(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Cheques":return console.log(m),"Cliente"==m?o.a.createElement(de.a,{container:!0,justify:"center",spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){O(!0)}},"Agregar Cheque")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(Sn,{cheques:a,seteditIndex:D,showDialog:function(){O(!0)},openDialogDelete:function(e){B(e)}})):null,o.a.createElement(ir,{open:j,setOpen:O,datos:a,setdatos:t,edit:-1!=C,editIndex:C,seteditIndex:D,total:n,settotal:r,cliente:i}),o.a.createElement(ur,{open:P,setopen:I,datos:a,setDatos:t,index:F,setdeleteIndex:T,tipoDeElemento:"Cheque",total:n,settotal:r})):o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(bn,{cheques:a,chequesList:u,addCheque:s}));case"Cheques Personales":return o.a.createElement(de.a,{container:!0,xs:12,spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){O(!0)}},"Agregar Cheque Personal")),a.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(lr,{cheques:a,seteditIndex:D,showDialog:function(){O(!0)},openDialogDelete:function(e){B(e)}})):null,o.a.createElement(mr,{open:j,setOpen:O,listaChequesPersonales:a,setListaChequesPersonales:t,edit:-1!=C,editIndex:C,seteditIndex:D,totalChequesPersonales:n,setTotalChequesPersonales:r,cliente:i}),o.a.createElement(ur,{open:P,setopen:I,datos:a,setDatos:t,index:F,setdeleteIndex:T,tipoDeElemento:"Cheque",total:n,settotal:r}))}}()}),pr=Object(j.b)((function(e){return{user:e.user,proveedores:e.proveedores,cheques:e.cheques,cuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)([]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)([]),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(0),j=Object(g.a)(v,2),O=j[0],y=j[1],x=Object(c.useState)(void 0),C=Object(g.a)(x,2),D=C[0],S=C[1],N=Object(c.useState)(void 0),P=Object(g.a)(N,2),I=P[0],w=P[1],F=Object(c.useState)(void 0),T=Object(g.a)(F,2),B=T[0],A=T[1],L=Object(c.useState)(0),H=Object(g.a)(L,2),M=H[0],$=H[1],z=Object(c.useState)(""),G=Object(g.a)(z,2),V=G[0],W=G[1],R=Object(c.useState)(!1),Y=Object(g.a)(R,2),J=Y[0],X=Y[1],K=["Efectivo","Transferencia","Cheques","Cheques Personales"],Q=function(){$((function(e){return e+1}))},Z=function(){$((function(e){return e-1}))};var _=function(){X(!0);var a=ee(),t=ae(),n=function(){return D||r?m+O+(D?parseFloat(D):0)+(B?parseFloat(B):0):null},c=function(){return e.proveedores[ve(e.history.location.search)].datos.deuda},o={efectivo:D||null,cheques:a.length?a:null,cuentaTransferencia:I||null,totalTransferencia:B||null,chequesPersonales:t,totalChequesPersonales:O,fecha:fe(),pagado:n(),total:n(),deudaPasada:c(),deudaActualizada:c()-n()};te(),o.cuentaTransferencia&&ne(o.cuentaTransferencia,o.totalTransferencia),o&&Object(q.database)().ref().child(e.user.uid).child("proveedores").child(ve(e.history.location.search)).child("pagos").push(o).then((function(){W("El pago se agreg\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Historial-Proveedor?".concat(ve(e.history.location.search)))}),2e3)})).catch((function(){X(!1)}))},ee=function(){var a=[];return r.length&&r.map((function(t){Object(q.database)().ref().child(e.user.uid).child("cheques").child(t).update({egreso:fe(),destinatario:e.proveedores[ve(e.history.location.search)].datos.nombre}),a.push(e.cheques[t].numero)})),a},ae=function(){var a=[];return f.length&&f.map((function(t){a.push(t.numero);var n={egreso:fe(),destinatario:t.destinatario,numero:t.numero,vencimiento:t.vencimiento,valor:t.valor};Object(q.database)().ref().child(e.user.uid).child("chequesPersonales").push(n)})),a},te=function(){var a=e.proveedores[ve(e.history.location.search)].datos.deuda;a-=m+O+(D?parseFloat(D):0)+(B?parseFloat(B):0),Object(q.database)().ref().child(e.user.uid).child("proveedores").child(ve(e.history.location.search)).child("datos").update({deuda:a})},ne=function(){var a=Object(d.a)(u.a.mark((function a(t,n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={fecha:fe(),tipo:"transferencia",total:n},a.next=3,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(t).child("egresos").push(r);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),re=function(a){var t=r.indexOf(a),n=Object(Ve.a)(r);-1!==t?(n.splice(t,1),p(parseFloat(m)-parseFloat(e.cheques[a].valor))):(n.push(a),p(parseFloat(m)+parseFloat(e.cheques[a].valor))),l(n)};return o.a.createElement(ue,{history:e.history,page:"Nuevo Pago",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:M,className:a.stepper},K.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){$(t)},variant:"default",className:M==t?a.iconLabelSelected:null}));case 1:case 2:case 3:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(U.a,null),className:M==t?a.iconLabelSelected:null,label:e,variant:"default",onClick:function(){$(t)}}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(dr,{tipoDeDato:"Efectivo",datos:D,setdatos:S,total:m,settotal:p,chequesList:e.cheques,tipo:"Proveedor"});case 1:return o.a.createElement(dr,{tipoDeDato:"Transferencia",cuentaTransferencia:I,setCuentaTransferencia:w,totalTransferencia:B,setTotalTransferencia:A,cuentasBancarias:e.cuentasBancarias});case 2:return o.a.createElement(dr,{tipoDeDato:"Cheques",datos:r,setdatos:l,total:m,settotal:p,cliente:ve(e.history.location.search),addCheque:re,chequesList:e.cheques,tipo:"Proveedor"});case 3:return o.a.createElement(dr,{tipoDeDato:"Cheques Personales",datos:f,setdatos:b,total:O,settotal:y,cliente:ve(e.history.location.search),addCheque:re,chequesList:e.cheques,tipo:"Proveedor"})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3,variant:"body1",className:a.paperTotalRecibirEntrega},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Total $ ",he(m+O+(D?parseFloat(D):0)+(B?parseFloat(B):0)),"/ $ ",he(e.proveedores[ve(e.location.search)].datos.deuda))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{label:"$ ".concat(he(parseFloat(e.proveedores[ve(e.location.search)].datos.deuda)-(m+O+(D?parseFloat(D):0)+(B?parseFloat(B):0))))})))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===M,onClick:Z},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",onClick:M===K.length-1?_:Q},M===K.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:J},o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(Ye.a,{open:V,autoHideDuration:2e3,onClose:function(){W("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},V)))})),Er=Object(j.b)((function(e){return{user:e.user,clientes:e.clientes,cuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)([]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)(void 0),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(void 0),j=Object(g.a)(v,2),O=j[0],y=j[1],x=Object(c.useState)(void 0),C=Object(g.a)(x,2),D=C[0],S=C[1],N=Object(c.useState)(0),P=Object(g.a)(N,2),I=P[0],w=P[1],F=Object(c.useState)(""),T=Object(g.a)(F,2),B=T[0],A=T[1],L=Object(c.useState)(!1),H=Object(g.a)(L,2),M=H[0],$=H[1],z=["Efectivo","Transferencia","Cheques"],G=function(){w((function(e){return e+1}))},V=function(){w((function(e){return e-1}))};var W=function(){$(!0);var a=R(),t=function(){return f||r?m+(f?parseFloat(f):0)+(D?parseFloat(D):0):null},n=function(){return e.clientes[ve(e.history.location.search)].datos.deuda},c={efectivo:f||null,cheques:a.length?a:null,cuentaTransferencia:O||null,totalTransferencia:D||null,fecha:fe(),pagado:t(),total:t(),deudaPasada:n(),deudaActualizada:n()-t()};Y(),c.cuentaTransferencia&&J(c.cuentaTransferencia,c.totalTransferencia),c&&Object(q.database)().ref().child(e.user.uid).child("clientes").child(ve(e.history.location.search)).child("pagos").push(c).then((function(){A("El pago se agreg\xf3 correctamente!"),setTimeout((function(){e.history.replace("/Historial-Cliente?".concat(ve(e.history.location.search)))}),2e3)})).catch((function(){$(!1)}))},R=function(){var a=[];return r.length&&r.map((function(t){a.push(t.numero);var n={ingreso:fe(),nombre:t.nombre,numero:t.numero,vencimiento:t.vencimiento,banco:t.banco,valor:t.valor};Object(q.database)().ref().child(e.user.uid).child("cheques").push(n)})),a},Y=function(){var a=e.clientes[ve(e.history.location.search)].datos.deuda;a-=m+(f?parseFloat(f):0)+(D?parseFloat(D):0),Object(q.database)().ref().child(e.user.uid).child("clientes").child(ve(e.history.location.search)).child("datos").update({deuda:a})},J=function(){var a=Object(d.a)(u.a.mark((function a(t,n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={fecha:fe(),tipo:"transferencia",total:n},a.next=3,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(t).child("ingresos").push(r);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return o.a.createElement(ue,{history:e.history,page:"Nuevo Pago",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:I,className:a.stepper},z.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){w(t)},variant:"default",className:I==t?a.iconLabelSelected:null}));case 1:case 2:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(U.a,null),className:I==t?a.iconLabelSelected:null,label:e,variant:"default",onClick:function(){w(t)}}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(dr,{tipoDeDato:"Efectivo",datos:f,setdatos:b,total:m,settotal:p,tipo:"Cliente"});case 1:return o.a.createElement(dr,{tipoDeDato:"Transferencia",cuentaTransferencia:O,setCuentaTransferencia:y,totalTransferencia:D,setTotalTransferencia:S,cuentasBancarias:e.cuentasBancarias});case 2:return o.a.createElement(dr,{tipoDeDato:"Cheques",datos:r,setdatos:l,total:m,settotal:p,cliente:ve(e.history.location.search),tipo:"Cliente"})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3,variant:"body1",className:a.paperTotalRecibirEntrega},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Total $ ",he(m+(f?parseFloat(f):0)+(D?parseFloat(D):0)),"/ $ ",he(e.clientes[ve(e.location.search)].datos.deuda))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{label:"$ ".concat(he(parseFloat(e.clientes[ve(e.location.search)].datos.deuda)-(m+(f?parseFloat(f):0)+(D?parseFloat(D):0))))})))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===I,onClick:V},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",onClick:I===z.length-1?W:G},I===z.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:M},o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(Ye.a,{open:B,autoHideDuration:2e3,onClose:function(){A("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},B)))})),hr=function(e){var a=e.proceso,t=e.id,n=e.activeStep,r=e.iniciarProceso,l=e.index,i=Pe(),s=Object(c.useState)(!1),u=Object(g.a)(s,2),m=u[0],d=u[1],p=Object(c.useState)(!1),E=Object(g.a)(p,2),h=E[0],f=E[1];return o.a.createElement(Ie.a,{className:i.cardCadenaStep},o.a.createElement(we.a,{title:a.proceso,subheader:a.fechaDeInicio,className:a.fechaDeEntrega?i.cardHeaderCadenaStepGreen:a.fechaDeInicio?i.cardHeaderCadenaStepActive:null,action:o.a.createElement(D.a,{onClick:function(){d(!m)}},m?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null))}),o.a.createElement(_e.a,{in:m,timeout:"auto",unmountOnExit:!0},n()!=l||a.fechaDeInicio?null:o.a.createElement(It.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{color:"primary",variant:"contained",onClick:function(){r(t,n())}}," Iniciar Proceso")))),console.log(a),n()==l&&a.fechaDeInicio?o.a.createElement(It.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(wt.a,{control:o.a.createElement(qt.a,{color:"primary",checked:h,disabled:a.isProcesoPropio,onChange:function(e){f(!h)}}),label:"Facturacion"})),a.isProcesoPropio?o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Finalizar-Proceso-Propio",search:"".concat(t)}},o.a.createElement(le.a,{color:"primary",variant:"contained"}," Finalizar Proceso Propio"))):o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Finalizar-Proceso",search:"".concat(t),props:{facturacion:h}}},o.a.createElement(le.a,{color:"primary",variant:"contained"}," Finalizar Proceso"))))):null,o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12},a.fechaDeEntrega?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:i.alertCheque},"retirado el ",a.fechaDeEntrega)):null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"flex-start"},o.a.createElement(A.a,null,a.precio?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:"$ ".concat(he(a.precio)),secondary:"Precio"})):null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Proveedor",search:"".concat(a.isProcesoPropio?"Tota":a.proveedor)}},a.isProcesoPropio?"Tota":a.proveedor),secondary:"Proveedor Asociado"}))),a.idEntrega?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Proveedor",search:"".concat(a.proveedor),props:{searchEntrega:"".concat(a.idEntrega)}}},o.a.createElement(le.a,{variant:"contained",color:"primary"},"Ver Entrega"))):null)))))},fr=function(e){var a=e.cadena,t=e.id,n=e.iniciarProceso,r=Pe(),l=Object(c.useState)(!1),i=Object(g.a)(l,2),s=i[0],u=i[1],m=function(){var e=0;return a.procesos.map((function(a,t){a.fechaDeEntrega&&(e=t+1)})),e};return o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ie.a,{className:r.cardCadena},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Productos",search:"".concat(ve("-"+a.producto))}},a.producto),subheader:"".concat(a.cantidad?"".concat(a.cantidad," u. -"):""," ").concat(a.fechaDeInicio),className:r.cardHeaderCadena,action:o.a.createElement(D.a,{onClick:function(){u(!s)}},s?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null))}),o.a.createElement(_e.a,{in:s,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(va.a,{activeStep:m(),alternativeLabel:!0},a.procesos.map((function(e,a){return o.a.createElement(ga.a,{key:e.proceso},o.a.createElement(ba.a,null,o.a.createElement(de.a,{container:!0,xs:12},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(hr,{proceso:e,id:t,iniciarProceso:n,index:a,activeStep:m})))))})))))))},br=Object(j.b)((function(e){return{user:e.user,cadenasActivas:e.cadenasActivas}}),null)((function(e){var a=Pe(),t=Object(c.useState)(!1),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(!1),s=Object(g.a)(i,2),u=s[0],d=s[1],p=function(a,t){d(!0);var n=e.cadenasActivas[a].procesos;n[t]=Object(m.a)({},n[t],{fechaDeInicio:fe()}),Object(q.database)().ref().child(e.user.uid).child("cadenasActivas").child(a).child("procesos").update(n).then((function(){l("El Proceso Inicio Correctamente!"),setTimeout((function(){d(!1)}),2e3)})).catch((function(){d(!1)}))};return o.a.createElement(ue,{history:e.history,page:"Cadenas De Produccion",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},e.cadenasActivas?Object.keys(e.cadenasActivas).map((function(a){return o.a.createElement(fr,{cadena:e.cadenasActivas[a],id:a,iniciarProceso:p})})):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},"No hay Cadenas de Produccion Activas"))))),o.a.createElement(We.a,{className:a.backdrop,open:u},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:r,autoHideDuration:2e3,onClose:function(){l("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},r))))})),vr=function(e){var a=e.cadena,t=e.id,n=e.iniciarProceso,r=e.generateChartCadena,l=Pe(),i=Object(c.useState)(!1),s=Object(g.a)(i,2),u=s[0],m=s[1],d=function(){var e=0;return a.procesos.map((function(a,t){a.fechaDeEntrega&&(e=t+1)})),e};return o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ie.a,{className:l.cardCadena},o.a.createElement(we.a,{title:o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none",cursor:"pointer"},to:{pathname:"/Productos",search:"".concat(ve("-"+a.producto))}},a.producto),subheader:"".concat(a.cantidad?"".concat(a.cantidad," u. -"):""," ").concat(a.fechaDeInicio),className:l.cardHeaderCadena,action:o.a.createElement(D.a,{onClick:function(){m(!u)}},u?o.a.createElement(ea.a,null):o.a.createElement(aa.a,null))}),o.a.createElement(_e.a,{in:u,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,r(t),o.a.createElement(va.a,{activeStep:d(),alternativeLabel:!0},a.procesos.map((function(e,a){return o.a.createElement(ga.a,{key:e.proceso},o.a.createElement(ba.a,null,o.a.createElement(de.a,{container:!0,xs:12},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(hr,{proceso:e,id:t,iniciarProceso:n,index:a,activeStep:d})))))})))))))},gr=Object(j.b)((function(e){return{user:e.user,productos:e.productos}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.productos[ge(e.location.search)].historialDeCadenas),n=Object(g.a)(t,2),r=n[0],l=(n[1],function(e){var a=[];r[e].procesos.map((function(e,t){var n=new Date("".concat(e.fechaDeInicio.split("/")[1],"-").concat(e.fechaDeInicio.split("/")[0],"-").concat(e.fechaDeInicio.split("/")[2])),r=new Date("".concat(e.fechaDeEntrega.split("/")[1],"-").concat(e.fechaDeEntrega.split("/")[0],"-").concat(e.fechaDeEntrega.split("/")[2]));a.push({x:e.proceso,y:[new Date(n).getTime(),new Date(r).getTime()]})}));return console.log(a),o.a.createElement(Ie.a,null,o.a.createElement(Te.a,null,o.a.createElement(ha.a,{options:{plotOptions:{bar:{horizontal:!0}},xaxis:{type:"datetime"}},type:"rangeBar",series:[{data:a}],width:600})))});return o.a.createElement(ue,{history:e.history,page:"Historial De Produccion ".concat(ge(e.location.search)),user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,xs:12,justify:"center"},r?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:3},Object.keys(r).reverse().map((function(e){return o.a.createElement(vr,{cadena:r[e],id:e,generateChartCadena:l})}))):o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:2},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h5"},ge(e.location.search)," no tiene historial de produccion")),o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"}))))))})),jr=Object(O.a)((function(e){return{input:{marginBottom:e.spacing(1),textAlign:"center"}}})),Or=function(e){var a=e.open,t=e.setopen,n=e.datos,r=e.setDatos,c=e.index,l=e.setdeleteIndex,i=e.tipoDeElemento,s=e.total,u=e.settotal;jr();return o.a.createElement(ne.a,{open:a},o.a.createElement(re.a,null,"Desea Eliminar ",i,"?"),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){t(!1),l(void 0)}},"Cancelar"),o.a.createElement(le.a,{color:"error",onClick:function(){!function(){u(parseInt(s)-n[c].valor);var e=n;console.log(e),e.splice(c,1),r(e)}(),t(!1),l(void 0)}},"Eliminar")))},yr=function(e){var a=e.cheques,t=e.seteditIndex,n=e.showDialog,r=e.openDialogDelete,c=Pe();return o.a.createElement(de.a,{item:!0},o.a.createElement(ct.a,{component:me.a},o.a.createElement(ot.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(st.a,{className:c.titleDetallesCard},"Valor"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Numero"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right"},"Vencimiento"),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}),o.a.createElement(st.a,{className:c.titleDetallesCard,align:"right",padding:"checkbox"}))),o.a.createElement(ut.a,null,a.map((function(e,a){return o.a.createElement(it.a,null,o.a.createElement(st.a,{align:"right"},"$ ",e.valor),o.a.createElement(st.a,{align:"right"},e.numero),o.a.createElement(st.a,{align:"right"},e.vencimiento),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){t(a),n()}},o.a.createElement(Je.a,null))),o.a.createElement(st.a,{align:"right"},o.a.createElement(D.a,{className:c.icon,edge:"end","aria-label":"delete",onClick:function(){r(a)}},o.a.createElement(ka.a,{color:"error"}))))}))))))},xr=function(e){var a=e.open,t=e.setOpen,n=(e.listaCheques,e.setListaCheques,e.listaChequesPersonales),r=e.setListaChequesPersonales,l=e.totalChequesPersonales,i=e.setTotalChequesPersonales,s=e.edit,u=e.editIndex,m=e.seteditIndex,d=e.cliente,p=(Pe(),Object(c.useState)(void 0)),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(void 0),v=Object(g.a)(b,2),j=v[0],O=v[1],y=Object(c.useState)(void 0),x=Object(g.a)(y,2),C=x[0],D=x[1],k=Object(c.useState)(!1),S=Object(g.a)(k,2),N=(S[0],S[1]),P=function(){f(""),O(void 0),D("")},I=function(e){return"".concat(e.slice(e.indexOf("/")+1,e.lastIndexOf("/")),"/").concat(e.slice(0,e.indexOf("/"))).concat(e.slice(e.lastIndexOf("/")))};return Object(c.useEffect)((function(){s&&(f(n[u].numero),O(I(n[u].vencimiento)),D(n[u].valor))}),[s]),o.a.createElement(ne.a,{open:a,maxWidth:"md"},o.a.createElement(re.a,null,s?"Editar Cheque":"Ingresa los datos del cheque"),o.a.createElement(ce.a,null,o.a.createElement(de.a,{container:!0,direction:"column",alignItems:"center",spacing:2},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Numero",type:"number",value:h,onChange:function(e){f(e.target.value)}})),o.a.createElement(de.a,{item:!0},o.a.createElement(mn.a,{utils:Bt.a,noValidate:!0},o.a.createElement(dn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",label:"Fecha de Vencimiento",value:j,onChange:function(e){O(e)}}))),o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Valor",type:"number",value:C,onChange:function(e){D(e.target.value)}})))),o.a.createElement(oe.a,null,o.a.createElement(le.a,{onClick:function(){s&&m(-1),N(!1),P(),t(!1)}},"Cancelar"),o.a.createElement(le.a,{disabled:!h||!j||!C,onClick:function(){s?(!function(){var e=n,a=parseFloat(l)-parseFloat(e[u].valor)+parseFloat(C),t=j===I(n[u].vencimiento)?I(j):j.toLocaleDateString();i(a),e[u]={destinatario:d,numero:h,vencimiento:t,valor:C},r(e)}(),m(-1)):function(){var e=n;e.push({destinatario:d,numero:h,vencimiento:j.toLocaleDateString(),valor:C}),i(parseFloat(l)+parseFloat(C)),r(e)}(),N(!1),P(),t(!1)}},s?"Editar":"Agregar")))},Cr=function(e){var a=e.tipoDeDato,t=e.precio,n=e.setPrecio,r=e.cantidad,l=e.setCantidad,i=e.efectivo,s=e.setEfectivo,u=e.cheques,m=e.cliente,d=e.addCheque,p=(e.total,e.settotal,e.chequesList),E=e.cuentaTransferencia,h=e.setCuentaTransferencia,f=e.totalTransferencia,b=e.setTotalTransferencia,v=e.cuentasBancarias,j=e.chequesPersonales,O=e.setChequesPersonales,y=e.totalChequesPersonales,x=e.setTotalChequesPersonales,C=(Pe(),Object(c.useState)(!1)),D=Object(g.a)(C,2),S=D[0],N=D[1],P=Object(c.useState)(-1),I=Object(g.a)(P,2),w=I[0],q=I[1],F=Object(c.useState)(!1),T=Object(g.a)(F,2),B=T[0],A=T[1],L=Object(c.useState)(void 0),H=Object(g.a)(L,2),M=H[0],$=H[1];switch(a){case"Detalles":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(k.a,{variant:"h6"},"Cantidad Recibida")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:r,variant:"outlined",type:"number",onChange:function(e){l(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(G.a,null))}})),o.a.createElement(de.a,{item:!0},o.a.createElement(k.a,{variant:"h6"},"Precio Final")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{style:{width:"250px"},value:t,variant:"outlined",type:"number",onChange:function(e){n(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Transferencia":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,options:v?Object.keys(v):{},disabled:!v,getOptionLabel:function(e){return e},onSelect:function(e){h(e.target.value)},onChange:function(e){h(e.target.value)},value:E,style:{width:300},renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Cuenta Bancaria",variant:"outlined"}))}})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:f,variant:"outlined",type:"number",label:"Monto",onChange:function(e){b(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})));case"Metodo De Pago":return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},o.a.createElement(de.a,{item:!0},o.a.createElement(k.a,{variant:"h6"},"Efectivo")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:i,variant:"outlined",type:"number",onChange:function(e){s(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(Le.a,null))}})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(k.a,{variant:"h6"},"Efectivo")),o.a.createElement(bn,{cheques:u,chequesList:p,addCheque:d})));case"Cheques Personales":return o.a.createElement(de.a,{container:!0,xs:12,spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(le.a,{variant:"contained",color:"primary",startIcon:o.a.createElement(wa.a,null),onClick:function(){N(!0)}},"Agregar Cheque Personal")),j.length?o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:1,alignItems:"center",justify:"center"},o.a.createElement(yr,{cheques:j,seteditIndex:q,showDialog:function(){N(!0)},openDialogDelete:function(e){$(e),A(!0)}})):null,o.a.createElement(xr,{open:S,setOpen:N,listaChequesPersonales:j,setListaChequesPersonales:O,edit:-1!=w,editIndex:w,seteditIndex:q,totalChequesPersonales:y,setTotalChequesPersonales:x,cliente:m}),o.a.createElement(Or,{open:B,setopen:A,datos:j,setDatos:O,index:M,setdeleteIndex:$,tipoDeElemento:"Cheque",total:y,settotal:x}))}},Dr=Object(j.b)((function(e){return{user:e.user,productos:e.productos,proveedores:e.proveedores,cheques:e.cheques,cadenasActivas:e.cadenasActivas,cuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)([]),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),p=s[0],E=s[1],h=Object(c.useState)([]),f=Object(g.a)(h,2),b=f[0],v=f[1],j=Object(c.useState)(0),O=Object(g.a)(j,2),y=O[0],x=O[1],C=Object(c.useState)(void 0),D=Object(g.a)(C,2),S=D[0],N=D[1],P=Object(c.useState)(void 0),I=Object(g.a)(P,2),w=I[0],F=I[1],T=Object(c.useState)(void 0),B=Object(g.a)(T,2),A=B[0],L=B[1],H=Object(c.useState)(void 0),M=Object(g.a)(H,2),$=M[0],z=M[1],V=Object(c.useState)(e.cadenasActivas[e.location.search.slice(1)].cantidad?e.cadenasActivas[e.location.search.slice(1)].cantidad:void 0),W=Object(g.a)(V,2),R=W[0],Y=W[1],J=Object(c.useState)(!!e.location.props.facturacion&&e.location.props.facturacion),X=Object(g.a)(J,2),K=X[0],Q=(X[1],Object(c.useState)(0)),Z=Object(g.a)(Q,2),_=Z[0],ee=Z[1],ae=Object(c.useState)(!1),te=Object(g.a)(ae,2),ne=te[0],re=te[1],ce=Object(c.useState)(!1),oe=Object(g.a)(ce,2),ie=oe[0],se=oe[1],pe=["Detalles","Transferencia","Metodo De Pago","Cheques Personales"],Ee=function(){ee((function(e){return e+1}))},be=function(){ee((function(e){return e-1}))};var ve=function(a){var t=e.cadenasActivas[a].procesos,n=0;return t.map((function(e,a){e.fechaDeInicio&&(n=a)})),n},ge=function(){var a=Object(d.a)(u.a.mark((function a(){var t,n,r,c,o,l,i,s,m,d;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.history.location.search.slice(1),n=ve(t),r=e.cadenasActivas[t].procesos,se(!0),c=xe(r[n].proveedor),o=Ce(),l=function(){return e.proveedores[r[n].proveedor].datos.deuda+parseFloat(s())},i=function(){return p+y+(A?parseFloat(A):0)+(w?parseFloat(w):0)},s=function(){return $-(p+y+(A?parseFloat(A):0)+(w?parseFloat(w):0))},m={fecha:fe(),proveedor:r[n].proveedor,articulos:[{cantidad:R,precio:$/R,producto:e.cadenasActivas[t].producto,total:$}],metodoDePago:{facturacion:K,efectivo:A||null,cuentaTransferencia:S||null,totalTransferencia:w||null,cheques:c,chequesPersonales:o,totalChequesPersonales:y,fecha:fe(),total:$,deudaPasada:e.proveedores[r[n].proveedor].datos.deuda,deudaActualizada:l(),pagado:i(),adeudado:s()},metodoDeEnvio:"Particular",total:$},De(m.total,m.metodoDePago.pagado,r[n].proveedor),e.location.props.facturacion&&(m.articulos=je(m.articulos)),d=Object(q.database)().ref().child(e.user.uid).child("proveedores").child(r[n].proveedor).child("entregas").push(),Se(m,d.key),ke(m.metodoDePago,d.key,r[n].proveedor),m.metodoDePago.cuentaTransferencia&&Ie(m.metodoDePago.cuentaTransferencia,m.metodoDePago.totalTransferencia),re("El Proceso Finalizo Correctamente"),Ne(t,n,m.total,R,d.key),n!=r.length-1){a.next=23;break}return a.next=21,Oe(t);case 21:return a.next=23,ye(t);case 23:d.update(m).then((function(){setTimeout((function(){e.history.replace("/Cadenas-De-Produccion"),n==r.length-1&&Object(q.database)().ref().child(e.user.uid).child("cadenasActivas").child(t).remove()}),2e3)})).catch((function(){se(!1)}));case 24:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),je=function(e){var a=e;return a.map((function(e){e.precio=e.precio+.21*e.precio,e.total=parseFloat(e.cantidad)*e.precio})),a},Oe=function(){var a=Object(d.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.cadenasActivas[t].producto,r=parseInt(e.productos[n].cantidad)+parseInt(R),a.next=4,Object(q.database)().ref().child(e.user.uid).child("productos").child(n).update({cantidad:r});case 4:return a.next=6,Object(q.database)().ref().child(e.user.uid).child("productos").child(n).child("historialDeStock").push({cantidad:r,fecha:fe()});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ye=function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(n=e.productos[e.cadenasActivas[t].producto].subproductos)&&n.map(function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=parseInt(e.productos[t.nombre].cantidad)-R*t.cantidad,a.next=3,Object(q.database)().ref().child(e.user.uid).child("productos").child(t.nombre).update({cantidad:n});case 3:return a.next=5,Object(q.database)().ref().child(e.user.uid).child("productos").child(t.nombre).child("historialDeStock").push({cantidad:n,fecha:fe()});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),xe=function(a){var t=[];return r.length&&r.map((function(n){Object(q.database)().ref().child(e.user.uid).child("cheques").child(n).update({destinatario:a,egreso:fe()}),t.push(e.cheques[n].numero)})),t},Ce=function(){var a=[];return b.length&&b.map((function(t){a.push(t.numero);var n={egreso:fe(),destinatario:t.destinatario,numero:t.numero,vencimiento:t.vencimiento,valor:t.valor};Object(q.database)().ref().child(e.user.uid).child("chequesPersonales").push(n)})),a},De=function(a,t,n){var r=e.proveedores[n].datos.deuda;a>t?Object(q.database)().ref().child(e.user.uid).child("proveedores").child(n).child("datos").update({deuda:r+(a-t)}):Object(q.database)().ref().child(e.user.uid).child("proveedores").child(n).child("datos").update({deuda:r-(t-a)})},ke=function(a,t,n){var r=Object(m.a)({},a,{idEntrega:t});Object(q.database)().ref().child(e.user.uid).child("proveedores").child(n).child("pagos").push(r)},Se=function(a,t){var n=a;n.idEntrega=t,Object(q.database)().ref().child(e.user.uid).child("compras").push(n)},Ne=function(a,t,n,r,c){var o=e.cadenasActivas[a];o.cantidad=r,o.procesos[t].fechaDeEntrega=fe(),o.procesos[t].idEntrega=c,o.procesos[t].precio=n,t==o.procesos.length-1?Object(q.database)().ref().child(e.user.uid).child("productos").child(o.producto).child("historialDeCadenas").push(o):Object(q.database)().ref().child(e.user.uid).child("cadenasActivas").child(a).update(o)},Ie=function(){var a=Object(d.a)(u.a.mark((function a(t,n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={fecha:fe(),tipo:"transferencia",total:n},a.next=3,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(t).child("egresos").push(r);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),we=function(a){var t=r.indexOf(a),n=Object(Ve.a)(r);-1!==t?(n.splice(t,1),E(parseFloat(p)-parseFloat(e.cheques[a].valor))):(n.push(a),E(parseFloat(p)+parseFloat(e.cheques[a].valor))),l(n)};return o.a.createElement(ue,{history:e.history,page:"Finalizar Proceso",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:_,className:a.stepper},pe.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(G.a,null),label:e,onClick:function(){ee(t)},variant:"default",className:_==t?a.iconLabelSelected:null}));case 1:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(U.a,null),className:_==t?a.iconLabelSelected:null,label:e,variant:"default",onClick:function(){ee(t)}}));case 2:case 3:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),className:_==t?a.iconLabelSelected:null,label:e,variant:"default",onClick:function(){ee(t)}}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(Cr,{tipoDeDato:"Detalles",precio:$,cantidad:R,setPrecio:z,setCantidad:Y,setEfectivo:L});case 1:return o.a.createElement(Cr,{tipoDeDato:"Transferencia",cuentaTransferencia:S,setCuentaTransferencia:N,totalTransferencia:w,setTotalTransferencia:F,cuentasBancarias:e.cuentasBancarias});case 2:return o.a.createElement(Cr,{tipoDeDato:"Metodo De Pago",efectivo:A,setEfectivo:L,cheques:r,setcheques:l,addCheque:we,total:p,settotal:E,chequesList:e.cheques});case 3:return o.a.createElement(Cr,{tipoDeDato:"Cheques Personales",chequesPersonales:b,setChequesPersonales:v,totalChequesPersonales:y,setTotalChequesPersonales:x,cliente:e.cadenasActivas[e.location.search.slice(1)].procesos[ve(e.history.location.search.slice(1))].proveedor,addCheque:we,chequesList:e.cheques,tipo:"Proveedor"})}}(n),1==_?o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(me.a,{elevation:3,variant:"body1",className:a.paperTotalRecibirEntrega},o.a.createElement(de.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"h6"},"Total $ ",he(p+y+(A?parseFloat(A):0)+(w?parseFloat(w):0))," / $ ",he($))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Be.a,{label:"$ ".concat(he($-(p+y+(A?parseFloat(A):0)+(w?parseFloat(w):0))))})))):null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===_,onClick:be},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!R||!$,onClick:_===pe.length-1?ge:Ee},_===pe.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:ie},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:ne,autoHideDuration:2e3,onClose:function(){re("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},ne))))})),kr=function(e){var a=e.cuenta,t=e.active,n=Pe();return o.a.createElement(de.a,{item:!0},o.a.createElement(Ie.a,{className:t?n.activeBankAccountCard:n.disabledBankAccountCard},o.a.createElement(we.a,{title:a})))},Sr=Object(j.b)((function(e){return{user:e.user,CuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=(n[0],n[1],Object(c.useState)(e.location.search?e.location.search.slice(1):void 0)),l=Object(g.a)(r,2),i=l[0];l[1];return o.a.createElement(ue,{history:e.history,page:"Cuentas Bancarias",user:e.user.uid},console.log(i),o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,spacing:4},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(b.b,{to:"/Nueva-Cuenta-Bancaria"},o.a.createElement(D.a,null,o.a.createElement(Ee.a,null))))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:2},e.CuentasBancarias?o.a.createElement(de.a,{container:!0,xs:12,justify:"space-around"},Object.keys(e.CuentasBancarias).map((function(e){return o.a.createElement(kr,{cuenta:e,active:e==i})}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"600px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Cuentas Bancarias")))))))})),Nr=function(e){var a=e.tipoDeDato,t=e.nuevaCuenta,n=e.setNuevaCuenta;return function(){switch(a){case"Informacion":return o.a.createElement(de.a,{container:!0},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h6"},"Ingresar el nombre de la nueva cuenta Bancaria")),o.a.createElement(de.a,{item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{value:t,onChange:function(e){n(e.target.value)},label:"Nombre"})))}}()},Pr=Object(j.b)((function(e){return{user:e.user,cuentasBancarias:e.CuentasBancarias}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)(""),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],x=j[1],C=["Informacion"],D=function(){p((function(e){return e+1}))},k=function(){p((function(e){return e-1}))};var S=function(){var a=Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return x(!0),t=Object(y.a)({},r,{nombre:r}),a.next=4,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").update(t);case 4:b("La cuenta Bancaria se Agrego Correctamente"),e.history.replace("/Cuentas-Bancarias"),x(!1);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return o.a.createElement(ue,{history:e.history,page:"Despositar Cheque",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:m,className:a.stepper},C.map((function(e,t){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){p(t)},variant:"default",className:m==t?a.iconLabelSelected:null}))}}(e,t),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(e){switch(e){case 0:return o.a.createElement(Nr,{nuevaCuenta:r,setNuevaCuenta:l,tipoDeDato:"Informacion"})}}(t),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===m,onClick:k},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:m===C.length-1?S:D},m===C.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:O},o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(Ye.a,{open:f,autoHideDuration:2e3,onClose:function(){b("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},f)))})),Ir=function(e){var a=e.tipoDeDato,t=e.destinatario,n=e.cuentasList,r=e.setDestinatario;Pe();return function(){switch(a){case"Cuenta de Destino":return o.a.createElement(de.a,{container:!0},console.log(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h6"},"Seleccionar Cuenta Bancaria de Destino")),o.a.createElement(de.a,{item:!0,xs:12,justify:"center"},o.a.createElement(rt.a,{freeSolo:!0,disabled:!n,options:n?Object.keys(n):{},getOptionLabel:function(e){return e},onSelect:function(e){r(e.target.value)},onChange:function(e){r(e.target.value)},style:{width:300},value:t,renderInput:function(e){return o.a.createElement(pe.a,Object.assign({},e,{label:"Destinatario",variant:"outlined"}))}})))}}()},wr=Object(j.b)((function(e){return{user:e.user,cuentasBancarias:e.CuentasBancarias,cheques:e.cheques}}),null)((function(e){var a=Pe(),t=Object(c.useState)(void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)(""),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],y=j[1],x=["Cuenta de Desitno"],C=function(){p((function(e){return e+1}))},D=function(){p((function(e){return e-1}))};var k=function(){var a=Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),t={fecha:fe(),tipo:"cheque",cheque:e.cheques[e.location.search.slice(1)].numero,total:e.cheques[e.location.search.slice(1)].valor},S(),a.next=5,Object(q.database)().ref().child(e.user.uid).child("CuentasBancarias").child(r).child("ingresos").push(t);case 5:b("El Cheque se Deposito Correctamente"),e.history.replace("/Cheques"),y(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),S=function(){var a=Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={destinatario:r,depositadoEnCuenta:!0,egreso:fe()},a.next=3,Object(q.database)().ref().child(e.user.uid).child("cheques").child(e.location.search.slice(1)).update(t);case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return o.a.createElement(ue,{history:e.history,page:"Despositar Cheque",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:m,className:a.stepper},x.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(Le.a,null),label:e,onClick:function(){p(t)},variant:"default",className:m==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(a){switch(a){case 0:return o.a.createElement(Ir,{tipoDeDato:"Cuenta de Destino",destinatario:r,setDestinatario:l,cuentasList:e.cuentasBancarias})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===m,onClick:D},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:m===x.length-1?k:C},m===x.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:O},o.a.createElement(Re.a,{color:"inherit"})),o.a.createElement(Ye.a,{open:f,autoHideDuration:2e3,onClose:function(){b("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},f)))})),qr=function(e){var a=e.cheque,t=e.search,n=e.guardarChequeRebotado,r=e.asentarAcreditacion,l=e.id,i=(e.guardarChequeEnGrupo,Pe()),s=Object(c.useState)(null),u=Object(g.a)(s,2),m=u[0],d=u[1],p=Object(c.useState)(!1),E=Object(g.a)(p,2),h=(E[0],E[1],Object(c.useState)(!1)),f=Object(g.a)(h,2),v=f[0],j=f[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0,xs:11,sm:8,md:6,lg:4,className:t?-1==a.numero.search(t)?i.displayNone:i.display:null},o.a.createElement(Ie.a,null,o.a.createElement(me.a,{elevation:3,className:a.dadoDeBaja?i.cardChequeHeaderBaja:a.acreditado?i.cardChequeEnviadoHeader:i.cardChequeHeader},o.a.createElement(we.a,{className:a.dadoDeBaja?i.cardHeaderChequeIconDanger:a.acreditado?i.cardHeaderChequeIconSuccess:null,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{onClick:function(){j(!v)}},v?o.a.createElement(ea.a,{className:a.dadoDeBaja?i.cardHeaderChequeIconDanger:a.acreditado?i.cardHeaderChequeIconSuccess:null}):o.a.createElement(aa.a,{className:a.dadoDeBaja?i.cardHeaderChequeIconDanger:a.acreditado?i.cardHeaderChequeIconSuccess:null})),a.dadoDeBaja&&a.acreditado?null:o.a.createElement(D.a,{"aria-label":"settings",onClick:function(e){d(e.currentTarget)}},o.a.createElement(Ae.a,{className:a.dadoDeBaja?i.cardHeaderChequeIconDanger:a.acreditado?i.cardHeaderChequeIconSuccess:null})),o.a.createElement(qe.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){d(null)}},a.dadoDeBaja?null:o.a.createElement(Fe.a,{onClick:function(){n(l),d(null)}},"Dar de Baja"),a.acreditado?null:o.a.createElement(Fe.a,{onClick:function(){r(l),d(null)}},"Asentar Acreditacion"))),title:o.a.createElement(de.a,{container:!0,xs:12,justify:"flex-start",spacing:3},o.a.createElement(de.a,{item:!0},"N\xba ",a.numero),o.a.createElement(de.a,{item:!0},o.a.createElement(Be.a,{className:i.cardChequeChip,color:"primary",icon:o.a.createElement(Le.a,null),label:a.valor?he(a.valor):he(0)}))),subheader:a.vencimiento})),o.a.createElement(_e.a,{in:v,timeout:"auto",unmountOnExit:!0},o.a.createElement(Te.a,null,o.a.createElement(de.a,{container:!0,xs:12,spacing:3},a.dadoDeBaja?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"error",className:i.alertCheque},"Cheque Dado De Baja")):null,a.destinatario?o.a.createElement(de.a,{container:!0,item:!0,xs:12},o.a.createElement(Ue.a,{variant:"filled",severity:"success",className:i.alertCheque},a.depositadoEnCuenta?"Depositado en Cuenta de ":"Entregado a ",o.a.createElement(b.b,{style:{color:"#fff",textDecoration:"none"},className:i.textWhite,to:a.depositadoEnCuenta?{pathname:"/Cuentas-Bancarias",search:"".concat(a.destinatario)}:{pathname:"/Proveedor",search:"".concat(a.destinatario)}},a.destinatario)," el ",a.egreso)):null),o.a.createElement(A.a,null,o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.vencimiento,secondary:"Vencimiento"})),a.acreditado?o.a.createElement(L.a,null,o.a.createElement(M.a,{primary:a.fechaAcreditacion,secondary:"Fecha de Acreditacion"})):null))))))},Fr=Object(j.b)((function(e){return{user:e.user,cheques:e.chequesPersonales,clientes:e.clientes,proveedores:e.proveedores}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.location.search?e.location.search.slice(1):""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],d=s[1],p=Object(c.useState)(!1),E=Object(g.a)(p,2),h=E[0],f=E[1],b=Object(c.useState)(""),v=Object(g.a)(b,2),j=(v[0],v[1]),O=Object(c.useState)(""),x=Object(g.a)(O,2),C=(x[0],x[1]),D=Object(c.useState)(void 0),S=Object(g.a)(D,2),N=S[0],P=S[1],I=function(a){f(!0);var t=e.cheques[a].valor,n=e.cheques[a].destinatario;T(n,a),F(t,n),Object(q.database)().ref().child(e.user.uid).child("chequesPersonales").child(a).update({dadoDeBaja:!0}).then((function(){d("El cheque se dio de baja correctamente!"),setTimeout((function(){f(!1),d("")}),2e3)})).catch((function(){f(!1)}))},w=function(a){f(!0);Object(q.database)().ref().child(e.user.uid).child("chequesPersonales").child(a).update({acreditado:!0,fechaAcreditacion:fe()}).then((function(){d("El cheque se acredito!"),setTimeout((function(){f(!1),d("")}),2e3)})).catch((function(){f(!1)}))},F=function(a,t){var n=e.proveedores[t].datos.deuda+parseFloat(a);Object(q.database)().ref().child(e.user.uid).child("proveedores").child("".concat(t)).child("datos").update({deuda:n})},T=function(a,t){var n=function(){return e.proveedores[a].datos.deuda},r={deudaPasada:n(),deudaActualizada:n()+parseFloat(e.cheques[t].valor),totalChequesPersonales:-e.cheques[t].valor,chequesPersonales:[e.cheques[t].numero],fecha:fe(),pagado:-e.cheques[t].valor,total:-e.cheques[t].valor};Object(q.database)().ref().child(e.user.uid).child("proveedores").child(a).child("pagos").push(r)},B=function(a,t){f(!0),Object(q.database)().ref().child(e.user.uid).child("cheques").child(a).update({grupo:t}).then((function(){d("El cheque Se Agrego Al Grupo!"),setTimeout((function(){f(!1),d("")}),2e3)}))};return Object(c.useEffect)((function(){if(f(!0),e.cheques){var a=function(){var a={},t=(new Date).getFullYear();return Object.keys(e.cheques).forEach((function(n){var r=e.cheques[n].vencimiento.split("/")[2];if(t==r){var c=e.cheques[n].vencimiento.split("/")[1];a[c]||(a[c]={total:0,totalDisponible:0,cheques:[]}),e.cheques[n].dadoDeBaja||(a[c].total+=parseInt(e.cheques[n].valor,10),e.cheques[n].destinatario||(a[c].totalDisponible+=parseInt(e.cheques[n].valor,10))),a[c].cheques=Object(m.a)({},a[c].cheques,Object(y.a)({},"".concat(n),e.cheques[n])),console.log(a[c].cheques)}})),a}();P(a)}!function(e){var a=0,t=0;e&&Object.keys(e).map((function(n){e[n].destinatario||e[n].dadoDeBaja||e[n].grupo&&("Blanco"==e[n].grupo?a+=parseFloat(e[n].valor):t+=parseFloat(e[n].valor))})),j(a),C(t)}(e.cheques),e.history.location.search&&l(e.history.location.search.slice(1)),setTimeout((function(){f(!1)}),500)}),[e.cheques]),o.a.createElement(ue,{history:e.history,page:"Cheques Personales",user:e.user.uid},o.a.createElement(me.a,{className:a.content},o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:6},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{value:r,onChange:function(e){l(e.target.value)},disabled:!e.cheques,label:"Buscar Cheque"}))),o.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",spacing:3},N?o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},Object.keys(N).reverse().map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(Ie.a,{className:a.CardMonthCheques},o.a.createElement(we.a,{title:"$ ".concat(he(N[e].total)),subheader:Ne[e-1]}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},Object.keys(N[e].cheques).map((function(a){return o.a.createElement(qr,{cheque:N[e].cheques[a],id:a,search:r,guardarChequeRebotado:I,asentarAcreditacion:w,guardarChequeEnGrupo:B})}))))}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{item:!0},o.a.createElement("img",{src:$e.a,alt:"",height:"500px"})),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(k.a,{variant:"h4"},"No hay Cheques Ingresados")))))),o.a.createElement(We.a,{className:a.backdrop,open:h},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:u,autoHideDuration:2e3,onClose:function(){d("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},u))))})),Tr=function(e){var a=e.cantidad,t=e.setCantidad;Pe();return o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(k.a,{variant:"h6"},"Cantidad Terminada")),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(pe.a,{autoFocus:!0,style:{width:"250px"},value:a,variant:"outlined",type:"number",onChange:function(e){t(e.target.value)},InputProps:{startAdornment:o.a.createElement(hn.a,{position:"start"},o.a.createElement(G.a,null))}})))},Br=Object(j.b)((function(e){return{user:e.user,productos:e.productos,proveedores:e.proveedores,cadenasActivas:e.cadenasActivas}}),null)((function(e){var a=Pe(),t=Object(c.useState)(e.cadenasActivas[e.location.search.slice(1)].cantidad?e.cadenasActivas[e.location.search.slice(1)].cantidad:void 0),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(0),s=Object(g.a)(i,2),m=s[0],p=s[1],E=Object(c.useState)(!1),h=Object(g.a)(E,2),f=h[0],b=h[1],v=Object(c.useState)(!1),j=Object(g.a)(v,2),O=j[0],y=j[1],x=["Detalles"],C=function(){p((function(e){return e+1}))},D=function(){p((function(e){return e-1}))};var k=function(a){var t=e.cadenasActivas[a].procesos,n=0;return t.map((function(e,a){e.fechaDeInicio&&(n=a)})),n},S=function(){var a=Object(d.a)(u.a.mark((function a(){var t,n,c,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.history.location.search.slice(1),n=k(t),c=e.cadenasActivas[t].procesos,y(!0),o={fecha:fe(),articulos:[{cantidad:r,producto:e.cadenasActivas[t].producto}],proveedor:"Tota",metodoDePago:{facturacion:!1}},l=Object(q.database)().ref().child(e.user.uid).child("proveedores").child("Tota").child("entregas").push(),I(o,l.key),b("El Proceso Finalizo Correctamente"),w(t,n,r,l.key),n!=c.length-1){a.next=14;break}return a.next=12,N(t);case 12:return a.next=14,P(t);case 14:l.update(o).then((function(){setTimeout((function(){e.history.replace("/Cadenas-De-Produccion"),n==c.length-1&&Object(q.database)().ref().child(e.user.uid).child("cadenasActivas").child(t).remove()}),2e3)})).catch((function(){y(!1)}));case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),N=function(){var a=Object(d.a)(u.a.mark((function a(t){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.cadenasActivas[t].producto,c=parseInt(e.productos[n].cantidad)+parseInt(r),a.next=4,Object(q.database)().ref().child(e.user.uid).child("productos").child(n).update({cantidad:c});case 4:return a.next=6,Object(q.database)().ref().child(e.user.uid).child("productos").child(n).child("historialDeStock").push({cantidad:c,fecha:fe()});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),P=function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(n=e.productos[e.cadenasActivas[t].producto].subproductos)&&n.map(function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=parseInt(e.productos[t.nombre].cantidad)-r*t.cantidad,a.next=3,Object(q.database)().ref().child(e.user.uid).child("productos").child(t.nombre).update({cantidad:n});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),I=function(a,t){var n=a;n.idEntrega=t,Object(q.database)().ref().child(e.user.uid).child("compras").push(n)},w=function(a,t,n,r){var c=e.cadenasActivas[a];c.cantidad=n,c.procesos[t].fechaDeEntrega=fe(),c.procesos[t].idEntrega=r,t==c.procesos.length-1?Object(q.database)().ref().child(e.user.uid).child("productos").child(c.producto).child("historialDeCadenas").push(c):Object(q.database)().ref().child(e.user.uid).child("cadenasActivas").child(a).update(c)};return o.a.createElement(ue,{history:e.history,page:"Finalizar Proceso Propio",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:m,className:a.stepper},x.map((function(e,t){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(G.a,null),label:e,onClick:function(){p(t)},variant:"default",className:m==t?a.iconLabelSelected:null}))}}(e,t),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,xs:12,justify:"center",spacing:3},function(e){switch(e){case 0:return o.a.createElement(Tr,{setCantidad:l,cantidad:r})}}(t),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===m,onClick:D},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:!r,onClick:m===x.length-1?S:C},m===x.length-1?"Finalizar":"Siguiente"))))))})))),o.a.createElement(We.a,{className:a.backdrop,open:O},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:f,autoHideDuration:2e3,onClose:function(){b("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},f))))})),Ar=function(e){var a=e.tipoDeDato,t=e.titulo,n=e.setTitulo,r=e.total,l=e.settotal,i=e.totalIva,s=e.settotalIva,u=(Pe(),Object(c.useState)(!1)),m=Object(g.a)(u,2),d=(m[0],m[1],Object(c.useState)(-1)),p=Object(g.a)(d,2),E=(p[0],p[1],Object(c.useState)(!1)),h=Object(g.a)(E,2),f=(h[0],h[1],Object(c.useState)(void 0)),b=Object(g.a)(f,2);b[0],b[1];return function(){switch(a){case"Factura":return o.a.createElement(me.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,spacing:3},o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Titulo",value:t,onChange:function(e){n(e.target.value)}}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Total IVA",type:"number",value:i,onChange:function(e){s(e.target.value)}}))),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(pe.a,{fullWidth:!0,label:"Total",type:"number",value:r,onChange:function(e){l(e.target.value)}})))))}}()},Lr=Object(j.b)((function(e){return{user:e.user,entregas:e.entregas}}),null)((function(e){var a=Pe(),t=Object(c.useState)(""),n=Object(g.a)(t,2),r=n[0],l=n[1],i=Object(c.useState)(""),s=Object(g.a)(i,2),u=s[0],m=s[1],d=Object(c.useState)(""),p=Object(g.a)(d,2),E=p[0],h=p[1],f=Object(c.useState)(void 0),b=Object(g.a)(f,2),v=b[0],j=b[1],O=Object(c.useState)(0),y=Object(g.a)(O,2),x=y[0],C=y[1],D=Object(c.useState)(!1),k=Object(g.a)(D,2),S=k[0],N=k[1],P=Object(c.useState)(!1),I=Object(g.a)(P,2),w=I[0],F=I[1],T=["Detalles"],B=function(){C((function(e){return e+1}))},A=function(){C((function(e){return e-1}))};var L=function(e){switch(e){case 0:return!(E&&r&&u)}};var H=function(){F(!0);var a={fecha:v||fe(),titulo:E,total:r,totalIva:u,consumoFacturado:!0,metodoDePago:{facturacion:!0}};e.history.location.search?Object(q.database)().ref().child(e.user.uid).child("compras").child(ve(e.history.location.search)).update(a).then((function(){N("El consumo se edit\xf3 correctamente!"),setTimeout((function(){e.history.replace("/")}),2e3)})).catch((function(){F(!1)})):Object(q.database)().ref().child(e.user.uid).child("compras").push(a).then((function(){N("El consumo se agreg\xf3 correctamente!"),setTimeout((function(){e.history.replace("/")}),2e3)})).catch((function(){F(!1)}))};return Object(c.useEffect)((function(){if(e.history.location.search){var a=e.entregas[e.history.location.search.slice(1)],t=a.titulo,n=a.total,r=a.totalIva,c=a.fecha;t&&h(t),n&&l(n),r&&m(r),c&&j(c),C(1)}}),[]),o.a.createElement(ue,{history:e.history,page:e.history.location.search?"Editar Consumo Facturado":"Nuevo Consumo Facturado",user:e.user.uid,blockGoBack:!0},o.a.createElement(me.a,{className:a.content},o.a.createElement(va.a,{orientation:"vertical",activeStep:x,className:a.stepper},T.map((function(t,n){return o.a.createElement(ga.a,null,function(e,t){switch(t){case 0:return o.a.createElement(ba.a,null,o.a.createElement(Be.a,{avatar:o.a.createElement(G.a,null),label:e,variant:"default",className:x==t?a.iconLabelSelected:null}))}}(t,n),o.a.createElement(ja.a,null,o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center",spacing:3},function(e){switch(e){case 0:return o.a.createElement(Ar,{tipoDeDato:"Factura",titulo:E,setTitulo:h,total:r,settotal:l,totalIva:u,settotalIva:m})}}(n),o.a.createElement(de.a,{container:!0,item:!0,xs:12,justify:"center"},o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{disabled:0===x,onClick:A},"Volver")),o.a.createElement(de.a,{item:!0},o.a.createElement(le.a,{variant:"contained",color:"primary",disabled:L(x),onClick:x===T.length-1?H:B},x===T.length-1?"".concat(e.history.location.search?"Guardar Edicion":"Guardar Consumo Facturado"):"Siguiente"))))))}))),o.a.createElement(We.a,{className:a.backdrop,open:w},o.a.createElement(Re.a,{color:"inherit"}),o.a.createElement(Ye.a,{open:S,autoHideDuration:2e3,onClose:function(){N("")}},o.a.createElement(Ue.a,{severity:"success",variant:"filled"},S)))))}));q.initializeApp({apiKey:"AIzaSyDPmTjxjMxN2abofP8ZczgFGeYQYSvbXHE",authDomain:"stock-119e8.firebaseapp.com",databaseURL:"https://stock-119e8.firebaseio.com",projectId:"stock-119e8",storageBucket:"stock-119e8.appspot.com",messagingSenderId:"1007277754269",appId:"1:1007277754269:web:d1db0def0da907b2"});var Hr=function(e){Object(h.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={loading:!0},e}return Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.auth().onAuthStateChanged(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,q.database().ref().child(t.uid);case 3:e.sent.on("value",(function(e){r=e.val();var c=[];fetch("https://www.dolarsi.com/api/api.php?type=valoresprincipales").then((function(e){return e.json()})).then((function(e){return c=e})).then((function(){n=Object(nr.b)(tr,Object(m.a)({dolares:c,user:t},r)),a.setState({store:n,user:t,loading:!1})}))})),e.next=9;break;case 7:a.setState({user:null,loading:!1}),a.setState({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(cr.a)({palette:{white:"#fff",primary:{light:"#5e92f3",main:"#01579b",dark:"#003c8f",contrastText:"#fff"},secondary:{light:"#4f5b62",main:"#263238",dark:"#000a12",contrastText:"#000"},info:{main:"#ffeb3b",contrastText:"#000"},danger:{main:"#c62828",light:"#ef5350"},success:{main:"#2e7d32",light:"#66bb6a",dark:"#43a047"},type:"dark"}});return this.state.loading?o.a.createElement(or.a,{theme:e},o.a.createElement(Qn,null)):this.state.user?o.a.createElement(or.a,{theme:e},o.a.createElement(j.a,{store:this.state.store},o.a.createElement(b.a,null,o.a.createElement(v.d,null,o.a.createElement(v.b,{exact:!0,path:"/",component:Dt}),o.a.createElement(v.b,{exact:!0,path:"/Iva",component:Xt}),o.a.createElement(v.b,{exact:!0,path:"/Clientes",component:ze}),o.a.createElement(v.b,{exact:!0,path:"/Cliente",component:fa}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Cliente",component:Wa}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Cliente",component:Wa}),o.a.createElement(v.b,{exact:!0,path:"/Proveedores",component:Ua}),o.a.createElement(v.b,{exact:!0,path:"/Proveedor",component:Xa}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Proveedor",component:Ra}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Proveedor",component:Ra}),o.a.createElement(v.b,{exact:!0,path:"/Expresos",component:Qa}),o.a.createElement(v.b,{exact:!0,path:"/Expreso",component:tt}),o.a.createElement(v.b,{exact:!0,path:"/Historial-Cliente",component:_t}),o.a.createElement(v.b,{exact:!0,path:"/Historial-Proveedor",component:tn}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Expreso",component:nt}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Expreso",component:nt}),o.a.createElement(v.b,{exact:!0,path:"/Deudas",component:Nt}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Consumo-Facturado",component:Lr}),o.a.createElement(v.b,{exact:!0,path:"/Cheques",component:Lt}),o.a.createElement(v.b,{exact:!0,path:"/Cheques-Personales",component:Fr}),o.a.createElement(v.b,{exact:!0,path:"/Depositar-Cheque",component:wr}),o.a.createElement(v.b,{exact:!0,path:"/Productos",component:zt}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Producto",component:Gn}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Producto",component:Gn}),o.a.createElement(v.b,{exact:!0,path:"/Cuentas-Bancarias",component:Sr}),o.a.createElement(v.b,{exact:!0,path:"/Nueva-Cuenta-Bancaria",component:Pr}),o.a.createElement(v.b,{exact:!0,path:"/Pedidos",component:nn}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Pedido",component:vt}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Pedido",component:vt}),o.a.createElement(v.b,{exact:!0,path:"/Enviar-Pedido",component:Pn}),o.a.createElement(v.b,{exact:!0,path:"/Entregas",component:cn}),o.a.createElement(v.b,{exact:!0,path:"/Nueva-Entrega",component:En}),o.a.createElement(v.b,{exact:!0,path:"/Editar-Entrega",component:En}),o.a.createElement(v.b,{exact:!0,path:"/Recibir-Entrega",component:xn}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Pago-Cliente",component:Er}),o.a.createElement(v.b,{exact:!0,path:"/Nuevo-Pago-Proveedor",component:pr}),o.a.createElement(v.b,{exact:!0,path:"/Cadenas-De-Produccion",component:br}),o.a.createElement(v.b,{exact:!0,path:"/Historial-De-Produccion",component:gr}),o.a.createElement(v.b,{exact:!0,path:"/Finalizar-Proceso",component:Dr}),o.a.createElement(v.b,{exact:!0,path:"/Finalizar-Proceso-Propio",component:Br}),o.a.createElement(v.b,{component:rr}))))):o.a.createElement(or.a,{theme:e},o.a.createElement(b.a,null,o.a.createElement(v.d,null,o.a.createElement(v.b,{exact:!0,path:"/",component:ar}),o.a.createElement(v.b,{component:rr}))))}}]),t}(c.Component),Mr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $r(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(Hr,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");Mr?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$r(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$r(a,e)}))}}()},77:function(e,a,t){e.exports=t.p+"static/media/noData.30b0273c.png"}},[[159,1,2]]]);
//# sourceMappingURL=main.16b3713e.chunk.js.map